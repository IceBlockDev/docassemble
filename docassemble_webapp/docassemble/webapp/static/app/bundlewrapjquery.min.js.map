{"version":3,"sources":["docassemble_webapp/docassemble/webapp/static/app/bundlewrapjquery.js"],"sourcesContent":["(function($) {/*!\n * jQuery Validation Plugin v1.19.5\n *\n * https://jqueryvalidation.org/\n *\n * Copyright (c) 2022 JÃ¶rn Zaefferer\n * Released under the MIT license\n */\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n$.extend( $.fn, {\n\n\t// https://jqueryvalidation.org/validate/\n\tvalidate: function( options ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\tif ( options && options.debug && window.console ) {\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if a validator for this form was already created\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\n\t\tif ( validator ) {\n\t\t\treturn validator;\n\t\t}\n\n\t\t// Add novalidate tag if HTML5.\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\n\n\t\tvalidator = new $.validator( options, this[ 0 ] );\n\t\t$.data( this[ 0 ], \"validator\", validator );\n\n\t\tif ( validator.settings.onsubmit ) {\n\n\t\t\tthis.on( \"click.validate\", \":submit\", function( event ) {\n\n\t\t\t\t// Track the used submit button to properly handle scripted\n\t\t\t\t// submits later.\n\t\t\t\tvalidator.submitButton = event.currentTarget;\n\n\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\tif ( $( this ).hasClass( \"cancel\" ) ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\tif ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Validate the form on submit\n\t\t\tthis.on( \"submit.validate\", function( event ) {\n\t\t\t\tif ( validator.settings.debug ) {\n\n\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tfunction handle() {\n\t\t\t\t\tvar hidden, result;\n\n\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t// The hidden input is inserted in two cases:\n\t\t\t\t\t//   - A user defined a `submitHandler`\n\t\t\t\t\t//   - There was a pending request due to `remote` method and `stopRequest()`\n\t\t\t\t\t//     was called to submit the form in case it's valid\n\t\t\t\t\tif ( validator.submitButton && ( validator.settings.submitHandler || validator.formSubmitted ) ) {\n\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\n\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\n\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\n\t\t\t\t\t\t\t.appendTo( validator.currentForm );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( validator.settings.submitHandler && !validator.settings.debug ) {\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\n\t\t\t\t\t\tif ( hidden ) {\n\n\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== undefined ) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\tif ( validator.cancelSubmit ) {\n\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\treturn handle();\n\t\t\t\t}\n\t\t\t\tif ( validator.form() ) {\n\t\t\t\t\tif ( validator.pendingRequest ) {\n\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn handle();\n\t\t\t\t} else {\n\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn validator;\n\t},\n\n\t// https://jqueryvalidation.org/valid/\n\tvalid: function() {\n\t\tvar valid, validator, errorList;\n\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\n\t\t\tvalid = this.validate().form();\n\t\t} else {\n\t\t\terrorList = [];\n\t\t\tvalid = true;\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\n\t\t\tthis.each( function() {\n\t\t\t\tvalid = validator.element( this ) && valid;\n\t\t\t\tif ( !valid ) {\n\t\t\t\t\terrorList = errorList.concat( validator.errorList );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tvalidator.errorList = errorList;\n\t\t}\n\t\treturn valid;\n\t},\n\n\t// https://jqueryvalidation.org/rules/\n\trules: function( command, argument ) {\n\t\tvar element = this[ 0 ],\n\t\t\tisContentEditable = typeof this.attr( \"contenteditable\" ) !== \"undefined\" && this.attr( \"contenteditable\" ) !== \"false\",\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\n\n\t\t// If nothing is selected, return empty object; can't chain anyway\n\t\tif ( element == null ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !element.form && isContentEditable ) {\n\t\t\telement.form = this.closest( \"form\" )[ 0 ];\n\t\t\telement.name = this.attr( \"name\" );\n\t\t}\n\n\t\tif ( element.form == null ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( command ) {\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\n\t\t\tstaticRules = settings.rules;\n\t\t\texistingRules = $.validator.staticRules( element );\n\t\t\tswitch ( command ) {\n\t\t\tcase \"add\":\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\n\n\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\tdelete existingRules.messages;\n\t\t\t\tstaticRules[ element.name ] = existingRules;\n\t\t\t\tif ( argument.messages ) {\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"remove\":\n\t\t\t\tif ( !argument ) {\n\t\t\t\t\tdelete staticRules[ element.name ];\n\t\t\t\t\treturn existingRules;\n\t\t\t\t}\n\t\t\t\tfiltered = {};\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\n\t\t\t\t\tdelete existingRules[ method ];\n\t\t\t\t} );\n\t\t\t\treturn filtered;\n\t\t\t}\n\t\t}\n\n\t\tdata = $.validator.normalizeRules(\n\t\t$.extend(\n\t\t\t{},\n\t\t\t$.validator.classRules( element ),\n\t\t\t$.validator.attributeRules( element ),\n\t\t\t$.validator.dataRules( element ),\n\t\t\t$.validator.staticRules( element )\n\t\t), element );\n\n\t\t// Make sure required is at front\n\t\tif ( data.required ) {\n\t\t\tparam = data.required;\n\t\t\tdelete data.required;\n\t\t\tdata = $.extend( { required: param }, data );\n\t\t}\n\n\t\t// Make sure remote is at back\n\t\tif ( data.remote ) {\n\t\t\tparam = data.remote;\n\t\t\tdelete data.remote;\n\t\t\tdata = $.extend( data, { remote: param } );\n\t\t}\n\n\t\treturn data;\n\t}\n} );\n\n// JQuery trim is deprecated, provide a trim method based on String.prototype.trim\nvar trim = function( str ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim#Polyfill\n\treturn str.replace( /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\" );\n};\n\n// Custom selectors\n$.extend( $.expr.pseudos || $.expr[ \":\" ], {\t\t// '|| $.expr[ \":\" ]' here enables backwards compatibility to jQuery 1.7. Can be removed when dropping jQ 1.7.x support\n\n\t// https://jqueryvalidation.org/blank-selector/\n\tblank: function( a ) {\n\t\treturn !trim( \"\" + $( a ).val() );\n\t},\n\n\t// https://jqueryvalidation.org/filled-selector/\n\tfilled: function( a ) {\n\t\tvar val = $( a ).val();\n\t\treturn val !== null && !!trim( \"\" + val );\n\t},\n\n\t// https://jqueryvalidation.org/unchecked-selector/\n\tunchecked: function( a ) {\n\t\treturn !$( a ).prop( \"checked\" );\n\t}\n} );\n\n// Constructor for validator\n$.validator = function( options, form ) {\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\n\tthis.currentForm = form;\n\tthis.init();\n};\n\n// https://jqueryvalidation.org/jQuery.validator.format/\n$.validator.format = function( source, params ) {\n\tif ( arguments.length === 1 ) {\n\t\treturn function() {\n\t\t\tvar args = $.makeArray( arguments );\n\t\t\targs.unshift( source );\n\t\t\treturn $.validator.format.apply( this, args );\n\t\t};\n\t}\n\tif ( params === undefined ) {\n\t\treturn source;\n\t}\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\n\t\tparams = $.makeArray( arguments ).slice( 1 );\n\t}\n\tif ( params.constructor !== Array ) {\n\t\tparams = [ params ];\n\t}\n\t$.each( params, function( i, n ) {\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n\t\t\treturn n;\n\t\t} );\n\t} );\n\treturn source;\n};\n\n$.extend( $.validator, {\n\n\tdefaults: {\n\t\tmessages: {},\n\t\tgroups: {},\n\t\trules: {},\n\t\terrorClass: \"error\",\n\t\tpendingClass: \"pending\",\n\t\tvalidClass: \"valid\",\n\t\terrorElement: \"label\",\n\t\tfocusCleanup: false,\n\t\tfocusInvalid: true,\n\t\terrorContainer: $( [] ),\n\t\terrorLabelContainer: $( [] ),\n\t\tonsubmit: true,\n\t\tignore: \":hidden\",\n\t\tignoreTitle: false,\n\t\tonfocusin: function( element ) {\n\t\t\tthis.lastActive = element;\n\n\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\tif ( this.settings.focusCleanup ) {\n\t\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\n\t\t\t}\n\t\t},\n\t\tonfocusout: function( element ) {\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonkeyup: function( element, event ) {\n\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t// Shift       => 16\n\t\t\t// Ctrl        => 17\n\t\t\t// Alt         => 18\n\t\t\t// Caps lock   => 20\n\t\t\t// End         => 35\n\t\t\t// Home        => 36\n\t\t\t// Left arrow  => 37\n\t\t\t// Up arrow    => 38\n\t\t\t// Right arrow => 39\n\t\t\t// Down arrow  => 40\n\t\t\t// Insert      => 45\n\t\t\t// Num lock    => 144\n\t\t\t// AltGr key   => 225\n\t\t\tvar excludedKeys = [\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\n\t\t\t\t38, 39, 40, 45, 144, 225\n\t\t\t];\n\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t} else if ( element.name in this.submitted || element.name in this.invalid ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonclick: function( element ) {\n\n\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\tif ( element.name in this.submitted ) {\n\t\t\t\tthis.element( element );\n\n\t\t\t// Or option elements, check parent select in that case\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\n\t\t\t\tthis.element( element.parentNode );\n\t\t\t}\n\t\t},\n\t\thighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\n\t\t\t}\n\t\t},\n\t\tunhighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\n\t\t\t}\n\t\t}\n\t},\n\n\t// https://jqueryvalidation.org/jQuery.validator.setDefaults/\n\tsetDefaults: function( settings ) {\n\t\t$.extend( $.validator.defaults, settings );\n\t},\n\n\tmessages: {\n\t\trequired: \"This field is required.\",\n\t\tremote: \"Please fix this field.\",\n\t\temail: \"Please enter a valid email address.\",\n\t\turl: \"Please enter a valid URL.\",\n\t\tdate: \"Please enter a valid date.\",\n\t\tdateISO: \"Please enter a valid date (ISO).\",\n\t\tnumber: \"Please enter a valid number.\",\n\t\tdigits: \"Please enter only digits.\",\n\t\tequalTo: \"Please enter the same value again.\",\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\n\t\tstep: $.validator.format( \"Please enter a multiple of {0}.\" )\n\t},\n\n\tautoCreateRanges: false,\n\n\tprototype: {\n\n\t\tinit: function() {\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\n\t\t\tthis.submitted = {};\n\t\t\tthis.valueCache = {};\n\t\t\tthis.pendingRequest = 0;\n\t\t\tthis.pending = {};\n\t\t\tthis.invalid = {};\n\t\t\tthis.reset();\n\n\t\t\tvar currentForm = this.currentForm,\n\t\t\t\tgroups = ( this.groups = {} ),\n\t\t\t\trules;\n\t\t\t$.each( this.settings.groups, function( key, value ) {\n\t\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\t\tvalue = value.split( /\\s/ );\n\t\t\t\t}\n\t\t\t\t$.each( value, function( index, name ) {\n\t\t\t\t\tgroups[ name ] = key;\n\t\t\t\t} );\n\t\t\t} );\n\t\t\trules = this.settings.rules;\n\t\t\t$.each( rules, function( key, value ) {\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\n\t\t\t} );\n\n\t\t\tfunction delegate( event ) {\n\t\t\t\tvar isContentEditable = typeof $( this ).attr( \"contenteditable\" ) !== \"undefined\" && $( this ).attr( \"contenteditable\" ) !== \"false\";\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( !this.form && isContentEditable ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t\tthis.name = $( this ).attr( \"name\" );\n\t\t\t\t}\n\n\t\t\t\t// Ignore the element if it belongs to another form. This will happen mainly\n\t\t\t\t// when setting the `form` attribute of an input to the id of another form.\n\t\t\t\tif ( currentForm !== this.form ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar validator = $.data( this.form, \"validator\" ),\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n\t\t\t\t\tsettings = validator.settings;\n\t\t\t\tif ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\n\t\t\t\t\tsettings[ eventType ].call( validator, this, event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate\",\n\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable], [type='button']\", delegate )\n\n\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t.on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\n\n\t\t\tif ( this.settings.invalidHandler ) {\n\t\t\t\t$( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\n\t\t\t}\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.form/\n\t\tform: function() {\n\t\t\tthis.checkForm();\n\t\t\t$.extend( this.submitted, this.errorMap );\n\t\t\tthis.invalid = $.extend( {}, this.errorMap );\n\t\t\tif ( !this.valid() ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t}\n\t\t\tthis.showErrors();\n\t\t\treturn this.valid();\n\t\t},\n\n\t\tcheckForm: function() {\n\t\t\tthis.prepareForm();\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\n\t\t\t\tthis.check( elements[ i ] );\n\t\t\t}\n\t\t\treturn this.valid();\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.element/\n\t\telement: function( element ) {\n\t\t\tvar cleanElement = this.clean( element ),\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\n\t\t\t\tv = this,\n\t\t\t\tresult = true,\n\t\t\t\trs, group;\n\n\t\t\tif ( checkElement === undefined ) {\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\n\t\t\t} else {\n\t\t\t\tthis.prepareElement( checkElement );\n\t\t\t\tthis.currentElements = $( checkElement );\n\n\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t// containing a value\n\t\t\t\tgroup = this.groups[ checkElement.name ];\n\t\t\t\tif ( group ) {\n\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\n\t\t\t\t\t\tif ( testgroup === group && name !== checkElement.name ) {\n\t\t\t\t\t\t\tcleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\n\t\t\t\t\t\t\tif ( cleanElement && cleanElement.name in v.invalid ) {\n\t\t\t\t\t\t\t\tv.currentElements.push( cleanElement );\n\t\t\t\t\t\t\t\tresult = v.check( cleanElement ) && result;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\trs = this.check( checkElement ) !== false;\n\t\t\t\tresult = result && rs;\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\n\t\t\t\t}\n\n\t\t\t\tif ( !this.numberOfInvalids() ) {\n\n\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\tthis.toHide = this.toHide.add( this.containers );\n\t\t\t\t}\n\t\t\t\tthis.showErrors();\n\n\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t$( element ).attr( \"aria-invalid\", !rs );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.showErrors/\n\t\tshowErrors: function( errors ) {\n\t\t\tif ( errors ) {\n\t\t\t\tvar validator = this;\n\n\t\t\t\t// Add items to error list and map\n\t\t\t\t$.extend( this.errorMap, errors );\n\t\t\t\tthis.errorList = $.map( this.errorMap, function( message, name ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: validator.findByName( name )[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t\t// Remove items from success list\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\n\t\t\t\t\treturn !( element.name in errors );\n\t\t\t\t} );\n\t\t\t}\n\t\t\tif ( this.settings.showErrors ) {\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\n\t\t\t} else {\n\t\t\t\tthis.defaultShowErrors();\n\t\t\t}\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.resetForm/\n\t\tresetForm: function() {\n\t\t\tif ( $.fn.resetForm ) {\n\t\t\t\t$( this.currentForm ).resetForm();\n\t\t\t}\n\t\t\tthis.invalid = {};\n\t\t\tthis.submitted = {};\n\t\t\tthis.prepareForm();\n\t\t\tthis.hideErrors();\n\t\t\tvar elements = this.elements()\n\t\t\t\t.removeData( \"previousValue\" )\n\t\t\t\t.removeAttr( \"aria-invalid\" );\n\n\t\t\tthis.resetElements( elements );\n\t\t},\n\n\t\tresetElements: function( elements ) {\n\t\t\tvar i;\n\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\n\t\t\t\t\tthis.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telements\n\t\t\t\t\t.removeClass( this.settings.errorClass )\n\t\t\t\t\t.removeClass( this.settings.validClass );\n\t\t\t}\n\t\t},\n\n\t\tnumberOfInvalids: function() {\n\t\t\treturn this.objectLength( this.invalid );\n\t\t},\n\n\t\tobjectLength: function( obj ) {\n\t\t\t/* jshint unused: false */\n\t\t\tvar count = 0,\n\t\t\t\ti;\n\t\t\tfor ( i in obj ) {\n\n\t\t\t\t// This check allows counting elements with empty error\n\t\t\t\t// message as invalid elements\n\t\t\t\tif ( obj[ i ] !== undefined && obj[ i ] !== null && obj[ i ] !== false ) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\thideErrors: function() {\n\t\t\tthis.hideThese( this.toHide );\n\t\t},\n\n\t\thideThese: function( errors ) {\n\t\t\terrors.not( this.containers ).text( \"\" );\n\t\t\tthis.addWrapper( errors ).hide();\n\t\t},\n\n\t\tvalid: function() {\n\t\t\treturn this.size() === 0;\n\t\t},\n\n\t\tsize: function() {\n\t\t\treturn this.errorList.length;\n\t\t},\n\n\t\tfocusInvalid: function() {\n\t\t\tif ( this.settings.focusInvalid ) {\n\t\t\t\ttry {\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\n\t\t\t\t\t.filter( \":visible\" )\n\t\t\t\t\t.trigger( \"focus\" )\n\n\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t.trigger( \"focusin\" );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindLastActive: function() {\n\t\t\tvar lastActive = this.lastActive;\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\n\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t} ).length === 1 && lastActive;\n\t\t},\n\n\t\telements: function() {\n\t\t\tvar validator = this,\n\t\t\t\trulesCache = {};\n\n\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\treturn $( this.currentForm )\n\t\t\t.find( \"input, select, textarea, [contenteditable]\" )\n\t\t\t.not( \":submit, :reset, :image, :disabled\" )\n\t\t\t.not( this.settings.ignore )\n\t\t\t.filter( function() {\n\t\t\t\tvar name = this.name || $( this ).attr( \"name\" ); // For contenteditable\n\t\t\t\tvar isContentEditable = typeof $( this ).attr( \"contenteditable\" ) !== \"undefined\" && $( this ).attr( \"contenteditable\" ) !== \"false\";\n\n\t\t\t\tif ( !name && validator.settings.debug && window.console ) {\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\n\t\t\t\t}\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( isContentEditable ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t\tthis.name = name;\n\t\t\t\t}\n\n\t\t\t\t// Ignore elements that belong to other/nested forms\n\t\t\t\tif ( this.form !== validator.currentForm ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\tif ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\trulesCache[ name ] = true;\n\t\t\t\treturn true;\n\t\t\t} );\n\t\t},\n\n\t\tclean: function( selector ) {\n\t\t\treturn $( selector )[ 0 ];\n\t\t},\n\n\t\terrors: function() {\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\n\t\t},\n\n\t\tresetInternals: function() {\n\t\t\tthis.successList = [];\n\t\t\tthis.errorList = [];\n\t\t\tthis.errorMap = {};\n\t\t\tthis.toShow = $( [] );\n\t\t\tthis.toHide = $( [] );\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.resetInternals();\n\t\t\tthis.currentElements = $( [] );\n\t\t},\n\n\t\tprepareForm: function() {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errors().add( this.containers );\n\t\t},\n\n\t\tprepareElement: function( element ) {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errorsFor( element );\n\t\t},\n\n\t\telementValue: function( element ) {\n\t\t\tvar $element = $( element ),\n\t\t\t\ttype = element.type,\n\t\t\t\tisContentEditable = typeof $element.attr( \"contenteditable\" ) !== \"undefined\" && $element.attr( \"contenteditable\" ) !== \"false\",\n\t\t\t\tval, idx;\n\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\n\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).val();\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t}\n\n\t\t\tif ( isContentEditable ) {\n\t\t\t\tval = $element.text();\n\t\t\t} else {\n\t\t\t\tval = $element.val();\n\t\t\t}\n\n\t\t\tif ( type === \"file\" ) {\n\n\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\tif ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\n\t\t\t\t\treturn val.substr( 12 );\n\t\t\t\t}\n\n\t\t\t\t// Legacy browsers\n\t\t\t\t// Unix-based path\n\t\t\t\tidx = val.lastIndexOf( \"/\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Windows-based path\n\t\t\t\tidx = val.lastIndexOf( \"\\\\\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Just the file name\n\t\t\t\treturn val;\n\t\t\t}\n\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\treturn val.replace( /\\r/g, \"\" );\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\tcheck: function( element ) {\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\n\n\t\t\tvar rules = $( element ).rules(),\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\n\t\t\t\t\treturn i;\n\t\t\t\t} ).length,\n\t\t\t\tdependencyMismatch = false,\n\t\t\t\tval = this.elementValue( element ),\n\t\t\t\tresult, method, rule, normalizer;\n\n\t\t\t// Prioritize the local normalizer defined for this element over the global one\n\t\t\t// if the former exists, otherwise user the global one in case it exists.\n\t\t\tif ( typeof rules.normalizer === \"function\" ) {\n\t\t\t\tnormalizer = rules.normalizer;\n\t\t\t} else if (\ttypeof this.settings.normalizer === \"function\" ) {\n\t\t\t\tnormalizer = this.settings.normalizer;\n\t\t\t}\n\n\t\t\t// If normalizer is defined, then call it to retreive the changed value instead\n\t\t\t// of using the real one.\n\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\tif ( normalizer ) {\n\t\t\t\tval = normalizer.call( element, val );\n\n\t\t\t\t// Delete the normalizer from rules to avoid treating it as a pre-defined method.\n\t\t\t\tdelete rules.normalizer;\n\t\t\t}\n\n\t\t\tfor ( method in rules ) {\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\n\t\t\t\ttry {\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdependencyMismatch = false;\n\n\t\t\t\t\tif ( result === \"pending\" ) {\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n\t\t\t\t\t}\n\t\t\t\t\tif ( e instanceof TypeError ) {\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( dependencyMismatch ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( this.objectLength( rules ) ) {\n\t\t\t\tthis.successList.push( element );\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Return the custom message for the given element and validation method\n\t\t// specified in the element's HTML5 data attribute\n\t\t// return the generic message if present and no method specific message is present\n\t\tcustomDataMessage: function( element, method ) {\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\n\t\t},\n\n\t\t// Return the custom message for the given element name and validation method\n\t\tcustomMessage: function( name, method ) {\n\t\t\tvar m = this.settings.messages[ name ];\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ] );\n\t\t},\n\n\t\t// Return the first defined argument, allowing empty strings\n\t\tfindDefined: function() {\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\n\t\t\t\t\treturn arguments[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\n\t\t// The second parameter 'rule' used to be a string, and extended to an object literal\n\t\t// of the following form:\n\t\t// rule = {\n\t\t//     method: \"method name\",\n\t\t//     parameters: \"the given method parameters\"\n\t\t// }\n\t\t//\n\t\t// The old behavior still supported, kept to maintain backward compatibility with\n\t\t// old code, and will be removed in the next major release.\n\t\tdefaultMessage: function( element, rule ) {\n\t\t\tif ( typeof rule === \"string\" ) {\n\t\t\t\trule = { method: rule };\n\t\t\t}\n\n\t\t\tvar message = this.findDefined(\n\t\t\t\t\tthis.customMessage( element.name, rule.method ),\n\t\t\t\t\tthis.customDataMessage( element, rule.method ),\n\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\n\t\t\t\t\t$.validator.messages[ rule.method ],\n\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n\t\t\t\t),\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\tif ( typeof message === \"function\" ) {\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\n\t\t\t} else if ( theregex.test( message ) ) {\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\n\t\t\t}\n\n\t\t\treturn message;\n\t\t},\n\n\t\tformatAndAdd: function( element, rule ) {\n\t\t\tvar message = this.defaultMessage( element, rule );\n\n\t\t\tthis.errorList.push( {\n\t\t\t\tmessage: message,\n\t\t\t\telement: element,\n\t\t\t\tmethod: rule.method\n\t\t\t} );\n\n\t\t\tthis.errorMap[ element.name ] = message;\n\t\t\tthis.submitted[ element.name ] = message;\n\t\t},\n\n\t\taddWrapper: function( toToggle ) {\n\t\t\tif ( this.settings.wrapper ) {\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n\t\t\t}\n\t\t\treturn toToggle;\n\t\t},\n\n\t\tdefaultShowErrors: function() {\n\t\t\tvar i, elements, error;\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\n\t\t\t\terror = this.errorList[ i ];\n\t\t\t\tif ( this.settings.highlight ) {\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.showLabel( error.element, error.message );\n\t\t\t}\n\t\t\tif ( this.errorList.length ) {\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\n\t\t\t}\n\t\t\tif ( this.settings.success ) {\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\n\t\t\tthis.hideErrors();\n\t\t\tthis.addWrapper( this.toShow ).show();\n\t\t},\n\n\t\tvalidElements: function() {\n\t\t\treturn this.currentElements.not( this.invalidElements() );\n\t\t},\n\n\t\tinvalidElements: function() {\n\t\t\treturn $( this.errorList ).map( function() {\n\t\t\t\treturn this.element;\n\t\t\t} );\n\t\t},\n\n\t\tshowLabel: function( element, message ) {\n\t\t\tvar place, group, errorID, v,\n\t\t\t\terror = this.errorsFor( element ),\n\t\t\t\telementID = this.idOrName( element ),\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\n\n\t\t\tif ( error.length ) {\n\n\t\t\t\t// Refresh error/success class\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n\n\t\t\t\t// Replace message on existing label\n\t\t\t\terror.html( message );\n\t\t\t} else {\n\n\t\t\t\t// Create error element\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\n\t\t\t\t\t.addClass( this.settings.errorClass )\n\t\t\t\t\t.html( message || \"\" );\n\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\tplace = error;\n\t\t\t\tif ( this.settings.wrapper ) {\n\n\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\n\t\t\t\t}\n\t\t\t\tif ( this.labelContainer.length ) {\n\t\t\t\t\tthis.labelContainer.append( place );\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\n\t\t\t\t\tthis.settings.errorPlacement.call( this, place, $( element ) );\n\t\t\t\t} else {\n\t\t\t\t\tplace.insertAfter( element );\n\t\t\t\t}\n\n\t\t\t\t// Link error back to the element\n\t\t\t\tif ( error.is( \"label\" ) ) {\n\n\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\terror.attr( \"for\", elementID );\n\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t} else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\n\t\t\t\t\terrorID = error.attr( \"id\" );\n\n\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\tif ( !describedBy ) {\n\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\n\n\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t}\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\n\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\tgroup = this.groups[ element.name ];\n\t\t\t\t\tif ( group ) {\n\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t$.each( v.groups, function( name, testgroup ) {\n\t\t\t\t\t\t\tif ( testgroup === group ) {\n\t\t\t\t\t\t\t\t$( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !message && this.settings.success ) {\n\t\t\t\terror.text( \"\" );\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\n\t\t\t\t\terror.addClass( this.settings.success );\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings.success( error, element );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toShow = this.toShow.add( error );\n\t\t},\n\n\t\terrorsFor: function( element ) {\n\t\t\tvar name = this.escapeCssMeta( this.idOrName( element ) ),\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\n\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\tif ( describer ) {\n\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta( describer )\n\t\t\t\t\t.replace( /\\s+/g, \", #\" );\n\t\t\t}\n\n\t\t\treturn this\n\t\t\t\t.errors()\n\t\t\t\t.filter( selector );\n\t\t},\n\n\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t// as a literal part of a name/id or any selector.\n\t\tescapeCssMeta: function( string ) {\n\t\t\tif ( string === undefined ) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\treturn string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\n\t\t},\n\n\t\tidOrName: function( element ) {\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\n\t\t},\n\n\t\tvalidationTargetFor: function( element ) {\n\n\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\telement = this.findByName( element.name );\n\t\t\t}\n\n\t\t\t// Always apply ignore filter\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\n\t\t},\n\n\t\tcheckable: function( element ) {\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\n\t\t},\n\n\t\tfindByName: function( name ) {\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\n\t\t},\n\n\t\tgetLength: function( value, element ) {\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\n\t\t\tcase \"select\":\n\t\t\t\treturn $( \"option:selected\", element ).length;\n\t\t\tcase \"input\":\n\t\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value.length;\n\t\t},\n\n\t\tdepend: function( param, element ) {\n\t\t\treturn this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\n\t\t},\n\n\t\tdependTypes: {\n\t\t\t\"boolean\": function( param ) {\n\t\t\t\treturn param;\n\t\t\t},\n\t\t\t\"string\": function( param, element ) {\n\t\t\t\treturn !!$( param, element.form ).length;\n\t\t\t},\n\t\t\t\"function\": function( param, element ) {\n\t\t\t\treturn param( element );\n\t\t\t}\n\t\t},\n\n\t\toptional: function( element ) {\n\t\t\tvar val = this.elementValue( element );\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n\t\t},\n\n\t\tstartRequest: function( element ) {\n\t\t\tif ( !this.pending[ element.name ] ) {\n\t\t\t\tthis.pendingRequest++;\n\t\t\t\t$( element ).addClass( this.settings.pendingClass );\n\t\t\t\tthis.pending[ element.name ] = true;\n\t\t\t}\n\t\t},\n\n\t\tstopRequest: function( element, valid ) {\n\t\t\tthis.pendingRequest--;\n\n\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\tif ( this.pendingRequest < 0 ) {\n\t\t\t\tthis.pendingRequest = 0;\n\t\t\t}\n\t\t\tdelete this.pending[ element.name ];\n\t\t\t$( element ).removeClass( this.settings.pendingClass );\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() && this.pendingRequest === 0 ) {\n\t\t\t\t$( this.currentForm ).trigger( \"submit\" );\n\n\t\t\t\t// Remove the hidden input that was used as a replacement for the\n\t\t\t\t// missing submit button. The hidden input is added by `handle()`\n\t\t\t\t// to ensure that the value of the used submit button is passed on\n\t\t\t\t// for scripted submits triggered by this method\n\t\t\t\tif ( this.submitButton ) {\n\t\t\t\t\t$( \"input:hidden[name='\" + this.submitButton.name + \"']\", this.currentForm ).remove();\n\t\t\t\t}\n\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t}\n\t\t},\n\n\t\tpreviousValue: function( element, method ) {\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\n\t\t\t\told: null,\n\t\t\t\tvalid: true,\n\t\t\t\tmessage: this.defaultMessage( element, { method: method } )\n\t\t\t} );\n\t\t},\n\n\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\tdestroy: function() {\n\t\t\tthis.resetForm();\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.off( \".validate\" )\n\t\t\t\t.removeData( \"validator\" )\n\t\t\t\t.find( \".validate-equalTo-blur\" )\n\t\t\t\t\t.off( \".validate-equalTo\" )\n\t\t\t\t\t.removeClass( \"validate-equalTo-blur\" )\n\t\t\t\t.find( \".validate-lessThan-blur\" )\n\t\t\t\t\t.off( \".validate-lessThan\" )\n\t\t\t\t\t.removeClass( \"validate-lessThan-blur\" )\n\t\t\t\t.find( \".validate-lessThanEqual-blur\" )\n\t\t\t\t\t.off( \".validate-lessThanEqual\" )\n\t\t\t\t\t.removeClass( \"validate-lessThanEqual-blur\" )\n\t\t\t\t.find( \".validate-greaterThanEqual-blur\" )\n\t\t\t\t\t.off( \".validate-greaterThanEqual\" )\n\t\t\t\t\t.removeClass( \"validate-greaterThanEqual-blur\" )\n\t\t\t\t.find( \".validate-greaterThan-blur\" )\n\t\t\t\t\t.off( \".validate-greaterThan\" )\n\t\t\t\t\t.removeClass( \"validate-greaterThan-blur\" );\n\t\t}\n\n\t},\n\n\tclassRuleSettings: {\n\t\trequired: { required: true },\n\t\temail: { email: true },\n\t\turl: { url: true },\n\t\tdate: { date: true },\n\t\tdateISO: { dateISO: true },\n\t\tnumber: { number: true },\n\t\tdigits: { digits: true },\n\t\tcreditcard: { creditcard: true }\n\t},\n\n\taddClassRules: function( className, rules ) {\n\t\tif ( className.constructor === String ) {\n\t\t\tthis.classRuleSettings[ className ] = rules;\n\t\t} else {\n\t\t\t$.extend( this.classRuleSettings, className );\n\t\t}\n\t},\n\n\tclassRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tclasses = $( element ).attr( \"class\" );\n\n\t\tif ( classes ) {\n\t\t\t$.each( classes.split( \" \" ), function() {\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeAttributeRule: function( rules, type, method, value ) {\n\n\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t// allows type=\"date\" and others to be compared as strings\n\t\tif ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n\t\t\tvalue = Number( value );\n\n\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\tif ( isNaN( value ) ) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif ( value || value === 0 ) {\n\t\t\trules[ method ] = value;\n\t\t} else if ( type === method && type !== \"range\" ) {\n\n\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t// does not test for the html5 'range' type\n\t\t\trules[ type === \"date\" ? \"dateISO\" : method ] = true;\n\t\t}\n\t},\n\n\tattributeRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\n\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\tif ( method === \"required\" ) {\n\t\t\t\tvalue = element.getAttribute( method );\n\n\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t}\n\n\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\tvalue = !!value;\n\t\t\t} else {\n\t\t\t\tvalue = $element.attr( method );\n\t\t\t}\n\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\n\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n\t\t\tdelete rules.maxlength;\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\tdataRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\n\t\t\t// Cast empty attributes like `data-rule-required` to `true`\n\t\t\tif ( value === \"\" ) {\n\t\t\t\tvalue = true;\n\t\t\t}\n\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tstaticRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tvalidator = $.data( element.form, \"validator\" );\n\n\t\tif ( validator.settings.rules ) {\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeRules: function( rules, element ) {\n\n\t\t// Handle dependency check\n\t\t$.each( rules, function( prop, val ) {\n\n\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\tif ( val === false ) {\n\t\t\t\tdelete rules[ prop ];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( val.param || val.depends ) {\n\t\t\t\tvar keepRule = true;\n\t\t\t\tswitch ( typeof val.depends ) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"function\":\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( keepRule ) {\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\n\t\t\t\t} else {\n\t\t\t\t\t$.data( element.form, \"validator\" ).resetElements( $( element ) );\n\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Evaluate parameters\n\t\t$.each( rules, function( rule, parameter ) {\n\t\t\trules[ rule ] = typeof parameter === \"function\" && rule !== \"normalizer\" ? parameter( element ) : parameter;\n\t\t} );\n\n\t\t// Clean number parameters\n\t\t$.each( [ \"minlength\", \"maxlength\" ], function() {\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\trules[ this ] = Number( rules[ this ] );\n\t\t\t}\n\t\t} );\n\t\t$.each( [ \"rangelength\", \"range\" ], function() {\n\t\t\tvar parts;\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\tif ( Array.isArray( rules[ this ] ) ) {\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\n\t\t\t\t\tparts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tif ( $.validator.autoCreateRanges ) {\n\n\t\t\t// Auto-create ranges\n\t\t\tif ( rules.min != null && rules.max != null ) {\n\t\t\t\trules.range = [ rules.min, rules.max ];\n\t\t\t\tdelete rules.min;\n\t\t\t\tdelete rules.max;\n\t\t\t}\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\n\t\t\t\tdelete rules.minlength;\n\t\t\t\tdelete rules.maxlength;\n\t\t\t}\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\tnormalizeRule: function( data ) {\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tvar transformed = {};\n\t\t\t$.each( data.split( /\\s/ ), function() {\n\t\t\t\ttransformed[ this ] = true;\n\t\t\t} );\n\t\t\tdata = transformed;\n\t\t}\n\t\treturn data;\n\t},\n\n\t// https://jqueryvalidation.org/jQuery.validator.addMethod/\n\taddMethod: function( name, method, message ) {\n\t\t$.validator.methods[ name ] = method;\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\n\t\tif ( method.length < 3 ) {\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\n\t\t}\n\t},\n\n\t// https://jqueryvalidation.org/jQuery.validator.methods/\n\tmethods: {\n\n\t\t// https://jqueryvalidation.org/required-method/\n\t\trequired: function( value, element, param ) {\n\n\t\t\t// Check if dependency is met\n\t\t\tif ( !this.depend( param, element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\n\n\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\tvar val = $( element ).val();\n\t\t\t\treturn val && val.length > 0;\n\t\t\t}\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\treturn this.getLength( value, element ) > 0;\n\t\t\t}\n\t\t\treturn value !== undefined && value !== null && value.length > 0;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/email-method/\n\t\temail: function( value, element ) {\n\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t// Retrieved 2014-01-14\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t// Or use custom methods to implement your own email validation\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/url-method/\n\t\turl: function( value, element ) {\n\n\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t// modified to allow protocol-relative URLs\n\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:(?:[^\\]\\[?\\/<~#`!@$^&*()+=}|:\";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\\]\\[?\\/<~#`!@$^&*()+=}|:\";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/date-method/\n\t\tdate: ( function() {\n\t\t\tvar called = false;\n\n\t\t\treturn function( value, element ) {\n\t\t\t\tif ( !called ) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t\"The `date` method is deprecated and will be removed in version '2.0.0'.\\n\" +\n\t\t\t\t\t\t\t\"Please don't use it, since it relies on the Date constructor, which\\n\" +\n\t\t\t\t\t\t\t\"behaves very differently across browsers and locales. Use `dateISO`\\n\" +\n\t\t\t\t\t\t\t\"instead or one of the locale specific methods in `localizations/`\\n\" +\n\t\t\t\t\t\t\t\"and `additional-methods.js`.\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n\t\t\t};\n\t\t}() ),\n\n\t\t// https://jqueryvalidation.org/dateISO-method/\n\t\tdateISO: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/number-method/\n\t\tnumber: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/digits-method/\n\t\tdigits: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/minlength-method/\n\t\tminlength: function( value, element, param ) {\n\t\t\tvar length = Array.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length >= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/maxlength-method/\n\t\tmaxlength: function( value, element, param ) {\n\t\t\tvar length = Array.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length <= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/rangelength-method/\n\t\trangelength: function( value, element, param ) {\n\t\t\tvar length = Array.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/min-method/\n\t\tmin: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value >= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/max-method/\n\t\tmax: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value <= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/range-method/\n\t\trange: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/step-method/\n\t\tstep: function( value, element, param ) {\n\t\t\tvar type = $( element ).attr( \"type\" ),\n\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\tsupportedTypes = [ \"text\", \"number\", \"range\" ],\n\t\t\t\tre = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\n\t\t\t\tnotSupported = type && !re.test( supportedTypes.join() ),\n\t\t\t\tdecimalPlaces = function( num ) {\n\t\t\t\t\tvar match = ( \"\" + num ).match( /(?:\\.(\\d+))?$/ );\n\t\t\t\t\tif ( !match ) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Number of digits right of decimal point.\n\t\t\t\t\treturn match[ 1 ] ? match[ 1 ].length : 0;\n\t\t\t\t},\n\t\t\t\ttoInt = function( num ) {\n\t\t\t\t\treturn Math.round( num * Math.pow( 10, decimals ) );\n\t\t\t\t},\n\t\t\t\tvalid = true,\n\t\t\t\tdecimals;\n\n\t\t\t// Works only for text, number and range input types\n\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\tif ( notSupported ) {\n\t\t\t\tthrow new Error( errorMessage );\n\t\t\t}\n\n\t\t\tdecimals = decimalPlaces( param );\n\n\t\t\t// Value can't have too many decimals\n\t\t\tif ( decimalPlaces( value ) > decimals || toInt( value ) % toInt( param ) !== 0 ) {\n\t\t\t\tvalid = false;\n\t\t\t}\n\n\t\t\treturn this.optional( element ) || valid;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/equalTo-method/\n\t\tequalTo: function( value, element, param ) {\n\n\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\tvar target = $( param );\n\t\t\tif ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\n\t\t\t\ttarget.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\n\t\t\t\t\t$( element ).valid();\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn value === target.val();\n\t\t},\n\n\t\t// https://jqueryvalidation.org/remote-method/\n\t\tremote: function( value, element, param, method ) {\n\t\t\tif ( this.optional( element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\tvar previous = this.previousValue( element, method ),\n\t\t\t\tvalidator, data, optionDataString;\n\n\t\t\tif ( !this.settings.messages[ element.name ] ) {\n\t\t\t\tthis.settings.messages[ element.name ] = {};\n\t\t\t}\n\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\n\t\t\tthis.settings.messages[ element.name ][ method ] = previous.message;\n\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\toptionDataString = $.param( $.extend( { data: value }, param.data ) );\n\t\t\tif ( previous.old === optionDataString ) {\n\t\t\t\treturn previous.valid;\n\t\t\t}\n\n\t\t\tprevious.old = optionDataString;\n\t\t\tvalidator = this;\n\t\t\tthis.startRequest( element );\n\t\t\tdata = {};\n\t\t\tdata[ element.name ] = value;\n\t\t\t$.ajax( $.extend( true, {\n\t\t\t\tmode: \"abort\",\n\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: data,\n\t\t\t\tcontext: validator.currentForm,\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\terrors, message, submitted;\n\n\t\t\t\t\tvalidator.settings.messages[ element.name ][ method ] = previous.originalMessage;\n\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\tvalidator.toHide = validator.errorsFor( element );\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\tvalidator.successList.push( element );\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = false;\n\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, { method: method, parameters: value } );\n\t\t\t\t\t\terrors[ element.name ] = previous.message = message;\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\n\t\t\t\t\t\tvalidator.showErrors( errors );\n\t\t\t\t\t}\n\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\tvalidator.stopRequest( element, valid );\n\t\t\t\t}\n\t\t\t}, param ) );\n\t\t\treturn \"pending\";\n\t\t}\n\t}\n\n} );\n\n// Ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\nvar pendingRequests = {},\n\tajax;\n\n// Use a prefilter if available (1.5+)\nif ( $.ajaxPrefilter ) {\n\t$.ajaxPrefilter( function( settings, _, xhr ) {\n\t\tvar port = settings.port;\n\t\tif ( settings.mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = xhr;\n\t\t}\n\t} );\n} else {\n\n\t// Proxy ajax\n\tajax = $.ajax;\n\t$.ajax = function( settings ) {\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n\t\tif ( mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = ajax.apply( this, arguments );\n\t\t\treturn pendingRequests[ port ];\n\t\t}\n\t\treturn ajax.apply( this, arguments );\n\t};\n}\nreturn $;\n}));\n/*!\n * jQuery Validation Plugin v1.19.5\n *\n * https://jqueryvalidation.org/\n *\n * Copyright (c) 2022 JÃ¶rn Zaefferer\n * Released under the MIT license\n */\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\", \"./jquery.validate\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n( function() {\n\n\tfunction stripHtml( value ) {\n\n\t\t// Remove html tags and space chars\n\t\treturn value.replace( /<.[^<>]*?>/g, \" \" ).replace( /&nbsp;|&#160;/gi, \" \" )\n\n\t\t// Remove punctuation\n\t\t.replace( /[.(),;:!?%#$'\\\"_+=\\/\\-âââ]*/g, \"\" );\n\t}\n\n\t$.validator.addMethod( \"maxWords\", function( value, element, params ) {\n\t\treturn this.optional( element ) || stripHtml( value ).match( /\\b\\w+\\b/g ).length <= params;\n\t}, $.validator.format( \"Please enter {0} words or less.\" ) );\n\n\t$.validator.addMethod( \"minWords\", function( value, element, params ) {\n\t\treturn this.optional( element ) || stripHtml( value ).match( /\\b\\w+\\b/g ).length >= params;\n\t}, $.validator.format( \"Please enter at least {0} words.\" ) );\n\n\t$.validator.addMethod( \"rangeWords\", function( value, element, params ) {\n\t\tvar valueStripped = stripHtml( value ),\n\t\t\tregex = /\\b\\w+\\b/g;\n\t\treturn this.optional( element ) || valueStripped.match( regex ).length >= params[ 0 ] && valueStripped.match( regex ).length <= params[ 1 ];\n\t}, $.validator.format( \"Please enter between {0} and {1} words.\" ) );\n\n}() );\n\n/**\n * This is used in the United States to process payments, deposits,\n * or transfers using the Automated Clearing House (ACH) or Fedwire\n * systems. A very common use case would be to validate a form for\n * an ACH bill payment.\n */\n$.validator.addMethod( \"abaRoutingNumber\", function( value ) {\n\tvar checksum = 0;\n\tvar tokens = value.split( \"\" );\n\tvar length = tokens.length;\n\n\t// Length Check\n\tif ( length !== 9 ) {\n\t\treturn false;\n\t}\n\n\t// Calc the checksum\n\t// https://en.wikipedia.org/wiki/ABA_routing_transit_number\n\tfor ( var i = 0; i < length; i += 3 ) {\n\t\tchecksum +=\tparseInt( tokens[ i ], 10 )     * 3 +\n\t\t\t\t\tparseInt( tokens[ i + 1 ], 10 ) * 7 +\n\t\t\t\t\tparseInt( tokens[ i + 2 ], 10 );\n\t}\n\n\t// If not zero and divisible by 10 then valid\n\tif ( checksum !== 0 && checksum % 10 === 0 ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}, \"Please enter a valid routing number.\" );\n\n// Accept a value from a file input based on a required mimetype\n$.validator.addMethod( \"accept\", function( value, element, param ) {\n\n\t// Split mime on commas in case we have multiple types we can accept\n\tvar typeParam = typeof param === \"string\" ? param.replace( /\\s/g, \"\" ) : \"image/*\",\n\t\toptionalValue = this.optional( element ),\n\t\ti, file, regex;\n\n\t// Element is optional\n\tif ( optionalValue ) {\n\t\treturn optionalValue;\n\t}\n\n\tif ( $( element ).attr( \"type\" ) === \"file\" ) {\n\n\t\t// Escape string to be used in the regex\n\t\t// see: https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\n\t\t// Escape also \"/*\" as \"/.*\" as a wildcard\n\t\ttypeParam = typeParam\n\t\t\t\t.replace( /[\\-\\[\\]\\/\\{\\}\\(\\)\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\" )\n\t\t\t\t.replace( /,/g, \"|\" )\n\t\t\t\t.replace( /\\/\\*/g, \"/.*\" );\n\n\t\t// Check if the element has a FileList before checking each file\n\t\tif ( element.files && element.files.length ) {\n\t\t\tregex = new RegExp( \".?(\" + typeParam + \")$\", \"i\" );\n\t\t\tfor ( i = 0; i < element.files.length; i++ ) {\n\t\t\t\tfile = element.files[ i ];\n\n\t\t\t\t// Grab the mimetype from the loaded file, verify it matches\n\t\t\t\tif ( !file.type.match( regex ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Either return true because we've validated each file, or because the\n\t// browser does not support element.files and the FileList feature\n\treturn true;\n}, $.validator.format( \"Please enter a value with a valid mimetype.\" ) );\n\n$.validator.addMethod( \"alphanumeric\", function( value, element ) {\n\treturn this.optional( element ) || /^\\w+$/i.test( value );\n}, \"Letters, numbers, and underscores only please.\" );\n\n/*\n * Dutch bank account numbers (not 'giro' numbers) have 9 digits\n * and pass the '11 check'.\n * We accept the notation with spaces, as that is common.\n * acceptable: 123456789 or 12 34 56 789\n */\n$.validator.addMethod( \"bankaccountNL\", function( value, element ) {\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\tif ( !( /^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test( value ) ) ) {\n\t\treturn false;\n\t}\n\n\t// Now '11 check'\n\tvar account = value.replace( / /g, \"\" ), // Remove spaces\n\t\tsum = 0,\n\t\tlen = account.length,\n\t\tpos, factor, digit;\n\tfor ( pos = 0; pos < len; pos++ ) {\n\t\tfactor = len - pos;\n\t\tdigit = account.substring( pos, pos + 1 );\n\t\tsum = sum + factor * digit;\n\t}\n\treturn sum % 11 === 0;\n}, \"Please specify a valid bank account number.\" );\n\n$.validator.addMethod( \"bankorgiroaccountNL\", function( value, element ) {\n\treturn this.optional( element ) ||\n\t\t\t( $.validator.methods.bankaccountNL.call( this, value, element ) ) ||\n\t\t\t( $.validator.methods.giroaccountNL.call( this, value, element ) );\n}, \"Please specify a valid bank or giro account number.\" );\n\n/**\n * BIC is the business identifier code (ISO 9362). This BIC check is not a guarantee for authenticity.\n *\n * BIC pattern: BBBBCCLLbbb (8 or 11 characters long; bbb is optional)\n *\n * Validation is case-insensitive. Please make sure to normalize input yourself.\n *\n * BIC definition in detail:\n * - First 4 characters - bank code (only letters)\n * - Next 2 characters - ISO 3166-1 alpha-2 country code (only letters)\n * - Next 2 characters - location code (letters and digits)\n *   a. shall not start with '0' or '1'\n *   b. second character must be a letter ('O' is not allowed) or digit ('0' for test (therefore not allowed), '1' denoting passive participant, '2' typically reverse-billing)\n * - Last 3 characters - branch code, optional (shall not start with 'X' except in case of 'XXX' for primary office) (letters and digits)\n */\n$.validator.addMethod( \"bic\", function( value, element ) {\n    return this.optional( element ) || /^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test( value.toUpperCase() );\n}, \"Please specify a valid BIC code.\" );\n\n/*\n * CÃ³digo de identificaciÃ³n fiscal ( CIF ) is the tax identification code for Spanish legal entities\n * Further rules can be found in Spanish on http://es.wikipedia.org/wiki/C%C3%B3digo_de_identificaci%C3%B3n_fiscal\n *\n * Spanish CIF structure:\n *\n * [ T ][ P ][ P ][ N ][ N ][ N ][ N ][ N ][ C ]\n *\n * Where:\n *\n * T: 1 character. Kind of Organization Letter: [ABCDEFGHJKLMNPQRSUVW]\n * P: 2 characters. Province.\n * N: 5 characters. Secuencial Number within the province.\n * C: 1 character. Control Digit: [0-9A-J].\n *\n * [ T ]: Kind of Organizations. Possible values:\n *\n *   A. Corporations\n *   B. LLCs\n *   C. General partnerships\n *   D. Companies limited partnerships\n *   E. Communities of goods\n *   F. Cooperative Societies\n *   G. Associations\n *   H. Communities of homeowners in horizontal property regime\n *   J. Civil Societies\n *   K. Old format\n *   L. Old format\n *   M. Old format\n *   N. Nonresident entities\n *   P. Local authorities\n *   Q. Autonomous bodies, state or not, and the like, and congregations and religious institutions\n *   R. Congregations and religious institutions (since 2008 ORDER EHA/451/2008)\n *   S. Organs of State Administration and regions\n *   V. Agrarian Transformation\n *   W. Permanent establishments of non-resident in Spain\n *\n * [ C ]: Control Digit. It can be a number or a letter depending on T value:\n * [ T ]  -->  [ C ]\n * ------    ----------\n *   A         Number\n *   B         Number\n *   E         Number\n *   H         Number\n *   K         Letter\n *   P         Letter\n *   Q         Letter\n *   S         Letter\n *\n */\n$.validator.addMethod( \"cifES\", function( value, element ) {\n\t\"use strict\";\n\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\tvar cifRegEx = new RegExp( /^([ABCDEFGHJKLMNPQRSUVW])(\\d{7})([0-9A-J])$/gi );\n\tvar letter  = value.substring( 0, 1 ), // [ T ]\n\t\tnumber  = value.substring( 1, 8 ), // [ P ][ P ][ N ][ N ][ N ][ N ][ N ]\n\t\tcontrol = value.substring( 8, 9 ), // [ C ]\n\t\tall_sum = 0,\n\t\teven_sum = 0,\n\t\todd_sum = 0,\n\t\ti, n,\n\t\tcontrol_digit,\n\t\tcontrol_letter;\n\n\tfunction isOdd( n ) {\n\t\treturn n % 2 === 0;\n\t}\n\n\t// Quick format test\n\tif ( value.length !== 9 || !cifRegEx.test( value ) ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = 0; i < number.length; i++ ) {\n\t\tn = parseInt( number[ i ], 10 );\n\n\t\t// Odd positions\n\t\tif ( isOdd( i ) ) {\n\n\t\t\t// Odd positions are multiplied first.\n\t\t\tn *= 2;\n\n\t\t\t// If the multiplication is bigger than 10 we need to adjust\n\t\t\todd_sum += n < 10 ? n : n - 9;\n\n\t\t// Even positions\n\t\t// Just sum them\n\t\t} else {\n\t\t\teven_sum += n;\n\t\t}\n\t}\n\n\tall_sum = even_sum + odd_sum;\n\tcontrol_digit = ( 10 - ( all_sum ).toString().substr( -1 ) ).toString();\n\tcontrol_digit = parseInt( control_digit, 10 ) > 9 ? \"0\" : control_digit;\n\tcontrol_letter = \"JABCDEFGHI\".substr( control_digit, 1 ).toString();\n\n\t// Control must be a digit\n\tif ( letter.match( /[ABEH]/ ) ) {\n\t\treturn control === control_digit;\n\n\t// Control must be a letter\n\t} else if ( letter.match( /[KPQS]/ ) ) {\n\t\treturn control === control_letter;\n\t}\n\n\t// Can be either\n\treturn control === control_digit || control === control_letter;\n\n}, \"Please specify a valid CIF number.\" );\n\n/*\n * Brazillian CNH number (Carteira Nacional de Habilitacao) is the License Driver number.\n * CNH numbers have 11 digits in total: 9 numbers followed by 2 check numbers that are being used for validation.\n */\n$.validator.addMethod( \"cnhBR\", function( value ) {\n\n  // Removing special characters from value\n  value = value.replace( /([~!@#$%^&*()_+=`{}\\[\\]\\-|\\\\:;'<>,.\\/? ])+/g, \"\" );\n\n  // Checking value to have 11 digits only\n  if ( value.length !== 11 ) {\n    return false;\n  }\n\n  var sum = 0, dsc = 0, firstChar,\n\t\tfirstCN, secondCN, i, j, v;\n\n  firstChar = value.charAt( 0 );\n\n  if ( new Array( 12 ).join( firstChar ) === value ) {\n    return false;\n  }\n\n  // Step 1 - using first Check Number:\n  for ( i = 0, j = 9, v = 0; i < 9; ++i, --j ) {\n    sum += +( value.charAt( i ) * j );\n  }\n\n  firstCN = sum % 11;\n  if ( firstCN >= 10 ) {\n    firstCN = 0;\n    dsc = 2;\n  }\n\n  sum = 0;\n  for ( i = 0, j = 1, v = 0; i < 9; ++i, ++j ) {\n    sum += +( value.charAt( i ) * j );\n  }\n\n  secondCN = sum % 11;\n  if ( secondCN >= 10 ) {\n    secondCN = 0;\n  } else {\n    secondCN = secondCN - dsc;\n  }\n\n  return ( String( firstCN ).concat( secondCN ) === value.substr( -2 ) );\n\n}, \"Please specify a valid CNH number.\" );\n\n/*\n * Brazillian value number (Cadastrado de Pessoas Juridica).\n * value numbers have 14 digits in total: 12 numbers followed by 2 check numbers that are being used for validation.\n */\n$.validator.addMethod( \"cnpjBR\", function( value, element ) {\n\t\"use strict\";\n\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\t// Removing no number\n\tvalue = value.replace( /[^\\d]+/g, \"\" );\n\n\t// Checking value to have 14 digits only\n\tif ( value.length !== 14 ) {\n\t\treturn false;\n\t}\n\n\t// Elimina values invalidos conhecidos\n\tif ( value === \"00000000000000\" ||\n\t\tvalue === \"11111111111111\" ||\n\t\tvalue === \"22222222222222\" ||\n\t\tvalue === \"33333333333333\" ||\n\t\tvalue === \"44444444444444\" ||\n\t\tvalue === \"55555555555555\" ||\n\t\tvalue === \"66666666666666\" ||\n\t\tvalue === \"77777777777777\" ||\n\t\tvalue === \"88888888888888\" ||\n\t\tvalue === \"99999999999999\" ) {\n\t\treturn false;\n\t}\n\n\t// Valida DVs\n\tvar tamanho = ( value.length - 2 );\n\tvar numeros = value.substring( 0, tamanho );\n\tvar digitos = value.substring( tamanho );\n\tvar soma = 0;\n\tvar pos = tamanho - 7;\n\n\tfor ( var i = tamanho; i >= 1; i-- ) {\n\t\tsoma += numeros.charAt( tamanho - i ) * pos--;\n\t\tif ( pos < 2 ) {\n\t\t\tpos = 9;\n\t\t}\n\t}\n\n\tvar resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n\n\tif ( resultado !== parseInt( digitos.charAt( 0 ), 10 ) ) {\n\t\treturn false;\n\t}\n\n\ttamanho = tamanho + 1;\n\tnumeros = value.substring( 0, tamanho );\n\tsoma = 0;\n\tpos = tamanho - 7;\n\n\tfor ( var il = tamanho; il >= 1; il-- ) {\n\t\tsoma += numeros.charAt( tamanho - il ) * pos--;\n\t\tif ( pos < 2 ) {\n\t\t\tpos = 9;\n\t\t}\n\t}\n\n\tresultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n\n\tif ( resultado !== parseInt( digitos.charAt( 1 ), 10 ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n\n}, \"Please specify a CNPJ value number.\" );\n\n/*\n * Brazillian CPF number (Cadastrado de Pessoas FÃ­sicas) is the equivalent of a Brazilian tax registration number.\n * CPF numbers have 11 digits in total: 9 numbers followed by 2 check numbers that are being used for validation.\n */\n$.validator.addMethod( \"cpfBR\", function( value, element ) {\n\t\"use strict\";\n\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\t// Removing special characters from value\n\tvalue = value.replace( /([~!@#$%^&*()_+=`{}\\[\\]\\-|\\\\:;'<>,.\\/? ])+/g, \"\" );\n\n\t// Checking value to have 11 digits only\n\tif ( value.length !== 11 ) {\n\t\treturn false;\n\t}\n\n\tvar sum = 0,\n\t\tfirstCN, secondCN, checkResult, i;\n\n\tfirstCN = parseInt( value.substring( 9, 10 ), 10 );\n\tsecondCN = parseInt( value.substring( 10, 11 ), 10 );\n\n\tcheckResult = function( sum, cn ) {\n\t\tvar result = ( sum * 10 ) % 11;\n\t\tif ( ( result === 10 ) || ( result === 11 ) ) {\n\t\t\tresult = 0;\n\t\t}\n\t\treturn ( result === cn );\n\t};\n\n\t// Checking for dump data\n\tif ( value === \"\" ||\n\t\tvalue === \"00000000000\" ||\n\t\tvalue === \"11111111111\" ||\n\t\tvalue === \"22222222222\" ||\n\t\tvalue === \"33333333333\" ||\n\t\tvalue === \"44444444444\" ||\n\t\tvalue === \"55555555555\" ||\n\t\tvalue === \"66666666666\" ||\n\t\tvalue === \"77777777777\" ||\n\t\tvalue === \"88888888888\" ||\n\t\tvalue === \"99999999999\"\n\t) {\n\t\treturn false;\n\t}\n\n\t// Step 1 - using first Check Number:\n\tfor ( i = 1; i <= 9; i++ ) {\n\t\tsum = sum + parseInt( value.substring( i - 1, i ), 10 ) * ( 11 - i );\n\t}\n\n\t// If first Check Number (CN) is valid, move to Step 2 - using second Check Number:\n\tif ( checkResult( sum, firstCN ) ) {\n\t\tsum = 0;\n\t\tfor ( i = 1; i <= 10; i++ ) {\n\t\t\tsum = sum + parseInt( value.substring( i - 1, i ), 10 ) * ( 12 - i );\n\t\t}\n\t\treturn checkResult( sum, secondCN );\n\t}\n\treturn false;\n\n}, \"Please specify a valid CPF number.\" );\n\n// https://jqueryvalidation.org/creditcard-method/\n// based on https://en.wikipedia.org/wiki/Luhn_algorithm\n$.validator.addMethod( \"creditcard\", function( value, element ) {\n\tif ( this.optional( element ) ) {\n\t\treturn \"dependency-mismatch\";\n\t}\n\n\t// Accept only spaces, digits and dashes\n\tif ( /[^0-9 \\-]+/.test( value ) ) {\n\t\treturn false;\n\t}\n\n\tvar nCheck = 0,\n\t\tnDigit = 0,\n\t\tbEven = false,\n\t\tn, cDigit;\n\n\tvalue = value.replace( /\\D/g, \"\" );\n\n\t// Basing min and max length on\n\t// https://dev.ean.com/general-info/valid-card-types/\n\tif ( value.length < 13 || value.length > 19 ) {\n\t\treturn false;\n\t}\n\n\tfor ( n = value.length - 1; n >= 0; n-- ) {\n\t\tcDigit = value.charAt( n );\n\t\tnDigit = parseInt( cDigit, 10 );\n\t\tif ( bEven ) {\n\t\t\tif ( ( nDigit *= 2 ) > 9 ) {\n\t\t\t\tnDigit -= 9;\n\t\t\t}\n\t\t}\n\n\t\tnCheck += nDigit;\n\t\tbEven = !bEven;\n\t}\n\n\treturn ( nCheck % 10 ) === 0;\n}, \"Please enter a valid credit card number.\" );\n\n/* NOTICE: Modified version of Castle.Components.Validator.CreditCardValidator\n * Redistributed under the Apache License 2.0 at http://www.apache.org/licenses/LICENSE-2.0\n * Valid Types: mastercard, visa, amex, dinersclub, enroute, discover, jcb, unknown, all (overrides all other settings)\n */\n$.validator.addMethod( \"creditcardtypes\", function( value, element, param ) {\n\tif ( /[^0-9\\-]+/.test( value ) ) {\n\t\treturn false;\n\t}\n\n\tvalue = value.replace( /\\D/g, \"\" );\n\n\tvar validTypes = 0x0000;\n\n\tif ( param.mastercard ) {\n\t\tvalidTypes |= 0x0001;\n\t}\n\tif ( param.visa ) {\n\t\tvalidTypes |= 0x0002;\n\t}\n\tif ( param.amex ) {\n\t\tvalidTypes |= 0x0004;\n\t}\n\tif ( param.dinersclub ) {\n\t\tvalidTypes |= 0x0008;\n\t}\n\tif ( param.enroute ) {\n\t\tvalidTypes |= 0x0010;\n\t}\n\tif ( param.discover ) {\n\t\tvalidTypes |= 0x0020;\n\t}\n\tif ( param.jcb ) {\n\t\tvalidTypes |= 0x0040;\n\t}\n\tif ( param.unknown ) {\n\t\tvalidTypes |= 0x0080;\n\t}\n\tif ( param.all ) {\n\t\tvalidTypes = 0x0001 | 0x0002 | 0x0004 | 0x0008 | 0x0010 | 0x0020 | 0x0040 | 0x0080;\n\t}\n\tif ( validTypes & 0x0001 && ( /^(5[12345])/.test( value ) || /^(2[234567])/.test( value ) ) ) { // Mastercard\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0002 && /^(4)/.test( value ) ) { // Visa\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0004 && /^(3[47])/.test( value ) ) { // Amex\n\t\treturn value.length === 15;\n\t}\n\tif ( validTypes & 0x0008 && /^(3(0[012345]|[68]))/.test( value ) ) { // Dinersclub\n\t\treturn value.length === 14;\n\t}\n\tif ( validTypes & 0x0010 && /^(2(014|149))/.test( value ) ) { // Enroute\n\t\treturn value.length === 15;\n\t}\n\tif ( validTypes & 0x0020 && /^(6011)/.test( value ) ) { // Discover\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0040 && /^(3)/.test( value ) ) { // Jcb\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0040 && /^(2131|1800)/.test( value ) ) { // Jcb\n\t\treturn value.length === 15;\n\t}\n\tif ( validTypes & 0x0080 ) { // Unknown\n\t\treturn true;\n\t}\n\treturn false;\n}, \"Please enter a valid credit card number.\" );\n\n/**\n * Validates currencies with any given symbols by @jameslouiz\n * Symbols can be optional or required. Symbols required by default\n *\n * Usage examples:\n *  currency: [\"Â£\", false] - Use false for soft currency validation\n *  currency: [\"$\", false]\n *  currency: [\"RM\", false] - also works with text based symbols such as \"RM\" - Malaysia Ringgit etc\n *\n *  <input class=\"currencyInput\" name=\"currencyInput\">\n *\n * Soft symbol checking\n *  currencyInput: {\n *     currency: [\"$\", false]\n *  }\n *\n * Strict symbol checking (default)\n *  currencyInput: {\n *     currency: \"$\"\n *     //OR\n *     currency: [\"$\", true]\n *  }\n *\n * Multiple Symbols\n *  currencyInput: {\n *     currency: \"$,Â£,Â¢\"\n *  }\n */\n$.validator.addMethod( \"currency\", function( value, element, param ) {\n    var isParamString = typeof param === \"string\",\n        symbol = isParamString ? param : param[ 0 ],\n        soft = isParamString ? true : param[ 1 ],\n        regex;\n\n    symbol = symbol.replace( /,/g, \"\" );\n    symbol = soft ? symbol + \"]\" : symbol + \"]?\";\n    regex = \"^[\" + symbol + \"([1-9]{1}[0-9]{0,2}(\\\\,[0-9]{3})*(\\\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\\\.[0-9]{0,2})?|0(\\\\.[0-9]{0,2})?|(\\\\.[0-9]{1,2})?)$\";\n    regex = new RegExp( regex );\n    return this.optional( element ) || regex.test( value );\n\n}, \"Please specify a valid currency.\" );\n\n$.validator.addMethod( \"dateFA\", function( value, element ) {\n\treturn this.optional( element ) || /^[1-4]\\d{3}\\/((0?[1-6]\\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\\/(30|([1-2][0-9])|(0?[1-9]))))$/.test( value );\n}, $.validator.messages.date );\n\n/**\n * Return true, if the value is a valid date, also making this formal check dd/mm/yyyy.\n *\n * @example $.validator.methods.date(\"01/01/1900\")\n * @result true\n *\n * @example $.validator.methods.date(\"01/13/1990\")\n * @result false\n *\n * @example $.validator.methods.date(\"01.01.1900\")\n * @result false\n *\n * @example <input name=\"pippo\" class=\"{dateITA:true}\" />\n * @desc Declares an optional input element whose value must be a valid date.\n *\n * @name $.validator.methods.dateITA\n * @type Boolean\n * @cat Plugins/Validate/Methods\n */\n$.validator.addMethod( \"dateITA\", function( value, element ) {\n\tvar check = false,\n\t\tre = /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,\n\t\tadata, gg, mm, aaaa, xdata;\n\tif ( re.test( value ) ) {\n\t\tadata = value.split( \"/\" );\n\t\tgg = parseInt( adata[ 0 ], 10 );\n\t\tmm = parseInt( adata[ 1 ], 10 );\n\t\taaaa = parseInt( adata[ 2 ], 10 );\n\t\txdata = new Date( Date.UTC( aaaa, mm - 1, gg, 12, 0, 0, 0 ) );\n\t\tif ( ( xdata.getUTCFullYear() === aaaa ) && ( xdata.getUTCMonth() === mm - 1 ) && ( xdata.getUTCDate() === gg ) ) {\n\t\t\tcheck = true;\n\t\t} else {\n\t\t\tcheck = false;\n\t\t}\n\t} else {\n\t\tcheck = false;\n\t}\n\treturn this.optional( element ) || check;\n}, $.validator.messages.date );\n\n$.validator.addMethod( \"dateNL\", function( value, element ) {\n\treturn this.optional( element ) || /^(0?[1-9]|[12]\\d|3[01])[\\.\\/\\-](0?[1-9]|1[012])[\\.\\/\\-]([12]\\d)?(\\d\\d)$/.test( value );\n}, $.validator.messages.date );\n\n// Older \"accept\" file extension method. Old docs: http://docs.jquery.com/Plugins/Validation/Methods/accept\n$.validator.addMethod( \"extension\", function( value, element, param ) {\n\tparam = typeof param === \"string\" ? param.replace( /,/g, \"|\" ) : \"png|jpe?g|gif\";\n\treturn this.optional( element ) || value.match( new RegExp( \"\\\\.(\" + param + \")$\", \"i\" ) );\n}, $.validator.format( \"Please enter a value with a valid extension.\" ) );\n\n/**\n * Dutch giro account numbers (not bank numbers) have max 7 digits\n */\n$.validator.addMethod( \"giroaccountNL\", function( value, element ) {\n\treturn this.optional( element ) || /^[0-9]{1,7}$/.test( value );\n}, \"Please specify a valid giro account number.\" );\n\n$.validator.addMethod( \"greaterThan\", function( value, element, param ) {\n    var target = $( param );\n\n    if ( this.settings.onfocusout && target.not( \".validate-greaterThan-blur\" ).length ) {\n        target.addClass( \"validate-greaterThan-blur\" ).on( \"blur.validate-greaterThan\", function() {\n            $( element ).valid();\n        } );\n    }\n\n    return value > target.val();\n}, \"Please enter a greater value.\" );\n\n$.validator.addMethod( \"greaterThanEqual\", function( value, element, param ) {\n    var target = $( param );\n\n    if ( this.settings.onfocusout && target.not( \".validate-greaterThanEqual-blur\" ).length ) {\n        target.addClass( \"validate-greaterThanEqual-blur\" ).on( \"blur.validate-greaterThanEqual\", function() {\n            $( element ).valid();\n        } );\n    }\n\n    return value >= target.val();\n}, \"Please enter a greater value.\" );\n\n/**\n * IBAN is the international bank account number.\n * It has a country - specific format, that is checked here too\n *\n * Validation is case-insensitive. Please make sure to normalize input yourself.\n */\n$.validator.addMethod( \"iban\", function( value, element ) {\n\n\t// Some quick simple tests to prevent needless work\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\t// Remove spaces and to upper case\n\tvar iban = value.replace( / /g, \"\" ).toUpperCase(),\n\t\tibancheckdigits = \"\",\n\t\tleadingZeroes = true,\n\t\tcRest = \"\",\n\t\tcOperator = \"\",\n\t\tcountrycode, ibancheck, charAt, cChar, bbanpattern, bbancountrypatterns, ibanregexp, i, p;\n\n\t// Check for IBAN code length.\n\t// It contains:\n\t// country code ISO 3166-1 - two letters,\n\t// two check digits,\n\t// Basic Bank Account Number (BBAN) - up to 30 chars\n\tvar minimalIBANlength = 5;\n\tif ( iban.length < minimalIBANlength ) {\n\t\treturn false;\n\t}\n\n\t// Check the country code and find the country specific format\n\tcountrycode = iban.substring( 0, 2 );\n\tbbancountrypatterns = {\n\t\t\"AL\": \"\\\\d{8}[\\\\dA-Z]{16}\",\n\t\t\"AD\": \"\\\\d{8}[\\\\dA-Z]{12}\",\n\t\t\"AT\": \"\\\\d{16}\",\n\t\t\"AZ\": \"[\\\\dA-Z]{4}\\\\d{20}\",\n\t\t\"BE\": \"\\\\d{12}\",\n\t\t\"BH\": \"[A-Z]{4}[\\\\dA-Z]{14}\",\n\t\t\"BA\": \"\\\\d{16}\",\n\t\t\"BR\": \"\\\\d{23}[A-Z][\\\\dA-Z]\",\n\t\t\"BG\": \"[A-Z]{4}\\\\d{6}[\\\\dA-Z]{8}\",\n\t\t\"CR\": \"\\\\d{17}\",\n\t\t\"HR\": \"\\\\d{17}\",\n\t\t\"CY\": \"\\\\d{8}[\\\\dA-Z]{16}\",\n\t\t\"CZ\": \"\\\\d{20}\",\n\t\t\"DK\": \"\\\\d{14}\",\n\t\t\"DO\": \"[A-Z]{4}\\\\d{20}\",\n\t\t\"EE\": \"\\\\d{16}\",\n\t\t\"FO\": \"\\\\d{14}\",\n\t\t\"FI\": \"\\\\d{14}\",\n\t\t\"FR\": \"\\\\d{10}[\\\\dA-Z]{11}\\\\d{2}\",\n\t\t\"GE\": \"[\\\\dA-Z]{2}\\\\d{16}\",\n\t\t\"DE\": \"\\\\d{18}\",\n\t\t\"GI\": \"[A-Z]{4}[\\\\dA-Z]{15}\",\n\t\t\"GR\": \"\\\\d{7}[\\\\dA-Z]{16}\",\n\t\t\"GL\": \"\\\\d{14}\",\n\t\t\"GT\": \"[\\\\dA-Z]{4}[\\\\dA-Z]{20}\",\n\t\t\"HU\": \"\\\\d{24}\",\n\t\t\"IS\": \"\\\\d{22}\",\n\t\t\"IE\": \"[\\\\dA-Z]{4}\\\\d{14}\",\n\t\t\"IL\": \"\\\\d{19}\",\n\t\t\"IT\": \"[A-Z]\\\\d{10}[\\\\dA-Z]{12}\",\n\t\t\"KZ\": \"\\\\d{3}[\\\\dA-Z]{13}\",\n\t\t\"KW\": \"[A-Z]{4}[\\\\dA-Z]{22}\",\n\t\t\"LV\": \"[A-Z]{4}[\\\\dA-Z]{13}\",\n\t\t\"LB\": \"\\\\d{4}[\\\\dA-Z]{20}\",\n\t\t\"LI\": \"\\\\d{5}[\\\\dA-Z]{12}\",\n\t\t\"LT\": \"\\\\d{16}\",\n\t\t\"LU\": \"\\\\d{3}[\\\\dA-Z]{13}\",\n\t\t\"MK\": \"\\\\d{3}[\\\\dA-Z]{10}\\\\d{2}\",\n\t\t\"MT\": \"[A-Z]{4}\\\\d{5}[\\\\dA-Z]{18}\",\n\t\t\"MR\": \"\\\\d{23}\",\n\t\t\"MU\": \"[A-Z]{4}\\\\d{19}[A-Z]{3}\",\n\t\t\"MC\": \"\\\\d{10}[\\\\dA-Z]{11}\\\\d{2}\",\n\t\t\"MD\": \"[\\\\dA-Z]{2}\\\\d{18}\",\n\t\t\"ME\": \"\\\\d{18}\",\n\t\t\"NL\": \"[A-Z]{4}\\\\d{10}\",\n\t\t\"NO\": \"\\\\d{11}\",\n\t\t\"PK\": \"[\\\\dA-Z]{4}\\\\d{16}\",\n\t\t\"PS\": \"[\\\\dA-Z]{4}\\\\d{21}\",\n\t\t\"PL\": \"\\\\d{24}\",\n\t\t\"PT\": \"\\\\d{21}\",\n\t\t\"RO\": \"[A-Z]{4}[\\\\dA-Z]{16}\",\n\t\t\"SM\": \"[A-Z]\\\\d{10}[\\\\dA-Z]{12}\",\n\t\t\"SA\": \"\\\\d{2}[\\\\dA-Z]{18}\",\n\t\t\"RS\": \"\\\\d{18}\",\n\t\t\"SK\": \"\\\\d{20}\",\n\t\t\"SI\": \"\\\\d{15}\",\n\t\t\"ES\": \"\\\\d{20}\",\n\t\t\"SE\": \"\\\\d{20}\",\n\t\t\"CH\": \"\\\\d{5}[\\\\dA-Z]{12}\",\n\t\t\"TN\": \"\\\\d{20}\",\n\t\t\"TR\": \"\\\\d{5}[\\\\dA-Z]{17}\",\n\t\t\"AE\": \"\\\\d{3}\\\\d{16}\",\n\t\t\"GB\": \"[A-Z]{4}\\\\d{14}\",\n\t\t\"VG\": \"[\\\\dA-Z]{4}\\\\d{16}\"\n\t};\n\n\tbbanpattern = bbancountrypatterns[ countrycode ];\n\n\t// As new countries will start using IBAN in the\n\t// future, we only check if the countrycode is known.\n\t// This prevents false negatives, while almost all\n\t// false positives introduced by this, will be caught\n\t// by the checksum validation below anyway.\n\t// Strict checking should return FALSE for unknown\n\t// countries.\n\tif ( typeof bbanpattern !== \"undefined\" ) {\n\t\tibanregexp = new RegExp( \"^[A-Z]{2}\\\\d{2}\" + bbanpattern + \"$\", \"\" );\n\t\tif ( !( ibanregexp.test( iban ) ) ) {\n\t\t\treturn false; // Invalid country specific format\n\t\t}\n\t}\n\n\t// Now check the checksum, first convert to digits\n\tibancheck = iban.substring( 4, iban.length ) + iban.substring( 0, 4 );\n\tfor ( i = 0; i < ibancheck.length; i++ ) {\n\t\tcharAt = ibancheck.charAt( i );\n\t\tif ( charAt !== \"0\" ) {\n\t\t\tleadingZeroes = false;\n\t\t}\n\t\tif ( !leadingZeroes ) {\n\t\t\tibancheckdigits += \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\".indexOf( charAt );\n\t\t}\n\t}\n\n\t// Calculate the result of: ibancheckdigits % 97\n\tfor ( p = 0; p < ibancheckdigits.length; p++ ) {\n\t\tcChar = ibancheckdigits.charAt( p );\n\t\tcOperator = \"\" + cRest + \"\" + cChar;\n\t\tcRest = cOperator % 97;\n\t}\n\treturn cRest === 1;\n}, \"Please specify a valid IBAN.\" );\n\n$.validator.addMethod( \"integer\", function( value, element ) {\n\treturn this.optional( element ) || /^-?\\d+$/.test( value );\n}, \"A positive or negative non-decimal number please.\" );\n\n$.validator.addMethod( \"ipv4\", function( value, element ) {\n\treturn this.optional( element ) || /^(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/i.test( value );\n}, \"Please enter a valid IP v4 address.\" );\n\n$.validator.addMethod( \"ipv6\", function( value, element ) {\n\treturn this.optional( element ) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test( value );\n}, \"Please enter a valid IP v6 address.\" );\n\n$.validator.addMethod( \"lessThan\", function( value, element, param ) {\n    var target = $( param );\n\n    if ( this.settings.onfocusout && target.not( \".validate-lessThan-blur\" ).length ) {\n        target.addClass( \"validate-lessThan-blur\" ).on( \"blur.validate-lessThan\", function() {\n            $( element ).valid();\n        } );\n    }\n\n    return value < target.val();\n}, \"Please enter a lesser value.\" );\n\n$.validator.addMethod( \"lessThanEqual\", function( value, element, param ) {\n    var target = $( param );\n\n    if ( this.settings.onfocusout && target.not( \".validate-lessThanEqual-blur\" ).length ) {\n        target.addClass( \"validate-lessThanEqual-blur\" ).on( \"blur.validate-lessThanEqual\", function() {\n            $( element ).valid();\n        } );\n    }\n\n    return value <= target.val();\n}, \"Please enter a lesser value.\" );\n\n$.validator.addMethod( \"lettersonly\", function( value, element ) {\n\treturn this.optional( element ) || /^[a-z]+$/i.test( value );\n}, \"Letters only please.\" );\n\n$.validator.addMethod( \"letterswithbasicpunc\", function( value, element ) {\n\treturn this.optional( element ) || /^[a-z\\-.,()'\"\\s]+$/i.test( value );\n}, \"Letters or punctuation only please.\" );\n\n// Limit the number of files in a FileList.\n$.validator.addMethod( \"maxfiles\", function( value, element, param ) {\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\tif ( $( element ).attr( \"type\" ) === \"file\" ) {\n\t\tif ( element.files && element.files.length > param ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}, $.validator.format( \"Please select no more than {0} files.\" ) );\n\n// Limit the size of each individual file in a FileList.\n$.validator.addMethod( \"maxsize\", function( value, element, param ) {\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\tif ( $( element ).attr( \"type\" ) === \"file\" ) {\n\t\tif ( element.files && element.files.length ) {\n\t\t\tfor ( var i = 0; i < element.files.length; i++ ) {\n\t\t\t\tif ( element.files[ i ].size > param ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}, $.validator.format( \"File size must not exceed {0} bytes each.\" ) );\n\n// Limit the size of all files in a FileList.\n$.validator.addMethod( \"maxsizetotal\", function( value, element, param ) {\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\tif ( $( element ).attr( \"type\" ) === \"file\" ) {\n\t\tif ( element.files && element.files.length ) {\n\t\t\tvar totalSize = 0;\n\n\t\t\tfor ( var i = 0; i < element.files.length; i++ ) {\n\t\t\t\ttotalSize += element.files[ i ].size;\n\t\t\t\tif ( totalSize > param ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}, $.validator.format( \"Total size of all files must not exceed {0} bytes.\" ) );\n\n\n$.validator.addMethod( \"mobileNL\", function( value, element ) {\n\treturn this.optional( element ) || /^((\\+|00(\\s|\\s?\\-\\s?)?)31(\\s|\\s?\\-\\s?)?(\\(0\\)[\\-\\s]?)?|0)6((\\s|\\s?\\-\\s?)?[0-9]){8}$/.test( value );\n}, \"Please specify a valid mobile number.\" );\n\n$.validator.addMethod( \"mobileRU\", function( phone_number, element ) {\n\tvar ruPhone_number = phone_number.replace( /\\(|\\)|\\s+|-/g, \"\" );\n\treturn this.optional( element ) || ruPhone_number.length > 9 && /^((\\+7|7|8)+([0-9]){10})$/.test( ruPhone_number );\n}, \"Please specify a valid mobile number.\" );\n\n/* For UK phone functions, do the following server side processing:\n * Compare original input with this RegEx pattern:\n * ^\\(?(?:(?:00\\)?[\\s\\-]?\\(?|\\+)(44)\\)?[\\s\\-]?\\(?(?:0\\)?[\\s\\-]?\\(?)?|0)([1-9]\\d{1,4}\\)?[\\s\\d\\-]+)$\n * Extract $1 and set $prefix to '+44<space>' if $1 is '44', otherwise set $prefix to '0'\n * Extract $2 and remove hyphens, spaces and parentheses. Phone number is combined $prefix and $2.\n * A number of very detailed GB telephone number RegEx patterns can also be found at:\n * http://www.aa-asterisk.org.uk/index.php/Regular_Expressions_for_Validating_and_Formatting_GB_Telephone_Numbers\n */\n$.validator.addMethod( \"mobileUK\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\(|\\)|\\s+|-/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(?:(?:(?:00\\s?|\\+)44\\s?|0)7(?:[1345789]\\d{2}|624)\\s?\\d{3}\\s?\\d{3})$/ );\n}, \"Please specify a valid mobile number.\" );\n\n$.validator.addMethod( \"netmask\", function( value, element ) {\n    return this.optional( element ) || /^(254|252|248|240|224|192|128)\\.0\\.0\\.0|255\\.(254|252|248|240|224|192|128|0)\\.0\\.0|255\\.255\\.(254|252|248|240|224|192|128|0)\\.0|255\\.255\\.255\\.(254|252|248|240|224|192|128|0)/i.test( value );\n}, \"Please enter a valid netmask.\" );\n\n/*\n * The NIE (NÃºmero de IdentificaciÃ³n de Extranjero) is a Spanish tax identification number assigned by the Spanish\n * authorities to any foreigner.\n *\n * The NIE is the equivalent of a Spaniards NÃºmero de IdentificaciÃ³n Fiscal (NIF) which serves as a fiscal\n * identification number. The CIF number (Certificado de IdentificaciÃ³n Fiscal) is equivalent to the NIF, but applies to\n * companies rather than individuals. The NIE consists of an 'X' or 'Y' followed by 7 or 8 digits then another letter.\n */\n$.validator.addMethod( \"nieES\", function( value, element ) {\n\t\"use strict\";\n\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\tvar nieRegEx = new RegExp( /^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi );\n\tvar validChars = \"TRWAGMYFPDXBNJZSQVHLCKET\",\n\t\tletter = value.substr( value.length - 1 ).toUpperCase(),\n\t\tnumber;\n\n\tvalue = value.toString().toUpperCase();\n\n\t// Quick format test\n\tif ( value.length > 10 || value.length < 9 || !nieRegEx.test( value ) ) {\n\t\treturn false;\n\t}\n\n\t// X means same number\n\t// Y means number + 10000000\n\t// Z means number + 20000000\n\tvalue = value.replace( /^[X]/, \"0\" )\n\t\t.replace( /^[Y]/, \"1\" )\n\t\t.replace( /^[Z]/, \"2\" );\n\n\tnumber = value.length === 9 ? value.substr( 0, 8 ) : value.substr( 0, 9 );\n\n\treturn validChars.charAt( parseInt( number, 10 ) % 23 ) === letter;\n\n}, \"Please specify a valid NIE number.\" );\n\n/*\n * The NÃºmero de IdentificaciÃ³n Fiscal ( NIF ) is the way tax identification used in Spain for individuals\n */\n$.validator.addMethod( \"nifES\", function( value, element ) {\n\t\"use strict\";\n\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\tvalue = value.toUpperCase();\n\n\t// Basic format test\n\tif ( !value.match( \"((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)\" ) ) {\n\t\treturn false;\n\t}\n\n\t// Test NIF\n\tif ( /^[0-9]{8}[A-Z]{1}$/.test( value ) ) {\n\t\treturn ( \"TRWAGMYFPDXBNJZSQVHLCKE\".charAt( value.substring( 8, 0 ) % 23 ) === value.charAt( 8 ) );\n\t}\n\n\t// Test specials NIF (starts with K, L or M)\n\tif ( /^[KLM]{1}/.test( value ) ) {\n\t\treturn ( value[ 8 ] === \"TRWAGMYFPDXBNJZSQVHLCKE\".charAt( value.substring( 8, 1 ) % 23 ) );\n\t}\n\n\treturn false;\n\n}, \"Please specify a valid NIF number.\" );\n\n/*\n * Numer identyfikacji podatkowej ( NIP ) is the way tax identification used in Poland for companies\n */\n$.validator.addMethod( \"nipPL\", function( value ) {\n\t\"use strict\";\n\n\tvalue = value.replace( /[^0-9]/g, \"\" );\n\n\tif ( value.length !== 10 ) {\n\t\treturn false;\n\t}\n\n\tvar arrSteps = [ 6, 5, 7, 2, 3, 4, 5, 6, 7 ];\n\tvar intSum = 0;\n\tfor ( var i = 0; i < 9; i++ ) {\n\t\tintSum += arrSteps[ i ] * value[ i ];\n\t}\n\tvar int2 = intSum % 11;\n\tvar intControlNr = ( int2 === 10 ) ? 0 : int2;\n\n\treturn ( intControlNr === parseInt( value[ 9 ], 10 ) );\n}, \"Please specify a valid NIP number.\" );\n\n/**\n * Created for project jquery-validation.\n * @Description Brazillian PIS or NIS number (NÃºmero de IdentificaÃ§Ã£o Social Pis ou Pasep) is the equivalent of a\n * Brazilian tax registration number NIS of PIS numbers have 11 digits in total: 10 numbers followed by 1 check numbers\n * that are being used for validation.\n * @copyright (c) 21/08/2018 13:14, Cleiton da Silva MendonÃ§a\n * @author Cleiton da Silva MendonÃ§a <cleiton.mendonca@gmail.com>\n * @link http://gitlab.com/csmendonca Gitlab of Cleiton da Silva MendonÃ§a\n * @link http://github.com/csmendonca Github of Cleiton da Silva MendonÃ§a\n */\n$.validator.addMethod( \"nisBR\", function( value ) {\n\tvar number;\n\tvar cn;\n\tvar sum = 0;\n\tvar dv;\n\tvar count;\n\tvar multiplier;\n\n\t// Removing special characters from value\n\tvalue = value.replace( /([~!@#$%^&*()_+=`{}\\[\\]\\-|\\\\:;'<>,.\\/? ])+/g, \"\" );\n\n\t// Checking value to have 11 digits only\n\tif ( value.length !== 11 ) {\n\t\treturn false;\n\t}\n\n\t//Get check number of value\n\tcn = parseInt( value.substring( 10, 11 ), 10 );\n\n\t//Get number with 10 digits of the value\n\tnumber = parseInt( value.substring( 0, 10 ), 10 );\n\n\tfor ( count = 2; count < 12; count++ ) {\n\t\tmultiplier = count;\n\t\tif ( count === 10 ) {\n\t\t\tmultiplier = 2;\n\t\t}\n\t\tif ( count === 11 ) {\n\t\t\tmultiplier = 3;\n\t\t}\n\t\tsum += ( ( number % 10 ) * multiplier );\n\t\tnumber = parseInt( number / 10, 10 );\n\t}\n\tdv = ( sum % 11 );\n\n\tif ( dv > 1 ) {\n\t\tdv = ( 11 - dv );\n\t} else {\n\t\tdv = 0;\n\t}\n\n\tif ( cn === dv ) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}, \"Please specify a valid NIS/PIS number.\" );\n\n$.validator.addMethod( \"notEqualTo\", function( value, element, param ) {\n\treturn this.optional( element ) || !$.validator.methods.equalTo.call( this, value, element, param );\n}, \"Please enter a different value, values must not be the same.\" );\n\n$.validator.addMethod( \"nowhitespace\", function( value, element ) {\n\treturn this.optional( element ) || /^\\S+$/i.test( value );\n}, \"No white space please.\" );\n\n/**\n* Return true if the field value matches the given format RegExp\n*\n* @example $.validator.methods.pattern(\"AR1004\",element,/^AR\\d{4}$/)\n* @result true\n*\n* @example $.validator.methods.pattern(\"BR1004\",element,/^AR\\d{4}$/)\n* @result false\n*\n* @name $.validator.methods.pattern\n* @type Boolean\n* @cat Plugins/Validate/Methods\n*/\n$.validator.addMethod( \"pattern\", function( value, element, param ) {\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\tif ( typeof param === \"string\" ) {\n\t\tparam = new RegExp( \"^(?:\" + param + \")$\" );\n\t}\n\treturn param.test( value );\n}, \"Invalid format.\" );\n\n/**\n * Dutch phone numbers have 10 digits (or 11 and start with +31).\n */\n$.validator.addMethod( \"phoneNL\", function( value, element ) {\n\treturn this.optional( element ) || /^((\\+|00(\\s|\\s?\\-\\s?)?)31(\\s|\\s?\\-\\s?)?(\\(0\\)[\\-\\s]?)?|0)[1-9]((\\s|\\s?\\-\\s?)?[0-9]){8}$/.test( value );\n}, \"Please specify a valid phone number.\" );\n\n/**\n * Polish telephone numbers have 9 digits.\n *\n * Mobile phone numbers starts with following digits:\n * 45, 50, 51, 53, 57, 60, 66, 69, 72, 73, 78, 79, 88.\n *\n * Fixed-line numbers starts with area codes:\n * 12, 13, 14, 15, 16, 17, 18, 22, 23, 24, 25, 29, 32, 33,\n * 34, 41, 42, 43, 44, 46, 48, 52, 54, 55, 56, 58, 59, 61,\n * 62, 63, 65, 67, 68, 71, 74, 75, 76, 77, 81, 82, 83, 84,\n * 85, 86, 87, 89, 91, 94, 95.\n *\n * Ministry of National Defence numbers and VoIP numbers starts with 26 and 39.\n *\n * Excludes intelligent networks (premium rate, shared cost, free phone numbers).\n *\n * Poland National Numbering Plan http://www.itu.int/oth/T02020000A8/en\n */\n$.validator.addMethod( \"phonePL\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\s+/g, \"\" );\n\tvar regexp = /^(?:(?:(?:\\+|00)?48)|(?:\\(\\+?48\\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\\d{7}$/;\n\treturn this.optional( element ) || regexp.test( phone_number );\n}, \"Please specify a valid phone number.\" );\n\n/* For UK phone functions, do the following server side processing:\n * Compare original input with this RegEx pattern:\n * ^\\(?(?:(?:00\\)?[\\s\\-]?\\(?|\\+)(44)\\)?[\\s\\-]?\\(?(?:0\\)?[\\s\\-]?\\(?)?|0)([1-9]\\d{1,4}\\)?[\\s\\d\\-]+)$\n * Extract $1 and set $prefix to '+44<space>' if $1 is '44', otherwise set $prefix to '0'\n * Extract $2 and remove hyphens, spaces and parentheses. Phone number is combined $prefix and $2.\n * A number of very detailed GB telephone number RegEx patterns can also be found at:\n * http://www.aa-asterisk.org.uk/index.php/Regular_Expressions_for_Validating_and_Formatting_GB_Telephone_Numbers\n */\n\n// Matches UK landline + mobile, accepting only 01-3 for landline or 07 for mobile to exclude many premium numbers\n$.validator.addMethod( \"phonesUK\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\(|\\)|\\s+|-/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(?:(?:(?:00\\s?|\\+)44\\s?|0)(?:1\\d{8,9}|[23]\\d{9}|7(?:[1345789]\\d{8}|624\\d{6})))$/ );\n}, \"Please specify a valid uk phone number.\" );\n\n/* For UK phone functions, do the following server side processing:\n * Compare original input with this RegEx pattern:\n * ^\\(?(?:(?:00\\)?[\\s\\-]?\\(?|\\+)(44)\\)?[\\s\\-]?\\(?(?:0\\)?[\\s\\-]?\\(?)?|0)([1-9]\\d{1,4}\\)?[\\s\\d\\-]+)$\n * Extract $1 and set $prefix to '+44<space>' if $1 is '44', otherwise set $prefix to '0'\n * Extract $2 and remove hyphens, spaces and parentheses. Phone number is combined $prefix and $2.\n * A number of very detailed GB telephone number RegEx patterns can also be found at:\n * http://www.aa-asterisk.org.uk/index.php/Regular_Expressions_for_Validating_and_Formatting_GB_Telephone_Numbers\n */\n$.validator.addMethod( \"phoneUK\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\(|\\)|\\s+|-/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(?:(?:(?:00\\s?|\\+)44\\s?)|(?:\\(?0))(?:\\d{2}\\)?\\s?\\d{4}\\s?\\d{4}|\\d{3}\\)?\\s?\\d{3}\\s?\\d{3,4}|\\d{4}\\)?\\s?(?:\\d{5}|\\d{3}\\s?\\d{3})|\\d{5}\\)?\\s?\\d{4,5})$/ );\n}, \"Please specify a valid phone number.\" );\n\n/**\n * Matches US phone number format\n *\n * where the area code may not start with 1 and the prefix may not start with 1\n * allows '-' or ' ' as a separator and allows parens around area code\n * some people may want to put a '1' in front of their number\n *\n * 1(212)-999-2345 or\n * 212 999 2344 or\n * 212-999-0983\n *\n * but not\n * 111-123-5434\n * and not\n * 212 123 4567\n */\n$.validator.addMethod( \"phoneUS\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\s+/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(\\+?1-?)?(\\([2-9]([02-9]\\d|1[02-9])\\)|[2-9]([02-9]\\d|1[02-9]))-?[2-9]\\d{2}-?\\d{4}$/ );\n}, \"Please specify a valid phone number.\" );\n\n/*\n* Valida CEPs do brasileiros:\n*\n* Formatos aceitos:\n* 99999-999\n* 99.999-999\n* 99999999\n*/\n$.validator.addMethod( \"postalcodeBR\", function( cep_value, element ) {\n\treturn this.optional( element ) || /^\\d{2}.\\d{3}-\\d{3}?$|^\\d{5}-?\\d{3}?$/.test( cep_value );\n}, \"Informe um CEP vÃ¡lido.\" );\n\n/**\n * Matches a valid Canadian Postal Code\n *\n * @example jQuery.validator.methods.postalCodeCA( \"H0H 0H0\", element )\n * @result true\n *\n * @example jQuery.validator.methods.postalCodeCA( \"H0H0H0\", element )\n * @result false\n *\n * @name jQuery.validator.methods.postalCodeCA\n * @type Boolean\n * @cat Plugins/Validate/Methods\n */\n$.validator.addMethod( \"postalCodeCA\", function( value, element ) {\n\treturn this.optional( element ) || /^[ABCEGHJKLMNPRSTVXY]\\d[ABCEGHJKLMNPRSTVWXYZ] *\\d[ABCEGHJKLMNPRSTVWXYZ]\\d$/i.test( value );\n}, \"Please specify a valid postal code.\" );\n\n/* Matches Italian postcode (CAP) */\n$.validator.addMethod( \"postalcodeIT\", function( value, element ) {\n\treturn this.optional( element ) || /^\\d{5}$/.test( value );\n}, \"Please specify a valid postal code.\" );\n\n$.validator.addMethod( \"postalcodeNL\", function( value, element ) {\n\treturn this.optional( element ) || /^[1-9][0-9]{3}\\s?[a-zA-Z]{2}$/.test( value );\n}, \"Please specify a valid postal code.\" );\n\n// Matches UK postcode. Does not match to UK Channel Islands that have their own postcodes (non standard UK)\n$.validator.addMethod( \"postcodeUK\", function( value, element ) {\n\treturn this.optional( element ) || /^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\\s?(0AA))$/i.test( value );\n}, \"Please specify a valid UK postcode.\" );\n\n/*\n * Lets you say \"at least X inputs that match selector Y must be filled.\"\n *\n * The end result is that neither of these inputs:\n *\n *\t<input class=\"productinfo\" name=\"partnumber\">\n *\t<input class=\"productinfo\" name=\"description\">\n *\n *\t...will validate unless at least one of them is filled.\n *\n * partnumber:\t{require_from_group: [1,\".productinfo\"]},\n * description: {require_from_group: [1,\".productinfo\"]}\n *\n * options[0]: number of fields that must be filled in the group\n * options[1]: CSS selector that defines the group of conditionally required fields\n */\n$.validator.addMethod( \"require_from_group\", function( value, element, options ) {\n\tvar $fields = $( options[ 1 ], element.form ),\n\t\t$fieldsFirst = $fields.eq( 0 ),\n\t\tvalidator = $fieldsFirst.data( \"valid_req_grp\" ) ? $fieldsFirst.data( \"valid_req_grp\" ) : $.extend( {}, this ),\n\t\tisValid = $fields.filter( function() {\n\t\t\treturn validator.elementValue( this );\n\t\t} ).length >= options[ 0 ];\n\n\t// Store the cloned validator for future validation\n\t$fieldsFirst.data( \"valid_req_grp\", validator );\n\n\t// If element isn't being validated, run each require_from_group field's validation rules\n\tif ( !$( element ).data( \"being_validated\" ) ) {\n\t\t$fields.data( \"being_validated\", true );\n\t\t$fields.each( function() {\n\t\t\tvalidator.element( this );\n\t\t} );\n\t\t$fields.data( \"being_validated\", false );\n\t}\n\treturn isValid;\n}, $.validator.format( \"Please fill at least {0} of these fields.\" ) );\n\n/*\n * Lets you say \"either at least X inputs that match selector Y must be filled,\n * OR they must all be skipped (left blank).\"\n *\n * The end result, is that none of these inputs:\n *\n *\t<input class=\"productinfo\" name=\"partnumber\">\n *\t<input class=\"productinfo\" name=\"description\">\n *\t<input class=\"productinfo\" name=\"color\">\n *\n *\t...will validate unless either at least two of them are filled,\n *\tOR none of them are.\n *\n * partnumber:\t{skip_or_fill_minimum: [2,\".productinfo\"]},\n * description: {skip_or_fill_minimum: [2,\".productinfo\"]},\n * color:\t\t{skip_or_fill_minimum: [2,\".productinfo\"]}\n *\n * options[0]: number of fields that must be filled in the group\n * options[1]: CSS selector that defines the group of conditionally required fields\n *\n */\n$.validator.addMethod( \"skip_or_fill_minimum\", function( value, element, options ) {\n\tvar $fields = $( options[ 1 ], element.form ),\n\t\t$fieldsFirst = $fields.eq( 0 ),\n\t\tvalidator = $fieldsFirst.data( \"valid_skip\" ) ? $fieldsFirst.data( \"valid_skip\" ) : $.extend( {}, this ),\n\t\tnumberFilled = $fields.filter( function() {\n\t\t\treturn validator.elementValue( this );\n\t\t} ).length,\n\t\tisValid = numberFilled === 0 || numberFilled >= options[ 0 ];\n\n\t// Store the cloned validator for future validation\n\t$fieldsFirst.data( \"valid_skip\", validator );\n\n\t// If element isn't being validated, run each skip_or_fill_minimum field's validation rules\n\tif ( !$( element ).data( \"being_validated\" ) ) {\n\t\t$fields.data( \"being_validated\", true );\n\t\t$fields.each( function() {\n\t\t\tvalidator.element( this );\n\t\t} );\n\t\t$fields.data( \"being_validated\", false );\n\t}\n\treturn isValid;\n}, $.validator.format( \"Please either skip these fields or fill at least {0} of them.\" ) );\n\n/* Validates US States and/or Territories by @jdforsythe\n * Can be case insensitive or require capitalization - default is case insensitive\n * Can include US Territories or not - default does not\n * Can include US Military postal abbreviations (AA, AE, AP) - default does not\n *\n * Note: \"States\" always includes DC (District of Colombia)\n *\n * Usage examples:\n *\n *  This is the default - case insensitive, no territories, no military zones\n *  stateInput: {\n *     caseSensitive: false,\n *     includeTerritories: false,\n *     includeMilitary: false\n *  }\n *\n *  Only allow capital letters, no territories, no military zones\n *  stateInput: {\n *     caseSensitive: false\n *  }\n *\n *  Case insensitive, include territories but not military zones\n *  stateInput: {\n *     includeTerritories: true\n *  }\n *\n *  Only allow capital letters, include territories and military zones\n *  stateInput: {\n *     caseSensitive: true,\n *     includeTerritories: true,\n *     includeMilitary: true\n *  }\n *\n */\n$.validator.addMethod( \"stateUS\", function( value, element, options ) {\n\tvar isDefault = typeof options === \"undefined\",\n\t\tcaseSensitive = ( isDefault || typeof options.caseSensitive === \"undefined\" ) ? false : options.caseSensitive,\n\t\tincludeTerritories = ( isDefault || typeof options.includeTerritories === \"undefined\" ) ? false : options.includeTerritories,\n\t\tincludeMilitary = ( isDefault || typeof options.includeMilitary === \"undefined\" ) ? false : options.includeMilitary,\n\t\tregex;\n\n\tif ( !includeTerritories && !includeMilitary ) {\n\t\tregex = \"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$\";\n\t} else if ( includeTerritories && includeMilitary ) {\n\t\tregex = \"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$\";\n\t} else if ( includeTerritories ) {\n\t\tregex = \"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$\";\n\t} else {\n\t\tregex = \"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$\";\n\t}\n\n\tregex = caseSensitive ? new RegExp( regex ) : new RegExp( regex, \"i\" );\n\treturn this.optional( element ) || regex.test( value );\n}, \"Please specify a valid state.\" );\n\n// TODO check if value starts with <, otherwise don't try stripping anything\n$.validator.addMethod( \"strippedminlength\", function( value, element, param ) {\n\treturn $( value ).text().length >= param;\n}, $.validator.format( \"Please enter at least {0} characters.\" ) );\n\n$.validator.addMethod( \"time\", function( value, element ) {\n\treturn this.optional( element ) || /^([01]\\d|2[0-3]|[0-9])(:[0-5]\\d){1,2}$/.test( value );\n}, \"Please enter a valid time, between 00:00 and 23:59.\" );\n\n$.validator.addMethod( \"time12h\", function( value, element ) {\n\treturn this.optional( element ) || /^((0?[1-9]|1[012])(:[0-5]\\d){1,2}(\\ ?[AP]M))$/i.test( value );\n}, \"Please enter a valid time in 12-hour am/pm format.\" );\n\n// Same as url, but TLD is optional\n$.validator.addMethod( \"url2\", function( value, element ) {\n\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:(?:[^\\]\\[?\\/<~#`!@$^&*()+=}|:\";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\\]\\[?\\/<~#`!@$^&*()+=}|:\";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?)|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff])|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62}\\.)))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n}, $.validator.messages.url );\n\n/**\n * Return true, if the value is a valid vehicle identification number (VIN).\n *\n * Works with all kind of text inputs.\n *\n * @example <input type=\"text\" size=\"20\" name=\"VehicleID\" class=\"{required:true,vinUS:true}\" />\n * @desc Declares a required input element whose value must be a valid vehicle identification number.\n *\n * @name $.validator.methods.vinUS\n * @type Boolean\n * @cat Plugins/Validate/Methods\n */\n$.validator.addMethod( \"vinUS\", function( v ) {\n\tif ( v.length !== 17 ) {\n\t\treturn false;\n\t}\n\n\tvar LL = [ \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", \"M\", \"N\", \"P\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\" ],\n\t\tVL = [ 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9 ],\n\t\tFL = [ 8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2 ],\n\t\trs = 0,\n\t\ti, n, d, f, cd, cdv;\n\n\tfor ( i = 0; i < 17; i++ ) {\n\t\tf = FL[ i ];\n\t\td = v.slice( i, i + 1 );\n\t\tif ( i === 8 ) {\n\t\t\tcdv = d;\n\t\t}\n\t\tif ( !isNaN( d ) ) {\n\t\t\td *= f;\n\t\t} else {\n\t\t\tfor ( n = 0; n < LL.length; n++ ) {\n\t\t\t\tif ( d.toUpperCase() === LL[ n ] ) {\n\t\t\t\t\td = VL[ n ];\n\t\t\t\t\td *= f;\n\t\t\t\t\tif ( isNaN( cdv ) && n === 8 ) {\n\t\t\t\t\t\tcdv = LL[ n ];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trs += d;\n\t}\n\tcd = rs % 11;\n\tif ( cd === 10 ) {\n\t\tcd = \"X\";\n\t}\n\tif ( cd === cdv ) {\n\t\treturn true;\n\t}\n\treturn false;\n}, \"The specified vehicle identification number (VIN) is invalid.\" );\n\n$.validator.addMethod( \"zipcodeUS\", function( value, element ) {\n\treturn this.optional( element ) || /^\\d{5}(-\\d{4})?$/.test( value );\n}, \"The specified US ZIP Code is invalid.\" );\n\n$.validator.addMethod( \"ziprange\", function( value, element ) {\n\treturn this.optional( element ) || /^90[2-5]\\d\\{2\\}-\\d{4}$/.test( value );\n}, \"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx.\" );\nreturn $;\n}));\n(function ($) {\n  /**\n   * Copyright 2012, Digital Fusion\n   * Licensed under the MIT license.\n   * http://teamdf.com/jquery-plugins/license/\n   *\n   * @author Sam Sehnert\n   * @desc A small plugin that checks whether elements are within\n   *       the user visible viewport of a web browser.\n   *       can accounts for vertical position, horizontal, or both\n   */\n  var $w = $(window);\n  $.fn.visible = function (partial, hidden, direction, container) {\n    if (this.length < 1) return;\n\n    // Set direction default to 'both'.\n    direction = direction || \"both\";\n\n    var $t = this.length > 1 ? this.eq(0) : this,\n      isContained = typeof container !== \"undefined\" && container !== null,\n      $c = isContained ? $(container) : $w,\n      wPosition = isContained ? $c.position() : 0,\n      t = $t.get(0),\n      vpWidth = $c.outerWidth(),\n      vpHeight = $c.outerHeight(),\n      clientSize = hidden === true ? t.offsetWidth * t.offsetHeight : true;\n\n    if (typeof t.getBoundingClientRect === \"function\") {\n      // Use this native browser method, if available.\n      var rec = t.getBoundingClientRect(),\n        tViz = isContained\n          ? rec.top - wPosition.top >= 0 && rec.top < vpHeight + wPosition.top\n          : rec.top >= 0 && rec.top < vpHeight,\n        bViz = isContained\n          ? rec.bottom - wPosition.top > 0 &&\n            rec.bottom <= vpHeight + wPosition.top\n          : rec.bottom > 0 && rec.bottom <= vpHeight,\n        lViz = isContained\n          ? rec.left - wPosition.left >= 0 &&\n            rec.left < vpWidth + wPosition.left\n          : rec.left >= 0 && rec.left < vpWidth,\n        rViz = isContained\n          ? rec.right - wPosition.left > 0 &&\n            rec.right < vpWidth + wPosition.left\n          : rec.right > 0 && rec.right <= vpWidth,\n        vVisible = partial ? tViz || bViz : tViz && bViz,\n        hVisible = partial ? lViz || rViz : lViz && rViz,\n        vVisible = rec.top < 0 && rec.bottom > vpHeight ? true : vVisible,\n        hVisible = rec.left < 0 && rec.right > vpWidth ? true : hVisible;\n\n      if (direction === \"both\") return clientSize && vVisible && hVisible;\n      else if (direction === \"vertical\") return clientSize && vVisible;\n      else if (direction === \"horizontal\") return clientSize && hVisible;\n    } else {\n      var viewTop = isContained ? 0 : wPosition,\n        viewBottom = viewTop + vpHeight,\n        viewLeft = $c.scrollLeft(),\n        viewRight = viewLeft + vpWidth,\n        position = $t.position(),\n        _top = position.top,\n        _bottom = _top + $t.height(),\n        _left = position.left,\n        _right = _left + $t.width(),\n        compareTop = partial === true ? _bottom : _top,\n        compareBottom = partial === true ? _top : _bottom,\n        compareLeft = partial === true ? _right : _left,\n        compareRight = partial === true ? _left : _right;\n\n      if (direction === \"both\")\n        return (\n          !!clientSize &&\n          compareBottom <= viewBottom &&\n          compareTop >= viewTop &&\n          compareRight <= viewRight &&\n          compareLeft >= viewLeft\n        );\n      else if (direction === \"vertical\")\n        return (\n          !!clientSize && compareBottom <= viewBottom && compareTop >= viewTop\n        );\n      else if (direction === \"horizontal\")\n        return (\n          !!clientSize && compareRight <= viewRight && compareLeft >= viewLeft\n        );\n    }\n  };\n})(jQuery);\n\n/*!\n  * Bootstrap v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bootstrap = factory());\n})(this, (function () { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/data.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  /**\n   * Constants\n   */\n\n  const elementMap = new Map();\n  const Data = {\n    set(element, key, instance) {\n      if (!elementMap.has(element)) {\n        elementMap.set(element, new Map());\n      }\n      const instanceMap = elementMap.get(element);\n\n      // make it clear we only want one instance per element\n      // can be removed later when multiple key/instances are fine to be used\n      if (!instanceMap.has(key) && instanceMap.size !== 0) {\n        // eslint-disable-next-line no-console\n        console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`);\n        return;\n      }\n      instanceMap.set(key, instance);\n    },\n    get(element, key) {\n      if (elementMap.has(element)) {\n        return elementMap.get(element).get(key) || null;\n      }\n      return null;\n    },\n    remove(element, key) {\n      if (!elementMap.has(element)) {\n        return;\n      }\n      const instanceMap = elementMap.get(element);\n      instanceMap.delete(key);\n\n      // free up element references if there are no instances left for an element\n      if (instanceMap.size === 0) {\n        elementMap.delete(element);\n      }\n    }\n  };\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/index.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  const MAX_UID = 1000000;\n  const MILLISECONDS_MULTIPLIER = 1000;\n  const TRANSITION_END = 'transitionend';\n\n  /**\n   * Properly escape IDs selectors to handle weird IDs\n   * @param {string} selector\n   * @returns {string}\n   */\n  const parseSelector = selector => {\n    if (selector && window.CSS && window.CSS.escape) {\n      // document.querySelector needs escaping to handle IDs (html5+) containing for instance /\n      selector = selector.replace(/#([^\\s\"#']+)/g, (match, id) => `#${CSS.escape(id)}`);\n    }\n    return selector;\n  };\n\n  // Shout-out Angus Croll (https://goo.gl/pxwQGp)\n  const toType = object => {\n    if (object === null || object === undefined) {\n      return `${object}`;\n    }\n    return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase();\n  };\n\n  /**\n   * Public Util API\n   */\n\n  const getUID = prefix => {\n    do {\n      prefix += Math.floor(Math.random() * MAX_UID);\n    } while (document.getElementById(prefix));\n    return prefix;\n  };\n  const getTransitionDurationFromElement = element => {\n    if (!element) {\n      return 0;\n    }\n\n    // Get transition-duration of the element\n    let {\n      transitionDuration,\n      transitionDelay\n    } = window.getComputedStyle(element);\n    const floatTransitionDuration = Number.parseFloat(transitionDuration);\n    const floatTransitionDelay = Number.parseFloat(transitionDelay);\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0;\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0];\n    transitionDelay = transitionDelay.split(',')[0];\n    return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;\n  };\n  const triggerTransitionEnd = element => {\n    element.dispatchEvent(new Event(TRANSITION_END));\n  };\n  const isElement$1 = object => {\n    if (!object || typeof object !== 'object') {\n      return false;\n    }\n    if (typeof object.jquery !== 'undefined') {\n      object = object[0];\n    }\n    return typeof object.nodeType !== 'undefined';\n  };\n  const getElement = object => {\n    // it's a jQuery object or a node element\n    if (isElement$1(object)) {\n      return object.jquery ? object[0] : object;\n    }\n    if (typeof object === 'string' && object.length > 0) {\n      return document.querySelector(parseSelector(object));\n    }\n    return null;\n  };\n  const isVisible = element => {\n    if (!isElement$1(element) || element.getClientRects().length === 0) {\n      return false;\n    }\n    const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible';\n    // Handle `details` element as its content may falsie appear visible when it is closed\n    const closedDetails = element.closest('details:not([open])');\n    if (!closedDetails) {\n      return elementIsVisible;\n    }\n    if (closedDetails !== element) {\n      const summary = element.closest('summary');\n      if (summary && summary.parentNode !== closedDetails) {\n        return false;\n      }\n      if (summary === null) {\n        return false;\n      }\n    }\n    return elementIsVisible;\n  };\n  const isDisabled = element => {\n    if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n      return true;\n    }\n    if (element.classList.contains('disabled')) {\n      return true;\n    }\n    if (typeof element.disabled !== 'undefined') {\n      return element.disabled;\n    }\n    return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false';\n  };\n  const findShadowRoot = element => {\n    if (!document.documentElement.attachShadow) {\n      return null;\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode();\n      return root instanceof ShadowRoot ? root : null;\n    }\n    if (element instanceof ShadowRoot) {\n      return element;\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null;\n    }\n    return findShadowRoot(element.parentNode);\n  };\n  const noop = () => {};\n\n  /**\n   * Trick to restart an element's animation\n   *\n   * @param {HTMLElement} element\n   * @return void\n   *\n   * @see https://www.harrytheo.com/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n   */\n  const reflow = element => {\n    element.offsetHeight; // eslint-disable-line no-unused-expressions\n  };\n  const getjQuery = () => {\n    if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n      return window.jQuery;\n    }\n    return null;\n  };\n  const DOMContentLoadedCallbacks = [];\n  const onDOMContentLoaded = callback => {\n    if (document.readyState === 'loading') {\n      // add listener on the first call when the document is in loading state\n      if (!DOMContentLoadedCallbacks.length) {\n        document.addEventListener('DOMContentLoaded', () => {\n          for (const callback of DOMContentLoadedCallbacks) {\n            callback();\n          }\n        });\n      }\n      DOMContentLoadedCallbacks.push(callback);\n    } else {\n      callback();\n    }\n  };\n  const isRTL = () => document.documentElement.dir === 'rtl';\n  const defineJQueryPlugin = plugin => {\n    onDOMContentLoaded(() => {\n      const $ = getjQuery();\n      /* istanbul ignore if */\n      if ($) {\n        const name = plugin.NAME;\n        const JQUERY_NO_CONFLICT = $.fn[name];\n        $.fn[name] = plugin.jQueryInterface;\n        $.fn[name].Constructor = plugin;\n        $.fn[name].noConflict = () => {\n          $.fn[name] = JQUERY_NO_CONFLICT;\n          return plugin.jQueryInterface;\n        };\n      }\n    });\n  };\n  const execute = (possibleCallback, args = [], defaultValue = possibleCallback) => {\n    return typeof possibleCallback === 'function' ? possibleCallback.call(...args) : defaultValue;\n  };\n  const executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n    if (!waitForTransition) {\n      execute(callback);\n      return;\n    }\n    const durationPadding = 5;\n    const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding;\n    let called = false;\n    const handler = ({\n      target\n    }) => {\n      if (target !== transitionElement) {\n        return;\n      }\n      called = true;\n      transitionElement.removeEventListener(TRANSITION_END, handler);\n      execute(callback);\n    };\n    transitionElement.addEventListener(TRANSITION_END, handler);\n    setTimeout(() => {\n      if (!called) {\n        triggerTransitionEnd(transitionElement);\n      }\n    }, emulatedDuration);\n  };\n\n  /**\n   * Return the previous/next element of a list.\n   *\n   * @param {array} list    The list of elements\n   * @param activeElement   The active element\n   * @param shouldGetNext   Choose to get next or previous element\n   * @param isCycleAllowed\n   * @return {Element|elem} The proper element\n   */\n  const getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n    const listLength = list.length;\n    let index = list.indexOf(activeElement);\n\n    // if the element does not exist in the list return an element\n    // depending on the direction and if cycle is allowed\n    if (index === -1) {\n      return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0];\n    }\n    index += shouldGetNext ? 1 : -1;\n    if (isCycleAllowed) {\n      index = (index + listLength) % listLength;\n    }\n    return list[Math.max(0, Math.min(index, listLength - 1))];\n  };\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/event-handler.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const namespaceRegex = /[^.]*(?=\\..*)\\.|.*/;\n  const stripNameRegex = /\\..*/;\n  const stripUidRegex = /::\\d+$/;\n  const eventRegistry = {}; // Events storage\n  let uidEvent = 1;\n  const customEvents = {\n    mouseenter: 'mouseover',\n    mouseleave: 'mouseout'\n  };\n  const nativeEvents = new Set(['click', 'dblclick', 'mouseup', 'mousedown', 'contextmenu', 'mousewheel', 'DOMMouseScroll', 'mouseover', 'mouseout', 'mousemove', 'selectstart', 'selectend', 'keydown', 'keypress', 'keyup', 'orientationchange', 'touchstart', 'touchmove', 'touchend', 'touchcancel', 'pointerdown', 'pointermove', 'pointerup', 'pointerleave', 'pointercancel', 'gesturestart', 'gesturechange', 'gestureend', 'focus', 'blur', 'change', 'reset', 'select', 'submit', 'focusin', 'focusout', 'load', 'unload', 'beforeunload', 'resize', 'move', 'DOMContentLoaded', 'readystatechange', 'error', 'abort', 'scroll']);\n\n  /**\n   * Private methods\n   */\n\n  function makeEventUid(element, uid) {\n    return uid && `${uid}::${uidEvent++}` || element.uidEvent || uidEvent++;\n  }\n  function getElementEvents(element) {\n    const uid = makeEventUid(element);\n    element.uidEvent = uid;\n    eventRegistry[uid] = eventRegistry[uid] || {};\n    return eventRegistry[uid];\n  }\n  function bootstrapHandler(element, fn) {\n    return function handler(event) {\n      hydrateObj(event, {\n        delegateTarget: element\n      });\n      if (handler.oneOff) {\n        EventHandler.off(element, event.type, fn);\n      }\n      return fn.apply(element, [event]);\n    };\n  }\n  function bootstrapDelegationHandler(element, selector, fn) {\n    return function handler(event) {\n      const domElements = element.querySelectorAll(selector);\n      for (let {\n        target\n      } = event; target && target !== this; target = target.parentNode) {\n        for (const domElement of domElements) {\n          if (domElement !== target) {\n            continue;\n          }\n          hydrateObj(event, {\n            delegateTarget: target\n          });\n          if (handler.oneOff) {\n            EventHandler.off(element, event.type, selector, fn);\n          }\n          return fn.apply(target, [event]);\n        }\n      }\n    };\n  }\n  function findHandler(events, callable, delegationSelector = null) {\n    return Object.values(events).find(event => event.callable === callable && event.delegationSelector === delegationSelector);\n  }\n  function normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n    const isDelegated = typeof handler === 'string';\n    // TODO: tooltip passes `false` instead of selector, so we need to check\n    const callable = isDelegated ? delegationFunction : handler || delegationFunction;\n    let typeEvent = getTypeEvent(originalTypeEvent);\n    if (!nativeEvents.has(typeEvent)) {\n      typeEvent = originalTypeEvent;\n    }\n    return [isDelegated, callable, typeEvent];\n  }\n  function addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return;\n    }\n    let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n\n    // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n    // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n    if (originalTypeEvent in customEvents) {\n      const wrapFunction = fn => {\n        return function (event) {\n          if (!event.relatedTarget || event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget)) {\n            return fn.call(this, event);\n          }\n        };\n      };\n      callable = wrapFunction(callable);\n    }\n    const events = getElementEvents(element);\n    const handlers = events[typeEvent] || (events[typeEvent] = {});\n    const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null);\n    if (previousFunction) {\n      previousFunction.oneOff = previousFunction.oneOff && oneOff;\n      return;\n    }\n    const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''));\n    const fn = isDelegated ? bootstrapDelegationHandler(element, handler, callable) : bootstrapHandler(element, callable);\n    fn.delegationSelector = isDelegated ? handler : null;\n    fn.callable = callable;\n    fn.oneOff = oneOff;\n    fn.uidEvent = uid;\n    handlers[uid] = fn;\n    element.addEventListener(typeEvent, fn, isDelegated);\n  }\n  function removeHandler(element, events, typeEvent, handler, delegationSelector) {\n    const fn = findHandler(events[typeEvent], handler, delegationSelector);\n    if (!fn) {\n      return;\n    }\n    element.removeEventListener(typeEvent, fn, Boolean(delegationSelector));\n    delete events[typeEvent][fn.uidEvent];\n  }\n  function removeNamespacedHandlers(element, events, typeEvent, namespace) {\n    const storeElementEvent = events[typeEvent] || {};\n    for (const [handlerKey, event] of Object.entries(storeElementEvent)) {\n      if (handlerKey.includes(namespace)) {\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n      }\n    }\n  }\n  function getTypeEvent(event) {\n    // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n    event = event.replace(stripNameRegex, '');\n    return customEvents[event] || event;\n  }\n  const EventHandler = {\n    on(element, event, handler, delegationFunction) {\n      addHandler(element, event, handler, delegationFunction, false);\n    },\n    one(element, event, handler, delegationFunction) {\n      addHandler(element, event, handler, delegationFunction, true);\n    },\n    off(element, originalTypeEvent, handler, delegationFunction) {\n      if (typeof originalTypeEvent !== 'string' || !element) {\n        return;\n      }\n      const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n      const inNamespace = typeEvent !== originalTypeEvent;\n      const events = getElementEvents(element);\n      const storeElementEvent = events[typeEvent] || {};\n      const isNamespace = originalTypeEvent.startsWith('.');\n      if (typeof callable !== 'undefined') {\n        // Simplest case: handler is passed, remove that listener ONLY.\n        if (!Object.keys(storeElementEvent).length) {\n          return;\n        }\n        removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null);\n        return;\n      }\n      if (isNamespace) {\n        for (const elementEvent of Object.keys(events)) {\n          removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1));\n        }\n      }\n      for (const [keyHandlers, event] of Object.entries(storeElementEvent)) {\n        const handlerKey = keyHandlers.replace(stripUidRegex, '');\n        if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n          removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n        }\n      }\n    },\n    trigger(element, event, args) {\n      if (typeof event !== 'string' || !element) {\n        return null;\n      }\n      const $ = getjQuery();\n      const typeEvent = getTypeEvent(event);\n      const inNamespace = event !== typeEvent;\n      let jQueryEvent = null;\n      let bubbles = true;\n      let nativeDispatch = true;\n      let defaultPrevented = false;\n      if (inNamespace && $) {\n        jQueryEvent = $.Event(event, args);\n        $(element).trigger(jQueryEvent);\n        bubbles = !jQueryEvent.isPropagationStopped();\n        nativeDispatch = !jQueryEvent.isImmediatePropagationStopped();\n        defaultPrevented = jQueryEvent.isDefaultPrevented();\n      }\n      const evt = hydrateObj(new Event(event, {\n        bubbles,\n        cancelable: true\n      }), args);\n      if (defaultPrevented) {\n        evt.preventDefault();\n      }\n      if (nativeDispatch) {\n        element.dispatchEvent(evt);\n      }\n      if (evt.defaultPrevented && jQueryEvent) {\n        jQueryEvent.preventDefault();\n      }\n      return evt;\n    }\n  };\n  function hydrateObj(obj, meta = {}) {\n    for (const [key, value] of Object.entries(meta)) {\n      try {\n        obj[key] = value;\n      } catch (_unused) {\n        Object.defineProperty(obj, key, {\n          configurable: true,\n          get() {\n            return value;\n          }\n        });\n      }\n    }\n    return obj;\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/manipulator.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  function normalizeData(value) {\n    if (value === 'true') {\n      return true;\n    }\n    if (value === 'false') {\n      return false;\n    }\n    if (value === Number(value).toString()) {\n      return Number(value);\n    }\n    if (value === '' || value === 'null') {\n      return null;\n    }\n    if (typeof value !== 'string') {\n      return value;\n    }\n    try {\n      return JSON.parse(decodeURIComponent(value));\n    } catch (_unused) {\n      return value;\n    }\n  }\n  function normalizeDataKey(key) {\n    return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`);\n  }\n  const Manipulator = {\n    setDataAttribute(element, key, value) {\n      element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value);\n    },\n    removeDataAttribute(element, key) {\n      element.removeAttribute(`data-bs-${normalizeDataKey(key)}`);\n    },\n    getDataAttributes(element) {\n      if (!element) {\n        return {};\n      }\n      const attributes = {};\n      const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'));\n      for (const key of bsKeys) {\n        let pureKey = key.replace(/^bs/, '');\n        pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1);\n        attributes[pureKey] = normalizeData(element.dataset[key]);\n      }\n      return attributes;\n    },\n    getDataAttribute(element, key) {\n      return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`));\n    }\n  };\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/config.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Class definition\n   */\n\n  class Config {\n    // Getters\n    static get Default() {\n      return {};\n    }\n    static get DefaultType() {\n      return {};\n    }\n    static get NAME() {\n      throw new Error('You have to implement the static method \"NAME\", for each component!');\n    }\n    _getConfig(config) {\n      config = this._mergeConfigObj(config);\n      config = this._configAfterMerge(config);\n      this._typeCheckConfig(config);\n      return config;\n    }\n    _configAfterMerge(config) {\n      return config;\n    }\n    _mergeConfigObj(config, element) {\n      const jsonConfig = isElement$1(element) ? Manipulator.getDataAttribute(element, 'config') : {}; // try to parse\n\n      return {\n        ...this.constructor.Default,\n        ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n        ...(isElement$1(element) ? Manipulator.getDataAttributes(element) : {}),\n        ...(typeof config === 'object' ? config : {})\n      };\n    }\n    _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n      for (const [property, expectedTypes] of Object.entries(configTypes)) {\n        const value = config[property];\n        const valueType = isElement$1(value) ? 'element' : toType(value);\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`);\n        }\n      }\n    }\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap base-component.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const VERSION = '5.3.7';\n\n  /**\n   * Class definition\n   */\n\n  class BaseComponent extends Config {\n    constructor(element, config) {\n      super();\n      element = getElement(element);\n      if (!element) {\n        return;\n      }\n      this._element = element;\n      this._config = this._getConfig(config);\n      Data.set(this._element, this.constructor.DATA_KEY, this);\n    }\n\n    // Public\n    dispose() {\n      Data.remove(this._element, this.constructor.DATA_KEY);\n      EventHandler.off(this._element, this.constructor.EVENT_KEY);\n      for (const propertyName of Object.getOwnPropertyNames(this)) {\n        this[propertyName] = null;\n      }\n    }\n\n    // Private\n    _queueCallback(callback, element, isAnimated = true) {\n      executeAfterTransition(callback, element, isAnimated);\n    }\n    _getConfig(config) {\n      config = this._mergeConfigObj(config, this._element);\n      config = this._configAfterMerge(config);\n      this._typeCheckConfig(config);\n      return config;\n    }\n\n    // Static\n    static getInstance(element) {\n      return Data.get(getElement(element), this.DATA_KEY);\n    }\n    static getOrCreateInstance(element, config = {}) {\n      return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null);\n    }\n    static get VERSION() {\n      return VERSION;\n    }\n    static get DATA_KEY() {\n      return `bs.${this.NAME}`;\n    }\n    static get EVENT_KEY() {\n      return `.${this.DATA_KEY}`;\n    }\n    static eventName(name) {\n      return `${name}${this.EVENT_KEY}`;\n    }\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/selector-engine.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  const getSelector = element => {\n    let selector = element.getAttribute('data-bs-target');\n    if (!selector || selector === '#') {\n      let hrefAttribute = element.getAttribute('href');\n\n      // The only valid content that could double as a selector are IDs or classes,\n      // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n      // `document.querySelector` will rightfully complain it is invalid.\n      // See https://github.com/twbs/bootstrap/issues/32273\n      if (!hrefAttribute || !hrefAttribute.includes('#') && !hrefAttribute.startsWith('.')) {\n        return null;\n      }\n\n      // Just in case some CMS puts out a full URL with the anchor appended\n      if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n        hrefAttribute = `#${hrefAttribute.split('#')[1]}`;\n      }\n      selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null;\n    }\n    return selector ? selector.split(',').map(sel => parseSelector(sel)).join(',') : null;\n  };\n  const SelectorEngine = {\n    find(selector, element = document.documentElement) {\n      return [].concat(...Element.prototype.querySelectorAll.call(element, selector));\n    },\n    findOne(selector, element = document.documentElement) {\n      return Element.prototype.querySelector.call(element, selector);\n    },\n    children(element, selector) {\n      return [].concat(...element.children).filter(child => child.matches(selector));\n    },\n    parents(element, selector) {\n      const parents = [];\n      let ancestor = element.parentNode.closest(selector);\n      while (ancestor) {\n        parents.push(ancestor);\n        ancestor = ancestor.parentNode.closest(selector);\n      }\n      return parents;\n    },\n    prev(element, selector) {\n      let previous = element.previousElementSibling;\n      while (previous) {\n        if (previous.matches(selector)) {\n          return [previous];\n        }\n        previous = previous.previousElementSibling;\n      }\n      return [];\n    },\n    // TODO: this is now unused; remove later along with prev()\n    next(element, selector) {\n      let next = element.nextElementSibling;\n      while (next) {\n        if (next.matches(selector)) {\n          return [next];\n        }\n        next = next.nextElementSibling;\n      }\n      return [];\n    },\n    focusableChildren(element) {\n      const focusables = ['a', 'button', 'input', 'textarea', 'select', 'details', '[tabindex]', '[contenteditable=\"true\"]'].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',');\n      return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el));\n    },\n    getSelectorFromElement(element) {\n      const selector = getSelector(element);\n      if (selector) {\n        return SelectorEngine.findOne(selector) ? selector : null;\n      }\n      return null;\n    },\n    getElementFromSelector(element) {\n      const selector = getSelector(element);\n      return selector ? SelectorEngine.findOne(selector) : null;\n    },\n    getMultipleElementsFromSelector(element) {\n      const selector = getSelector(element);\n      return selector ? SelectorEngine.find(selector) : [];\n    }\n  };\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/component-functions.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  const enableDismissTrigger = (component, method = 'hide') => {\n    const clickEvent = `click.dismiss${component.EVENT_KEY}`;\n    const name = component.NAME;\n    EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n      if (['A', 'AREA'].includes(this.tagName)) {\n        event.preventDefault();\n      }\n      if (isDisabled(this)) {\n        return;\n      }\n      const target = SelectorEngine.getElementFromSelector(this) || this.closest(`.${name}`);\n      const instance = component.getOrCreateInstance(target);\n\n      // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n      instance[method]();\n    });\n  };\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap alert.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$f = 'alert';\n  const DATA_KEY$a = 'bs.alert';\n  const EVENT_KEY$b = `.${DATA_KEY$a}`;\n  const EVENT_CLOSE = `close${EVENT_KEY$b}`;\n  const EVENT_CLOSED = `closed${EVENT_KEY$b}`;\n  const CLASS_NAME_FADE$5 = 'fade';\n  const CLASS_NAME_SHOW$8 = 'show';\n\n  /**\n   * Class definition\n   */\n\n  class Alert extends BaseComponent {\n    // Getters\n    static get NAME() {\n      return NAME$f;\n    }\n\n    // Public\n    close() {\n      const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE);\n      if (closeEvent.defaultPrevented) {\n        return;\n      }\n      this._element.classList.remove(CLASS_NAME_SHOW$8);\n      const isAnimated = this._element.classList.contains(CLASS_NAME_FADE$5);\n      this._queueCallback(() => this._destroyElement(), this._element, isAnimated);\n    }\n\n    // Private\n    _destroyElement() {\n      this._element.remove();\n      EventHandler.trigger(this._element, EVENT_CLOSED);\n      this.dispose();\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Alert.getOrCreateInstance(this);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config](this);\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  enableDismissTrigger(Alert, 'close');\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Alert);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap button.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$e = 'button';\n  const DATA_KEY$9 = 'bs.button';\n  const EVENT_KEY$a = `.${DATA_KEY$9}`;\n  const DATA_API_KEY$6 = '.data-api';\n  const CLASS_NAME_ACTIVE$3 = 'active';\n  const SELECTOR_DATA_TOGGLE$5 = '[data-bs-toggle=\"button\"]';\n  const EVENT_CLICK_DATA_API$6 = `click${EVENT_KEY$a}${DATA_API_KEY$6}`;\n\n  /**\n   * Class definition\n   */\n\n  class Button extends BaseComponent {\n    // Getters\n    static get NAME() {\n      return NAME$e;\n    }\n\n    // Public\n    toggle() {\n      // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n      this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE$3));\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Button.getOrCreateInstance(this);\n        if (config === 'toggle') {\n          data[config]();\n        }\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$5, event => {\n    event.preventDefault();\n    const button = event.target.closest(SELECTOR_DATA_TOGGLE$5);\n    const data = Button.getOrCreateInstance(button);\n    data.toggle();\n  });\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Button);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/swipe.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$d = 'swipe';\n  const EVENT_KEY$9 = '.bs.swipe';\n  const EVENT_TOUCHSTART = `touchstart${EVENT_KEY$9}`;\n  const EVENT_TOUCHMOVE = `touchmove${EVENT_KEY$9}`;\n  const EVENT_TOUCHEND = `touchend${EVENT_KEY$9}`;\n  const EVENT_POINTERDOWN = `pointerdown${EVENT_KEY$9}`;\n  const EVENT_POINTERUP = `pointerup${EVENT_KEY$9}`;\n  const POINTER_TYPE_TOUCH = 'touch';\n  const POINTER_TYPE_PEN = 'pen';\n  const CLASS_NAME_POINTER_EVENT = 'pointer-event';\n  const SWIPE_THRESHOLD = 40;\n  const Default$c = {\n    endCallback: null,\n    leftCallback: null,\n    rightCallback: null\n  };\n  const DefaultType$c = {\n    endCallback: '(function|null)',\n    leftCallback: '(function|null)',\n    rightCallback: '(function|null)'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Swipe extends Config {\n    constructor(element, config) {\n      super();\n      this._element = element;\n      if (!element || !Swipe.isSupported()) {\n        return;\n      }\n      this._config = this._getConfig(config);\n      this._deltaX = 0;\n      this._supportPointerEvents = Boolean(window.PointerEvent);\n      this._initEvents();\n    }\n\n    // Getters\n    static get Default() {\n      return Default$c;\n    }\n    static get DefaultType() {\n      return DefaultType$c;\n    }\n    static get NAME() {\n      return NAME$d;\n    }\n\n    // Public\n    dispose() {\n      EventHandler.off(this._element, EVENT_KEY$9);\n    }\n\n    // Private\n    _start(event) {\n      if (!this._supportPointerEvents) {\n        this._deltaX = event.touches[0].clientX;\n        return;\n      }\n      if (this._eventIsPointerPenTouch(event)) {\n        this._deltaX = event.clientX;\n      }\n    }\n    _end(event) {\n      if (this._eventIsPointerPenTouch(event)) {\n        this._deltaX = event.clientX - this._deltaX;\n      }\n      this._handleSwipe();\n      execute(this._config.endCallback);\n    }\n    _move(event) {\n      this._deltaX = event.touches && event.touches.length > 1 ? 0 : event.touches[0].clientX - this._deltaX;\n    }\n    _handleSwipe() {\n      const absDeltaX = Math.abs(this._deltaX);\n      if (absDeltaX <= SWIPE_THRESHOLD) {\n        return;\n      }\n      const direction = absDeltaX / this._deltaX;\n      this._deltaX = 0;\n      if (!direction) {\n        return;\n      }\n      execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback);\n    }\n    _initEvents() {\n      if (this._supportPointerEvents) {\n        EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event));\n        EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event));\n        this._element.classList.add(CLASS_NAME_POINTER_EVENT);\n      } else {\n        EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event));\n        EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event));\n        EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event));\n      }\n    }\n    _eventIsPointerPenTouch(event) {\n      return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH);\n    }\n\n    // Static\n    static isSupported() {\n      return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;\n    }\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap carousel.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$c = 'carousel';\n  const DATA_KEY$8 = 'bs.carousel';\n  const EVENT_KEY$8 = `.${DATA_KEY$8}`;\n  const DATA_API_KEY$5 = '.data-api';\n  const ARROW_LEFT_KEY$1 = 'ArrowLeft';\n  const ARROW_RIGHT_KEY$1 = 'ArrowRight';\n  const TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch\n\n  const ORDER_NEXT = 'next';\n  const ORDER_PREV = 'prev';\n  const DIRECTION_LEFT = 'left';\n  const DIRECTION_RIGHT = 'right';\n  const EVENT_SLIDE = `slide${EVENT_KEY$8}`;\n  const EVENT_SLID = `slid${EVENT_KEY$8}`;\n  const EVENT_KEYDOWN$1 = `keydown${EVENT_KEY$8}`;\n  const EVENT_MOUSEENTER$1 = `mouseenter${EVENT_KEY$8}`;\n  const EVENT_MOUSELEAVE$1 = `mouseleave${EVENT_KEY$8}`;\n  const EVENT_DRAG_START = `dragstart${EVENT_KEY$8}`;\n  const EVENT_LOAD_DATA_API$3 = `load${EVENT_KEY$8}${DATA_API_KEY$5}`;\n  const EVENT_CLICK_DATA_API$5 = `click${EVENT_KEY$8}${DATA_API_KEY$5}`;\n  const CLASS_NAME_CAROUSEL = 'carousel';\n  const CLASS_NAME_ACTIVE$2 = 'active';\n  const CLASS_NAME_SLIDE = 'slide';\n  const CLASS_NAME_END = 'carousel-item-end';\n  const CLASS_NAME_START = 'carousel-item-start';\n  const CLASS_NAME_NEXT = 'carousel-item-next';\n  const CLASS_NAME_PREV = 'carousel-item-prev';\n  const SELECTOR_ACTIVE = '.active';\n  const SELECTOR_ITEM = '.carousel-item';\n  const SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM;\n  const SELECTOR_ITEM_IMG = '.carousel-item img';\n  const SELECTOR_INDICATORS = '.carousel-indicators';\n  const SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]';\n  const SELECTOR_DATA_RIDE = '[data-bs-ride=\"carousel\"]';\n  const KEY_TO_DIRECTION = {\n    [ARROW_LEFT_KEY$1]: DIRECTION_RIGHT,\n    [ARROW_RIGHT_KEY$1]: DIRECTION_LEFT\n  };\n  const Default$b = {\n    interval: 5000,\n    keyboard: true,\n    pause: 'hover',\n    ride: false,\n    touch: true,\n    wrap: true\n  };\n  const DefaultType$b = {\n    interval: '(number|boolean)',\n    // TODO:v6 remove boolean support\n    keyboard: 'boolean',\n    pause: '(string|boolean)',\n    ride: '(boolean|string)',\n    touch: 'boolean',\n    wrap: 'boolean'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Carousel extends BaseComponent {\n    constructor(element, config) {\n      super(element, config);\n      this._interval = null;\n      this._activeElement = null;\n      this._isSliding = false;\n      this.touchTimeout = null;\n      this._swipeHelper = null;\n      this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element);\n      this._addEventListeners();\n      if (this._config.ride === CLASS_NAME_CAROUSEL) {\n        this.cycle();\n      }\n    }\n\n    // Getters\n    static get Default() {\n      return Default$b;\n    }\n    static get DefaultType() {\n      return DefaultType$b;\n    }\n    static get NAME() {\n      return NAME$c;\n    }\n\n    // Public\n    next() {\n      this._slide(ORDER_NEXT);\n    }\n    nextWhenVisible() {\n      // FIXME TODO use `document.visibilityState`\n      // Don't call next when the page isn't visible\n      // or the carousel or its parent isn't visible\n      if (!document.hidden && isVisible(this._element)) {\n        this.next();\n      }\n    }\n    prev() {\n      this._slide(ORDER_PREV);\n    }\n    pause() {\n      if (this._isSliding) {\n        triggerTransitionEnd(this._element);\n      }\n      this._clearInterval();\n    }\n    cycle() {\n      this._clearInterval();\n      this._updateInterval();\n      this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval);\n    }\n    _maybeEnableCycle() {\n      if (!this._config.ride) {\n        return;\n      }\n      if (this._isSliding) {\n        EventHandler.one(this._element, EVENT_SLID, () => this.cycle());\n        return;\n      }\n      this.cycle();\n    }\n    to(index) {\n      const items = this._getItems();\n      if (index > items.length - 1 || index < 0) {\n        return;\n      }\n      if (this._isSliding) {\n        EventHandler.one(this._element, EVENT_SLID, () => this.to(index));\n        return;\n      }\n      const activeIndex = this._getItemIndex(this._getActive());\n      if (activeIndex === index) {\n        return;\n      }\n      const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV;\n      this._slide(order, items[index]);\n    }\n    dispose() {\n      if (this._swipeHelper) {\n        this._swipeHelper.dispose();\n      }\n      super.dispose();\n    }\n\n    // Private\n    _configAfterMerge(config) {\n      config.defaultInterval = config.interval;\n      return config;\n    }\n    _addEventListeners() {\n      if (this._config.keyboard) {\n        EventHandler.on(this._element, EVENT_KEYDOWN$1, event => this._keydown(event));\n      }\n      if (this._config.pause === 'hover') {\n        EventHandler.on(this._element, EVENT_MOUSEENTER$1, () => this.pause());\n        EventHandler.on(this._element, EVENT_MOUSELEAVE$1, () => this._maybeEnableCycle());\n      }\n      if (this._config.touch && Swipe.isSupported()) {\n        this._addTouchEventListeners();\n      }\n    }\n    _addTouchEventListeners() {\n      for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {\n        EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault());\n      }\n      const endCallBack = () => {\n        if (this._config.pause !== 'hover') {\n          return;\n        }\n\n        // If it's a touch-enabled device, mouseenter/leave are fired as\n        // part of the mouse compatibility events on first tap - the carousel\n        // would stop cycling until user tapped out of it;\n        // here, we listen for touchend, explicitly pause the carousel\n        // (as if it's the second time we tap on it, mouseenter compat event\n        // is NOT fired) and after a timeout (to allow for mouse compatibility\n        // events to fire) we explicitly restart cycling\n\n        this.pause();\n        if (this.touchTimeout) {\n          clearTimeout(this.touchTimeout);\n        }\n        this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval);\n      };\n      const swipeConfig = {\n        leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),\n        rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),\n        endCallback: endCallBack\n      };\n      this._swipeHelper = new Swipe(this._element, swipeConfig);\n    }\n    _keydown(event) {\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return;\n      }\n      const direction = KEY_TO_DIRECTION[event.key];\n      if (direction) {\n        event.preventDefault();\n        this._slide(this._directionToOrder(direction));\n      }\n    }\n    _getItemIndex(element) {\n      return this._getItems().indexOf(element);\n    }\n    _setActiveIndicatorElement(index) {\n      if (!this._indicatorsElement) {\n        return;\n      }\n      const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement);\n      activeIndicator.classList.remove(CLASS_NAME_ACTIVE$2);\n      activeIndicator.removeAttribute('aria-current');\n      const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to=\"${index}\"]`, this._indicatorsElement);\n      if (newActiveIndicator) {\n        newActiveIndicator.classList.add(CLASS_NAME_ACTIVE$2);\n        newActiveIndicator.setAttribute('aria-current', 'true');\n      }\n    }\n    _updateInterval() {\n      const element = this._activeElement || this._getActive();\n      if (!element) {\n        return;\n      }\n      const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10);\n      this._config.interval = elementInterval || this._config.defaultInterval;\n    }\n    _slide(order, element = null) {\n      if (this._isSliding) {\n        return;\n      }\n      const activeElement = this._getActive();\n      const isNext = order === ORDER_NEXT;\n      const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap);\n      if (nextElement === activeElement) {\n        return;\n      }\n      const nextElementIndex = this._getItemIndex(nextElement);\n      const triggerEvent = eventName => {\n        return EventHandler.trigger(this._element, eventName, {\n          relatedTarget: nextElement,\n          direction: this._orderToDirection(order),\n          from: this._getItemIndex(activeElement),\n          to: nextElementIndex\n        });\n      };\n      const slideEvent = triggerEvent(EVENT_SLIDE);\n      if (slideEvent.defaultPrevented) {\n        return;\n      }\n      if (!activeElement || !nextElement) {\n        // Some weirdness is happening, so we bail\n        // TODO: change tests that use empty divs to avoid this check\n        return;\n      }\n      const isCycling = Boolean(this._interval);\n      this.pause();\n      this._isSliding = true;\n      this._setActiveIndicatorElement(nextElementIndex);\n      this._activeElement = nextElement;\n      const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END;\n      const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV;\n      nextElement.classList.add(orderClassName);\n      reflow(nextElement);\n      activeElement.classList.add(directionalClassName);\n      nextElement.classList.add(directionalClassName);\n      const completeCallBack = () => {\n        nextElement.classList.remove(directionalClassName, orderClassName);\n        nextElement.classList.add(CLASS_NAME_ACTIVE$2);\n        activeElement.classList.remove(CLASS_NAME_ACTIVE$2, orderClassName, directionalClassName);\n        this._isSliding = false;\n        triggerEvent(EVENT_SLID);\n      };\n      this._queueCallback(completeCallBack, activeElement, this._isAnimated());\n      if (isCycling) {\n        this.cycle();\n      }\n    }\n    _isAnimated() {\n      return this._element.classList.contains(CLASS_NAME_SLIDE);\n    }\n    _getActive() {\n      return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element);\n    }\n    _getItems() {\n      return SelectorEngine.find(SELECTOR_ITEM, this._element);\n    }\n    _clearInterval() {\n      if (this._interval) {\n        clearInterval(this._interval);\n        this._interval = null;\n      }\n    }\n    _directionToOrder(direction) {\n      if (isRTL()) {\n        return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT;\n      }\n      return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV;\n    }\n    _orderToDirection(order) {\n      if (isRTL()) {\n        return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT;\n      }\n      return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT;\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Carousel.getOrCreateInstance(this, config);\n        if (typeof config === 'number') {\n          data.to(config);\n          return;\n        }\n        if (typeof config === 'string') {\n          if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n            throw new TypeError(`No method named \"${config}\"`);\n          }\n          data[config]();\n        }\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_CLICK_DATA_API$5, SELECTOR_DATA_SLIDE, function (event) {\n    const target = SelectorEngine.getElementFromSelector(this);\n    if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {\n      return;\n    }\n    event.preventDefault();\n    const carousel = Carousel.getOrCreateInstance(target);\n    const slideIndex = this.getAttribute('data-bs-slide-to');\n    if (slideIndex) {\n      carousel.to(slideIndex);\n      carousel._maybeEnableCycle();\n      return;\n    }\n    if (Manipulator.getDataAttribute(this, 'slide') === 'next') {\n      carousel.next();\n      carousel._maybeEnableCycle();\n      return;\n    }\n    carousel.prev();\n    carousel._maybeEnableCycle();\n  });\n  EventHandler.on(window, EVENT_LOAD_DATA_API$3, () => {\n    const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE);\n    for (const carousel of carousels) {\n      Carousel.getOrCreateInstance(carousel);\n    }\n  });\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Carousel);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap collapse.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$b = 'collapse';\n  const DATA_KEY$7 = 'bs.collapse';\n  const EVENT_KEY$7 = `.${DATA_KEY$7}`;\n  const DATA_API_KEY$4 = '.data-api';\n  const EVENT_SHOW$6 = `show${EVENT_KEY$7}`;\n  const EVENT_SHOWN$6 = `shown${EVENT_KEY$7}`;\n  const EVENT_HIDE$6 = `hide${EVENT_KEY$7}`;\n  const EVENT_HIDDEN$6 = `hidden${EVENT_KEY$7}`;\n  const EVENT_CLICK_DATA_API$4 = `click${EVENT_KEY$7}${DATA_API_KEY$4}`;\n  const CLASS_NAME_SHOW$7 = 'show';\n  const CLASS_NAME_COLLAPSE = 'collapse';\n  const CLASS_NAME_COLLAPSING = 'collapsing';\n  const CLASS_NAME_COLLAPSED = 'collapsed';\n  const CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`;\n  const CLASS_NAME_HORIZONTAL = 'collapse-horizontal';\n  const WIDTH = 'width';\n  const HEIGHT = 'height';\n  const SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing';\n  const SELECTOR_DATA_TOGGLE$4 = '[data-bs-toggle=\"collapse\"]';\n  const Default$a = {\n    parent: null,\n    toggle: true\n  };\n  const DefaultType$a = {\n    parent: '(null|element)',\n    toggle: 'boolean'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Collapse extends BaseComponent {\n    constructor(element, config) {\n      super(element, config);\n      this._isTransitioning = false;\n      this._triggerArray = [];\n      const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);\n      for (const elem of toggleList) {\n        const selector = SelectorEngine.getSelectorFromElement(elem);\n        const filterElement = SelectorEngine.find(selector).filter(foundElement => foundElement === this._element);\n        if (selector !== null && filterElement.length) {\n          this._triggerArray.push(elem);\n        }\n      }\n      this._initializeChildren();\n      if (!this._config.parent) {\n        this._addAriaAndCollapsedClass(this._triggerArray, this._isShown());\n      }\n      if (this._config.toggle) {\n        this.toggle();\n      }\n    }\n\n    // Getters\n    static get Default() {\n      return Default$a;\n    }\n    static get DefaultType() {\n      return DefaultType$a;\n    }\n    static get NAME() {\n      return NAME$b;\n    }\n\n    // Public\n    toggle() {\n      if (this._isShown()) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n    show() {\n      if (this._isTransitioning || this._isShown()) {\n        return;\n      }\n      let activeChildren = [];\n\n      // find active children\n      if (this._config.parent) {\n        activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(element => element !== this._element).map(element => Collapse.getOrCreateInstance(element, {\n          toggle: false\n        }));\n      }\n      if (activeChildren.length && activeChildren[0]._isTransitioning) {\n        return;\n      }\n      const startEvent = EventHandler.trigger(this._element, EVENT_SHOW$6);\n      if (startEvent.defaultPrevented) {\n        return;\n      }\n      for (const activeInstance of activeChildren) {\n        activeInstance.hide();\n      }\n      const dimension = this._getDimension();\n      this._element.classList.remove(CLASS_NAME_COLLAPSE);\n      this._element.classList.add(CLASS_NAME_COLLAPSING);\n      this._element.style[dimension] = 0;\n      this._addAriaAndCollapsedClass(this._triggerArray, true);\n      this._isTransitioning = true;\n      const complete = () => {\n        this._isTransitioning = false;\n        this._element.classList.remove(CLASS_NAME_COLLAPSING);\n        this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n        this._element.style[dimension] = '';\n        EventHandler.trigger(this._element, EVENT_SHOWN$6);\n      };\n      const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);\n      const scrollSize = `scroll${capitalizedDimension}`;\n      this._queueCallback(complete, this._element, true);\n      this._element.style[dimension] = `${this._element[scrollSize]}px`;\n    }\n    hide() {\n      if (this._isTransitioning || !this._isShown()) {\n        return;\n      }\n      const startEvent = EventHandler.trigger(this._element, EVENT_HIDE$6);\n      if (startEvent.defaultPrevented) {\n        return;\n      }\n      const dimension = this._getDimension();\n      this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`;\n      reflow(this._element);\n      this._element.classList.add(CLASS_NAME_COLLAPSING);\n      this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n      for (const trigger of this._triggerArray) {\n        const element = SelectorEngine.getElementFromSelector(trigger);\n        if (element && !this._isShown(element)) {\n          this._addAriaAndCollapsedClass([trigger], false);\n        }\n      }\n      this._isTransitioning = true;\n      const complete = () => {\n        this._isTransitioning = false;\n        this._element.classList.remove(CLASS_NAME_COLLAPSING);\n        this._element.classList.add(CLASS_NAME_COLLAPSE);\n        EventHandler.trigger(this._element, EVENT_HIDDEN$6);\n      };\n      this._element.style[dimension] = '';\n      this._queueCallback(complete, this._element, true);\n    }\n\n    // Private\n    _isShown(element = this._element) {\n      return element.classList.contains(CLASS_NAME_SHOW$7);\n    }\n    _configAfterMerge(config) {\n      config.toggle = Boolean(config.toggle); // Coerce string values\n      config.parent = getElement(config.parent);\n      return config;\n    }\n    _getDimension() {\n      return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT;\n    }\n    _initializeChildren() {\n      if (!this._config.parent) {\n        return;\n      }\n      const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);\n      for (const element of children) {\n        const selected = SelectorEngine.getElementFromSelector(element);\n        if (selected) {\n          this._addAriaAndCollapsedClass([element], this._isShown(selected));\n        }\n      }\n    }\n    _getFirstLevelChildren(selector) {\n      const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent);\n      // remove children if greater depth\n      return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element));\n    }\n    _addAriaAndCollapsedClass(triggerArray, isOpen) {\n      if (!triggerArray.length) {\n        return;\n      }\n      for (const element of triggerArray) {\n        element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen);\n        element.setAttribute('aria-expanded', isOpen);\n      }\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      const _config = {};\n      if (typeof config === 'string' && /show|hide/.test(config)) {\n        _config.toggle = false;\n      }\n      return this.each(function () {\n        const data = Collapse.getOrCreateInstance(this, _config);\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(`No method named \"${config}\"`);\n          }\n          data[config]();\n        }\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$4, function (event) {\n    // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n    if (event.target.tagName === 'A' || event.delegateTarget && event.delegateTarget.tagName === 'A') {\n      event.preventDefault();\n    }\n    for (const element of SelectorEngine.getMultipleElementsFromSelector(this)) {\n      Collapse.getOrCreateInstance(element, {\n        toggle: false\n      }).toggle();\n    }\n  });\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Collapse);\n\n  var top = 'top';\n  var bottom = 'bottom';\n  var right = 'right';\n  var left = 'left';\n  var auto = 'auto';\n  var basePlacements = [top, bottom, right, left];\n  var start = 'start';\n  var end = 'end';\n  var clippingParents = 'clippingParents';\n  var viewport = 'viewport';\n  var popper = 'popper';\n  var reference = 'reference';\n  var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n    return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n  }, []);\n  var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n    return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n  }, []); // modifiers that need to read the DOM\n\n  var beforeRead = 'beforeRead';\n  var read = 'read';\n  var afterRead = 'afterRead'; // pure-logic modifiers\n\n  var beforeMain = 'beforeMain';\n  var main = 'main';\n  var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\n  var beforeWrite = 'beforeWrite';\n  var write = 'write';\n  var afterWrite = 'afterWrite';\n  var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];\n\n  function getNodeName(element) {\n    return element ? (element.nodeName || '').toLowerCase() : null;\n  }\n\n  function getWindow(node) {\n    if (node == null) {\n      return window;\n    }\n\n    if (node.toString() !== '[object Window]') {\n      var ownerDocument = node.ownerDocument;\n      return ownerDocument ? ownerDocument.defaultView || window : window;\n    }\n\n    return node;\n  }\n\n  function isElement(node) {\n    var OwnElement = getWindow(node).Element;\n    return node instanceof OwnElement || node instanceof Element;\n  }\n\n  function isHTMLElement(node) {\n    var OwnElement = getWindow(node).HTMLElement;\n    return node instanceof OwnElement || node instanceof HTMLElement;\n  }\n\n  function isShadowRoot(node) {\n    // IE 11 has no ShadowRoot\n    if (typeof ShadowRoot === 'undefined') {\n      return false;\n    }\n\n    var OwnElement = getWindow(node).ShadowRoot;\n    return node instanceof OwnElement || node instanceof ShadowRoot;\n  }\n\n  // and applies them to the HTMLElements such as popper and arrow\n\n  function applyStyles(_ref) {\n    var state = _ref.state;\n    Object.keys(state.elements).forEach(function (name) {\n      var style = state.styles[name] || {};\n      var attributes = state.attributes[name] || {};\n      var element = state.elements[name]; // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe[cannot-write]\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (name) {\n        var value = attributes[name];\n\n        if (value === false) {\n          element.removeAttribute(name);\n        } else {\n          element.setAttribute(name, value === true ? '' : value);\n        }\n      });\n    });\n  }\n\n  function effect$2(_ref2) {\n    var state = _ref2.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    }\n\n    return function () {\n      Object.keys(state.elements).forEach(function (name) {\n        var element = state.elements[name];\n        var attributes = state.attributes[name] || {};\n        var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n        var style = styleProperties.reduce(function (style, property) {\n          style[property] = '';\n          return style;\n        }, {}); // arrow is optional + virtual elements\n\n        if (!isHTMLElement(element) || !getNodeName(element)) {\n          return;\n        }\n\n        Object.assign(element.style, style);\n        Object.keys(attributes).forEach(function (attribute) {\n          element.removeAttribute(attribute);\n        });\n      });\n    };\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const applyStyles$1 = {\n    name: 'applyStyles',\n    enabled: true,\n    phase: 'write',\n    fn: applyStyles,\n    effect: effect$2,\n    requires: ['computeStyles']\n  };\n\n  function getBasePlacement(placement) {\n    return placement.split('-')[0];\n  }\n\n  var max = Math.max;\n  var min = Math.min;\n  var round = Math.round;\n\n  function getUAString() {\n    var uaData = navigator.userAgentData;\n\n    if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n      return uaData.brands.map(function (item) {\n        return item.brand + \"/\" + item.version;\n      }).join(' ');\n    }\n\n    return navigator.userAgent;\n  }\n\n  function isLayoutViewport() {\n    return !/^((?!chrome|android).)*safari/i.test(getUAString());\n  }\n\n  function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n    if (includeScale === void 0) {\n      includeScale = false;\n    }\n\n    if (isFixedStrategy === void 0) {\n      isFixedStrategy = false;\n    }\n\n    var clientRect = element.getBoundingClientRect();\n    var scaleX = 1;\n    var scaleY = 1;\n\n    if (includeScale && isHTMLElement(element)) {\n      scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n      scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n    }\n\n    var _ref = isElement(element) ? getWindow(element) : window,\n        visualViewport = _ref.visualViewport;\n\n    var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n    var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n    var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n    var width = clientRect.width / scaleX;\n    var height = clientRect.height / scaleY;\n    return {\n      width: width,\n      height: height,\n      top: y,\n      right: x + width,\n      bottom: y + height,\n      left: x,\n      x: x,\n      y: y\n    };\n  }\n\n  // means it doesn't take into account transforms.\n\n  function getLayoutRect(element) {\n    var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n    // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n    var width = element.offsetWidth;\n    var height = element.offsetHeight;\n\n    if (Math.abs(clientRect.width - width) <= 1) {\n      width = clientRect.width;\n    }\n\n    if (Math.abs(clientRect.height - height) <= 1) {\n      height = clientRect.height;\n    }\n\n    return {\n      x: element.offsetLeft,\n      y: element.offsetTop,\n      width: width,\n      height: height\n    };\n  }\n\n  function contains(parent, child) {\n    var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n    if (parent.contains(child)) {\n      return true;\n    } // then fallback to custom implementation with Shadow DOM support\n    else if (rootNode && isShadowRoot(rootNode)) {\n        var next = child;\n\n        do {\n          if (next && parent.isSameNode(next)) {\n            return true;\n          } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n          next = next.parentNode || next.host;\n        } while (next);\n      } // Give up, the result is false\n\n\n    return false;\n  }\n\n  function getComputedStyle$1(element) {\n    return getWindow(element).getComputedStyle(element);\n  }\n\n  function isTableElement(element) {\n    return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n  }\n\n  function getDocumentElement(element) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n    element.document) || window.document).documentElement;\n  }\n\n  function getParentNode(element) {\n    if (getNodeName(element) === 'html') {\n      return element;\n    }\n\n    return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n      // $FlowFixMe[incompatible-return]\n      // $FlowFixMe[prop-missing]\n      element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n      element.parentNode || ( // DOM Element detected\n      isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n      // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n      getDocumentElement(element) // fallback\n\n    );\n  }\n\n  function getTrueOffsetParent(element) {\n    if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n    getComputedStyle$1(element).position === 'fixed') {\n      return null;\n    }\n\n    return element.offsetParent;\n  } // `.offsetParent` reports `null` for fixed elements, while absolute elements\n  // return the containing block\n\n\n  function getContainingBlock(element) {\n    var isFirefox = /firefox/i.test(getUAString());\n    var isIE = /Trident/i.test(getUAString());\n\n    if (isIE && isHTMLElement(element)) {\n      // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n      var elementCss = getComputedStyle$1(element);\n\n      if (elementCss.position === 'fixed') {\n        return null;\n      }\n    }\n\n    var currentNode = getParentNode(element);\n\n    if (isShadowRoot(currentNode)) {\n      currentNode = currentNode.host;\n    }\n\n    while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n      var css = getComputedStyle$1(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n      // create a containing block.\n      // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n      if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n        return currentNode;\n      } else {\n        currentNode = currentNode.parentNode;\n      }\n    }\n\n    return null;\n  } // Gets the closest ancestor positioned element. Handles some edge cases,\n  // such as table ancestors and cross browser bugs.\n\n\n  function getOffsetParent(element) {\n    var window = getWindow(element);\n    var offsetParent = getTrueOffsetParent(element);\n\n    while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === 'static') {\n      offsetParent = getTrueOffsetParent(offsetParent);\n    }\n\n    if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle$1(offsetParent).position === 'static')) {\n      return window;\n    }\n\n    return offsetParent || getContainingBlock(element) || window;\n  }\n\n  function getMainAxisFromPlacement(placement) {\n    return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n  }\n\n  function within(min$1, value, max$1) {\n    return max(min$1, min(value, max$1));\n  }\n  function withinMaxClamp(min, value, max) {\n    var v = within(min, value, max);\n    return v > max ? max : v;\n  }\n\n  function getFreshSideObject() {\n    return {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    };\n  }\n\n  function mergePaddingObject(paddingObject) {\n    return Object.assign({}, getFreshSideObject(), paddingObject);\n  }\n\n  function expandToHashMap(value, keys) {\n    return keys.reduce(function (hashMap, key) {\n      hashMap[key] = value;\n      return hashMap;\n    }, {});\n  }\n\n  var toPaddingObject = function toPaddingObject(padding, state) {\n    padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n      placement: state.placement\n    })) : padding;\n    return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  };\n\n  function arrow(_ref) {\n    var _state$modifiersData$;\n\n    var state = _ref.state,\n        name = _ref.name,\n        options = _ref.options;\n    var arrowElement = state.elements.arrow;\n    var popperOffsets = state.modifiersData.popperOffsets;\n    var basePlacement = getBasePlacement(state.placement);\n    var axis = getMainAxisFromPlacement(basePlacement);\n    var isVertical = [left, right].indexOf(basePlacement) >= 0;\n    var len = isVertical ? 'height' : 'width';\n\n    if (!arrowElement || !popperOffsets) {\n      return;\n    }\n\n    var paddingObject = toPaddingObject(options.padding, state);\n    var arrowRect = getLayoutRect(arrowElement);\n    var minProp = axis === 'y' ? top : left;\n    var maxProp = axis === 'y' ? bottom : right;\n    var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n    var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n    var arrowOffsetParent = getOffsetParent(arrowElement);\n    var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n    var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n    // outside of the popper bounds\n\n    var min = paddingObject[minProp];\n    var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n    var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n    var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n    var axisProp = axis;\n    state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n  }\n\n  function effect$1(_ref2) {\n    var state = _ref2.state,\n        options = _ref2.options;\n    var _options$element = options.element,\n        arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n    if (arrowElement == null) {\n      return;\n    } // CSS selector\n\n\n    if (typeof arrowElement === 'string') {\n      arrowElement = state.elements.popper.querySelector(arrowElement);\n\n      if (!arrowElement) {\n        return;\n      }\n    }\n\n    if (!contains(state.elements.popper, arrowElement)) {\n      return;\n    }\n\n    state.elements.arrow = arrowElement;\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const arrow$1 = {\n    name: 'arrow',\n    enabled: true,\n    phase: 'main',\n    fn: arrow,\n    effect: effect$1,\n    requires: ['popperOffsets'],\n    requiresIfExists: ['preventOverflow']\n  };\n\n  function getVariation(placement) {\n    return placement.split('-')[1];\n  }\n\n  var unsetSides = {\n    top: 'auto',\n    right: 'auto',\n    bottom: 'auto',\n    left: 'auto'\n  }; // Round the offsets to the nearest suitable subpixel based on the DPR.\n  // Zooming can change the DPR, but it seems to report a value that will\n  // cleanly divide the values into the appropriate subpixels.\n\n  function roundOffsetsByDPR(_ref, win) {\n    var x = _ref.x,\n        y = _ref.y;\n    var dpr = win.devicePixelRatio || 1;\n    return {\n      x: round(x * dpr) / dpr || 0,\n      y: round(y * dpr) / dpr || 0\n    };\n  }\n\n  function mapToStyles(_ref2) {\n    var _Object$assign2;\n\n    var popper = _ref2.popper,\n        popperRect = _ref2.popperRect,\n        placement = _ref2.placement,\n        variation = _ref2.variation,\n        offsets = _ref2.offsets,\n        position = _ref2.position,\n        gpuAcceleration = _ref2.gpuAcceleration,\n        adaptive = _ref2.adaptive,\n        roundOffsets = _ref2.roundOffsets,\n        isFixed = _ref2.isFixed;\n    var _offsets$x = offsets.x,\n        x = _offsets$x === void 0 ? 0 : _offsets$x,\n        _offsets$y = offsets.y,\n        y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n    var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n      x: x,\n      y: y\n    }) : {\n      x: x,\n      y: y\n    };\n\n    x = _ref3.x;\n    y = _ref3.y;\n    var hasX = offsets.hasOwnProperty('x');\n    var hasY = offsets.hasOwnProperty('y');\n    var sideX = left;\n    var sideY = top;\n    var win = window;\n\n    if (adaptive) {\n      var offsetParent = getOffsetParent(popper);\n      var heightProp = 'clientHeight';\n      var widthProp = 'clientWidth';\n\n      if (offsetParent === getWindow(popper)) {\n        offsetParent = getDocumentElement(popper);\n\n        if (getComputedStyle$1(offsetParent).position !== 'static' && position === 'absolute') {\n          heightProp = 'scrollHeight';\n          widthProp = 'scrollWidth';\n        }\n      } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n      offsetParent = offsetParent;\n\n      if (placement === top || (placement === left || placement === right) && variation === end) {\n        sideY = bottom;\n        var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n        offsetParent[heightProp];\n        y -= offsetY - popperRect.height;\n        y *= gpuAcceleration ? 1 : -1;\n      }\n\n      if (placement === left || (placement === top || placement === bottom) && variation === end) {\n        sideX = right;\n        var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n        offsetParent[widthProp];\n        x -= offsetX - popperRect.width;\n        x *= gpuAcceleration ? 1 : -1;\n      }\n    }\n\n    var commonStyles = Object.assign({\n      position: position\n    }, adaptive && unsetSides);\n\n    var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n      x: x,\n      y: y\n    }, getWindow(popper)) : {\n      x: x,\n      y: y\n    };\n\n    x = _ref4.x;\n    y = _ref4.y;\n\n    if (gpuAcceleration) {\n      var _Object$assign;\n\n      return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n    }\n\n    return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n  }\n\n  function computeStyles(_ref5) {\n    var state = _ref5.state,\n        options = _ref5.options;\n    var _options$gpuAccelerat = options.gpuAcceleration,\n        gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n        _options$adaptive = options.adaptive,\n        adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n        _options$roundOffsets = options.roundOffsets,\n        roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n    var commonStyles = {\n      placement: getBasePlacement(state.placement),\n      variation: getVariation(state.placement),\n      popper: state.elements.popper,\n      popperRect: state.rects.popper,\n      gpuAcceleration: gpuAcceleration,\n      isFixed: state.options.strategy === 'fixed'\n    };\n\n    if (state.modifiersData.popperOffsets != null) {\n      state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n        offsets: state.modifiersData.popperOffsets,\n        position: state.options.strategy,\n        adaptive: adaptive,\n        roundOffsets: roundOffsets\n      })));\n    }\n\n    if (state.modifiersData.arrow != null) {\n      state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n        offsets: state.modifiersData.arrow,\n        position: 'absolute',\n        adaptive: false,\n        roundOffsets: roundOffsets\n      })));\n    }\n\n    state.attributes.popper = Object.assign({}, state.attributes.popper, {\n      'data-popper-placement': state.placement\n    });\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const computeStyles$1 = {\n    name: 'computeStyles',\n    enabled: true,\n    phase: 'beforeWrite',\n    fn: computeStyles,\n    data: {}\n  };\n\n  var passive = {\n    passive: true\n  };\n\n  function effect(_ref) {\n    var state = _ref.state,\n        instance = _ref.instance,\n        options = _ref.options;\n    var _options$scroll = options.scroll,\n        scroll = _options$scroll === void 0 ? true : _options$scroll,\n        _options$resize = options.resize,\n        resize = _options$resize === void 0 ? true : _options$resize;\n    var window = getWindow(state.elements.popper);\n    var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.addEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.addEventListener('resize', instance.update, passive);\n    }\n\n    return function () {\n      if (scroll) {\n        scrollParents.forEach(function (scrollParent) {\n          scrollParent.removeEventListener('scroll', instance.update, passive);\n        });\n      }\n\n      if (resize) {\n        window.removeEventListener('resize', instance.update, passive);\n      }\n    };\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const eventListeners = {\n    name: 'eventListeners',\n    enabled: true,\n    phase: 'write',\n    fn: function fn() {},\n    effect: effect,\n    data: {}\n  };\n\n  var hash$1 = {\n    left: 'right',\n    right: 'left',\n    bottom: 'top',\n    top: 'bottom'\n  };\n  function getOppositePlacement(placement) {\n    return placement.replace(/left|right|bottom|top/g, function (matched) {\n      return hash$1[matched];\n    });\n  }\n\n  var hash = {\n    start: 'end',\n    end: 'start'\n  };\n  function getOppositeVariationPlacement(placement) {\n    return placement.replace(/start|end/g, function (matched) {\n      return hash[matched];\n    });\n  }\n\n  function getWindowScroll(node) {\n    var win = getWindow(node);\n    var scrollLeft = win.pageXOffset;\n    var scrollTop = win.pageYOffset;\n    return {\n      scrollLeft: scrollLeft,\n      scrollTop: scrollTop\n    };\n  }\n\n  function getWindowScrollBarX(element) {\n    // If <html> has a CSS width greater than the viewport, then this will be\n    // incorrect for RTL.\n    // Popper 1 is broken in this case and never had a bug report so let's assume\n    // it's not an issue. I don't think anyone ever specifies width on <html>\n    // anyway.\n    // Browsers where the left scrollbar doesn't cause an issue report `0` for\n    // this (e.g. Edge 2019, IE11, Safari)\n    return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n  }\n\n  function getViewportRect(element, strategy) {\n    var win = getWindow(element);\n    var html = getDocumentElement(element);\n    var visualViewport = win.visualViewport;\n    var width = html.clientWidth;\n    var height = html.clientHeight;\n    var x = 0;\n    var y = 0;\n\n    if (visualViewport) {\n      width = visualViewport.width;\n      height = visualViewport.height;\n      var layoutViewport = isLayoutViewport();\n\n      if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n        x = visualViewport.offsetLeft;\n        y = visualViewport.offsetTop;\n      }\n    }\n\n    return {\n      width: width,\n      height: height,\n      x: x + getWindowScrollBarX(element),\n      y: y\n    };\n  }\n\n  // of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\n  function getDocumentRect(element) {\n    var _element$ownerDocumen;\n\n    var html = getDocumentElement(element);\n    var winScroll = getWindowScroll(element);\n    var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n    var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n    var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n    var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n    var y = -winScroll.scrollTop;\n\n    if (getComputedStyle$1(body || html).direction === 'rtl') {\n      x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n    }\n\n    return {\n      width: width,\n      height: height,\n      x: x,\n      y: y\n    };\n  }\n\n  function isScrollParent(element) {\n    // Firefox wants us to check `-x` and `-y` variations as well\n    var _getComputedStyle = getComputedStyle$1(element),\n        overflow = _getComputedStyle.overflow,\n        overflowX = _getComputedStyle.overflowX,\n        overflowY = _getComputedStyle.overflowY;\n\n    return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n  }\n\n  function getScrollParent(node) {\n    if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n      // $FlowFixMe[incompatible-return]: assume body is always available\n      return node.ownerDocument.body;\n    }\n\n    if (isHTMLElement(node) && isScrollParent(node)) {\n      return node;\n    }\n\n    return getScrollParent(getParentNode(node));\n  }\n\n  /*\n  given a DOM element, return the list of all scroll parents, up the list of ancesors\n  until we get to the top window object. This list is what we attach scroll listeners\n  to, because if any of these parent elements scroll, we'll need to re-calculate the\n  reference element's position.\n  */\n\n  function listScrollParents(element, list) {\n    var _element$ownerDocumen;\n\n    if (list === void 0) {\n      list = [];\n    }\n\n    var scrollParent = getScrollParent(element);\n    var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n    var win = getWindow(scrollParent);\n    var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n    var updatedList = list.concat(target);\n    return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n    updatedList.concat(listScrollParents(getParentNode(target)));\n  }\n\n  function rectToClientRect(rect) {\n    return Object.assign({}, rect, {\n      left: rect.x,\n      top: rect.y,\n      right: rect.x + rect.width,\n      bottom: rect.y + rect.height\n    });\n  }\n\n  function getInnerBoundingClientRect(element, strategy) {\n    var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n    rect.top = rect.top + element.clientTop;\n    rect.left = rect.left + element.clientLeft;\n    rect.bottom = rect.top + element.clientHeight;\n    rect.right = rect.left + element.clientWidth;\n    rect.width = element.clientWidth;\n    rect.height = element.clientHeight;\n    rect.x = rect.left;\n    rect.y = rect.top;\n    return rect;\n  }\n\n  function getClientRectFromMixedType(element, clippingParent, strategy) {\n    return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n  } // A \"clipping parent\" is an overflowable container with the characteristic of\n  // clipping (or hiding) overflowing elements with a position different from\n  // `initial`\n\n\n  function getClippingParents(element) {\n    var clippingParents = listScrollParents(getParentNode(element));\n    var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle$1(element).position) >= 0;\n    var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n    if (!isElement(clipperElement)) {\n      return [];\n    } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n    return clippingParents.filter(function (clippingParent) {\n      return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n    });\n  } // Gets the maximum area that the element is visible in due to any number of\n  // clipping parents\n\n\n  function getClippingRect(element, boundary, rootBoundary, strategy) {\n    var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n    var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n    var firstClippingParent = clippingParents[0];\n    var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n      var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n      accRect.top = max(rect.top, accRect.top);\n      accRect.right = min(rect.right, accRect.right);\n      accRect.bottom = min(rect.bottom, accRect.bottom);\n      accRect.left = max(rect.left, accRect.left);\n      return accRect;\n    }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n    clippingRect.width = clippingRect.right - clippingRect.left;\n    clippingRect.height = clippingRect.bottom - clippingRect.top;\n    clippingRect.x = clippingRect.left;\n    clippingRect.y = clippingRect.top;\n    return clippingRect;\n  }\n\n  function computeOffsets(_ref) {\n    var reference = _ref.reference,\n        element = _ref.element,\n        placement = _ref.placement;\n    var basePlacement = placement ? getBasePlacement(placement) : null;\n    var variation = placement ? getVariation(placement) : null;\n    var commonX = reference.x + reference.width / 2 - element.width / 2;\n    var commonY = reference.y + reference.height / 2 - element.height / 2;\n    var offsets;\n\n    switch (basePlacement) {\n      case top:\n        offsets = {\n          x: commonX,\n          y: reference.y - element.height\n        };\n        break;\n\n      case bottom:\n        offsets = {\n          x: commonX,\n          y: reference.y + reference.height\n        };\n        break;\n\n      case right:\n        offsets = {\n          x: reference.x + reference.width,\n          y: commonY\n        };\n        break;\n\n      case left:\n        offsets = {\n          x: reference.x - element.width,\n          y: commonY\n        };\n        break;\n\n      default:\n        offsets = {\n          x: reference.x,\n          y: reference.y\n        };\n    }\n\n    var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n    if (mainAxis != null) {\n      var len = mainAxis === 'y' ? 'height' : 'width';\n\n      switch (variation) {\n        case start:\n          offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n          break;\n\n        case end:\n          offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n          break;\n      }\n    }\n\n    return offsets;\n  }\n\n  function detectOverflow(state, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        _options$placement = _options.placement,\n        placement = _options$placement === void 0 ? state.placement : _options$placement,\n        _options$strategy = _options.strategy,\n        strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n        _options$boundary = _options.boundary,\n        boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n        _options$rootBoundary = _options.rootBoundary,\n        rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n        _options$elementConte = _options.elementContext,\n        elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n        _options$altBoundary = _options.altBoundary,\n        altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n        _options$padding = _options.padding,\n        padding = _options$padding === void 0 ? 0 : _options$padding;\n    var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n    var altContext = elementContext === popper ? reference : popper;\n    var popperRect = state.rects.popper;\n    var element = state.elements[altBoundary ? altContext : elementContext];\n    var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n    var referenceClientRect = getBoundingClientRect(state.elements.reference);\n    var popperOffsets = computeOffsets({\n      reference: referenceClientRect,\n      element: popperRect,\n      placement: placement\n    });\n    var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n    var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n    // 0 or negative = within the clipping rect\n\n    var overflowOffsets = {\n      top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n      bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n      left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n      right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n    };\n    var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n    if (elementContext === popper && offsetData) {\n      var offset = offsetData[placement];\n      Object.keys(overflowOffsets).forEach(function (key) {\n        var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n        var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n        overflowOffsets[key] += offset[axis] * multiply;\n      });\n    }\n\n    return overflowOffsets;\n  }\n\n  function computeAutoPlacement(state, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        placement = _options.placement,\n        boundary = _options.boundary,\n        rootBoundary = _options.rootBoundary,\n        padding = _options.padding,\n        flipVariations = _options.flipVariations,\n        _options$allowedAutoP = _options.allowedAutoPlacements,\n        allowedAutoPlacements = _options$allowedAutoP === void 0 ? placements : _options$allowedAutoP;\n    var variation = getVariation(placement);\n    var placements$1 = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n      return getVariation(placement) === variation;\n    }) : basePlacements;\n    var allowedPlacements = placements$1.filter(function (placement) {\n      return allowedAutoPlacements.indexOf(placement) >= 0;\n    });\n\n    if (allowedPlacements.length === 0) {\n      allowedPlacements = placements$1;\n    } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n    var overflows = allowedPlacements.reduce(function (acc, placement) {\n      acc[placement] = detectOverflow(state, {\n        placement: placement,\n        boundary: boundary,\n        rootBoundary: rootBoundary,\n        padding: padding\n      })[getBasePlacement(placement)];\n      return acc;\n    }, {});\n    return Object.keys(overflows).sort(function (a, b) {\n      return overflows[a] - overflows[b];\n    });\n  }\n\n  function getExpandedFallbackPlacements(placement) {\n    if (getBasePlacement(placement) === auto) {\n      return [];\n    }\n\n    var oppositePlacement = getOppositePlacement(placement);\n    return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n  }\n\n  function flip(_ref) {\n    var state = _ref.state,\n        options = _ref.options,\n        name = _ref.name;\n\n    if (state.modifiersData[name]._skip) {\n      return;\n    }\n\n    var _options$mainAxis = options.mainAxis,\n        checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n        _options$altAxis = options.altAxis,\n        checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n        specifiedFallbackPlacements = options.fallbackPlacements,\n        padding = options.padding,\n        boundary = options.boundary,\n        rootBoundary = options.rootBoundary,\n        altBoundary = options.altBoundary,\n        _options$flipVariatio = options.flipVariations,\n        flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n        allowedAutoPlacements = options.allowedAutoPlacements;\n    var preferredPlacement = state.options.placement;\n    var basePlacement = getBasePlacement(preferredPlacement);\n    var isBasePlacement = basePlacement === preferredPlacement;\n    var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n    var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n      return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n        placement: placement,\n        boundary: boundary,\n        rootBoundary: rootBoundary,\n        padding: padding,\n        flipVariations: flipVariations,\n        allowedAutoPlacements: allowedAutoPlacements\n      }) : placement);\n    }, []);\n    var referenceRect = state.rects.reference;\n    var popperRect = state.rects.popper;\n    var checksMap = new Map();\n    var makeFallbackChecks = true;\n    var firstFittingPlacement = placements[0];\n\n    for (var i = 0; i < placements.length; i++) {\n      var placement = placements[i];\n\n      var _basePlacement = getBasePlacement(placement);\n\n      var isStartVariation = getVariation(placement) === start;\n      var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n      var len = isVertical ? 'width' : 'height';\n      var overflow = detectOverflow(state, {\n        placement: placement,\n        boundary: boundary,\n        rootBoundary: rootBoundary,\n        altBoundary: altBoundary,\n        padding: padding\n      });\n      var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n      if (referenceRect[len] > popperRect[len]) {\n        mainVariationSide = getOppositePlacement(mainVariationSide);\n      }\n\n      var altVariationSide = getOppositePlacement(mainVariationSide);\n      var checks = [];\n\n      if (checkMainAxis) {\n        checks.push(overflow[_basePlacement] <= 0);\n      }\n\n      if (checkAltAxis) {\n        checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n      }\n\n      if (checks.every(function (check) {\n        return check;\n      })) {\n        firstFittingPlacement = placement;\n        makeFallbackChecks = false;\n        break;\n      }\n\n      checksMap.set(placement, checks);\n    }\n\n    if (makeFallbackChecks) {\n      // `2` may be desired in some cases â research later\n      var numberOfChecks = flipVariations ? 3 : 1;\n\n      var _loop = function _loop(_i) {\n        var fittingPlacement = placements.find(function (placement) {\n          var checks = checksMap.get(placement);\n\n          if (checks) {\n            return checks.slice(0, _i).every(function (check) {\n              return check;\n            });\n          }\n        });\n\n        if (fittingPlacement) {\n          firstFittingPlacement = fittingPlacement;\n          return \"break\";\n        }\n      };\n\n      for (var _i = numberOfChecks; _i > 0; _i--) {\n        var _ret = _loop(_i);\n\n        if (_ret === \"break\") break;\n      }\n    }\n\n    if (state.placement !== firstFittingPlacement) {\n      state.modifiersData[name]._skip = true;\n      state.placement = firstFittingPlacement;\n      state.reset = true;\n    }\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const flip$1 = {\n    name: 'flip',\n    enabled: true,\n    phase: 'main',\n    fn: flip,\n    requiresIfExists: ['offset'],\n    data: {\n      _skip: false\n    }\n  };\n\n  function getSideOffsets(overflow, rect, preventedOffsets) {\n    if (preventedOffsets === void 0) {\n      preventedOffsets = {\n        x: 0,\n        y: 0\n      };\n    }\n\n    return {\n      top: overflow.top - rect.height - preventedOffsets.y,\n      right: overflow.right - rect.width + preventedOffsets.x,\n      bottom: overflow.bottom - rect.height + preventedOffsets.y,\n      left: overflow.left - rect.width - preventedOffsets.x\n    };\n  }\n\n  function isAnySideFullyClipped(overflow) {\n    return [top, right, bottom, left].some(function (side) {\n      return overflow[side] >= 0;\n    });\n  }\n\n  function hide(_ref) {\n    var state = _ref.state,\n        name = _ref.name;\n    var referenceRect = state.rects.reference;\n    var popperRect = state.rects.popper;\n    var preventedOffsets = state.modifiersData.preventOverflow;\n    var referenceOverflow = detectOverflow(state, {\n      elementContext: 'reference'\n    });\n    var popperAltOverflow = detectOverflow(state, {\n      altBoundary: true\n    });\n    var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n    var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n    var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n    var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n    state.modifiersData[name] = {\n      referenceClippingOffsets: referenceClippingOffsets,\n      popperEscapeOffsets: popperEscapeOffsets,\n      isReferenceHidden: isReferenceHidden,\n      hasPopperEscaped: hasPopperEscaped\n    };\n    state.attributes.popper = Object.assign({}, state.attributes.popper, {\n      'data-popper-reference-hidden': isReferenceHidden,\n      'data-popper-escaped': hasPopperEscaped\n    });\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const hide$1 = {\n    name: 'hide',\n    enabled: true,\n    phase: 'main',\n    requiresIfExists: ['preventOverflow'],\n    fn: hide\n  };\n\n  function distanceAndSkiddingToXY(placement, rects, offset) {\n    var basePlacement = getBasePlacement(placement);\n    var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n    var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n      placement: placement\n    })) : offset,\n        skidding = _ref[0],\n        distance = _ref[1];\n\n    skidding = skidding || 0;\n    distance = (distance || 0) * invertDistance;\n    return [left, right].indexOf(basePlacement) >= 0 ? {\n      x: distance,\n      y: skidding\n    } : {\n      x: skidding,\n      y: distance\n    };\n  }\n\n  function offset(_ref2) {\n    var state = _ref2.state,\n        options = _ref2.options,\n        name = _ref2.name;\n    var _options$offset = options.offset,\n        offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n    var data = placements.reduce(function (acc, placement) {\n      acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n      return acc;\n    }, {});\n    var _data$state$placement = data[state.placement],\n        x = _data$state$placement.x,\n        y = _data$state$placement.y;\n\n    if (state.modifiersData.popperOffsets != null) {\n      state.modifiersData.popperOffsets.x += x;\n      state.modifiersData.popperOffsets.y += y;\n    }\n\n    state.modifiersData[name] = data;\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const offset$1 = {\n    name: 'offset',\n    enabled: true,\n    phase: 'main',\n    requires: ['popperOffsets'],\n    fn: offset\n  };\n\n  function popperOffsets(_ref) {\n    var state = _ref.state,\n        name = _ref.name;\n    // Offsets are the actual position the popper needs to have to be\n    // properly positioned near its reference element\n    // This is the most basic placement, and will be adjusted by\n    // the modifiers in the next step\n    state.modifiersData[name] = computeOffsets({\n      reference: state.rects.reference,\n      element: state.rects.popper,\n      placement: state.placement\n    });\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const popperOffsets$1 = {\n    name: 'popperOffsets',\n    enabled: true,\n    phase: 'read',\n    fn: popperOffsets,\n    data: {}\n  };\n\n  function getAltAxis(axis) {\n    return axis === 'x' ? 'y' : 'x';\n  }\n\n  function preventOverflow(_ref) {\n    var state = _ref.state,\n        options = _ref.options,\n        name = _ref.name;\n    var _options$mainAxis = options.mainAxis,\n        checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n        _options$altAxis = options.altAxis,\n        checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n        boundary = options.boundary,\n        rootBoundary = options.rootBoundary,\n        altBoundary = options.altBoundary,\n        padding = options.padding,\n        _options$tether = options.tether,\n        tether = _options$tether === void 0 ? true : _options$tether,\n        _options$tetherOffset = options.tetherOffset,\n        tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n    var overflow = detectOverflow(state, {\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      altBoundary: altBoundary\n    });\n    var basePlacement = getBasePlacement(state.placement);\n    var variation = getVariation(state.placement);\n    var isBasePlacement = !variation;\n    var mainAxis = getMainAxisFromPlacement(basePlacement);\n    var altAxis = getAltAxis(mainAxis);\n    var popperOffsets = state.modifiersData.popperOffsets;\n    var referenceRect = state.rects.reference;\n    var popperRect = state.rects.popper;\n    var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n      placement: state.placement\n    })) : tetherOffset;\n    var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n      mainAxis: tetherOffsetValue,\n      altAxis: tetherOffsetValue\n    } : Object.assign({\n      mainAxis: 0,\n      altAxis: 0\n    }, tetherOffsetValue);\n    var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n    var data = {\n      x: 0,\n      y: 0\n    };\n\n    if (!popperOffsets) {\n      return;\n    }\n\n    if (checkMainAxis) {\n      var _offsetModifierState$;\n\n      var mainSide = mainAxis === 'y' ? top : left;\n      var altSide = mainAxis === 'y' ? bottom : right;\n      var len = mainAxis === 'y' ? 'height' : 'width';\n      var offset = popperOffsets[mainAxis];\n      var min$1 = offset + overflow[mainSide];\n      var max$1 = offset - overflow[altSide];\n      var additive = tether ? -popperRect[len] / 2 : 0;\n      var minLen = variation === start ? referenceRect[len] : popperRect[len];\n      var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n      // outside the reference bounds\n\n      var arrowElement = state.elements.arrow;\n      var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n        width: 0,\n        height: 0\n      };\n      var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n      var arrowPaddingMin = arrowPaddingObject[mainSide];\n      var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n      // to include its full size in the calculation. If the reference is small\n      // and near the edge of a boundary, the popper can overflow even if the\n      // reference is not overflowing as well (e.g. virtual elements with no\n      // width or height)\n\n      var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n      var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n      var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n      var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n      var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n      var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n      var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n      var tetherMax = offset + maxOffset - offsetModifierValue;\n      var preventedOffset = within(tether ? min(min$1, tetherMin) : min$1, offset, tether ? max(max$1, tetherMax) : max$1);\n      popperOffsets[mainAxis] = preventedOffset;\n      data[mainAxis] = preventedOffset - offset;\n    }\n\n    if (checkAltAxis) {\n      var _offsetModifierState$2;\n\n      var _mainSide = mainAxis === 'x' ? top : left;\n\n      var _altSide = mainAxis === 'x' ? bottom : right;\n\n      var _offset = popperOffsets[altAxis];\n\n      var _len = altAxis === 'y' ? 'height' : 'width';\n\n      var _min = _offset + overflow[_mainSide];\n\n      var _max = _offset - overflow[_altSide];\n\n      var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n      var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n      var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n      var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n      var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n      popperOffsets[altAxis] = _preventedOffset;\n      data[altAxis] = _preventedOffset - _offset;\n    }\n\n    state.modifiersData[name] = data;\n  } // eslint-disable-next-line import/no-unused-modules\n\n\n  const preventOverflow$1 = {\n    name: 'preventOverflow',\n    enabled: true,\n    phase: 'main',\n    fn: preventOverflow,\n    requiresIfExists: ['offset']\n  };\n\n  function getHTMLElementScroll(element) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n\n  function getNodeScroll(node) {\n    if (node === getWindow(node) || !isHTMLElement(node)) {\n      return getWindowScroll(node);\n    } else {\n      return getHTMLElementScroll(node);\n    }\n  }\n\n  function isElementScaled(element) {\n    var rect = element.getBoundingClientRect();\n    var scaleX = round(rect.width) / element.offsetWidth || 1;\n    var scaleY = round(rect.height) / element.offsetHeight || 1;\n    return scaleX !== 1 || scaleY !== 1;\n  } // Returns the composite rect of an element relative to its offsetParent.\n  // Composite means it takes into account transforms as well as layout.\n\n\n  function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n    if (isFixed === void 0) {\n      isFixed = false;\n    }\n\n    var isOffsetParentAnElement = isHTMLElement(offsetParent);\n    var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n    var documentElement = getDocumentElement(offsetParent);\n    var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n    var scroll = {\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    var offsets = {\n      x: 0,\n      y: 0\n    };\n\n    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n      if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n      isScrollParent(documentElement)) {\n        scroll = getNodeScroll(offsetParent);\n      }\n\n      if (isHTMLElement(offsetParent)) {\n        offsets = getBoundingClientRect(offsetParent, true);\n        offsets.x += offsetParent.clientLeft;\n        offsets.y += offsetParent.clientTop;\n      } else if (documentElement) {\n        offsets.x = getWindowScrollBarX(documentElement);\n      }\n    }\n\n    return {\n      x: rect.left + scroll.scrollLeft - offsets.x,\n      y: rect.top + scroll.scrollTop - offsets.y,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  function order(modifiers) {\n    var map = new Map();\n    var visited = new Set();\n    var result = [];\n    modifiers.forEach(function (modifier) {\n      map.set(modifier.name, modifier);\n    }); // On visiting object, check for its dependencies and visit them recursively\n\n    function sort(modifier) {\n      visited.add(modifier.name);\n      var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n      requires.forEach(function (dep) {\n        if (!visited.has(dep)) {\n          var depModifier = map.get(dep);\n\n          if (depModifier) {\n            sort(depModifier);\n          }\n        }\n      });\n      result.push(modifier);\n    }\n\n    modifiers.forEach(function (modifier) {\n      if (!visited.has(modifier.name)) {\n        // check for visited object\n        sort(modifier);\n      }\n    });\n    return result;\n  }\n\n  function orderModifiers(modifiers) {\n    // order based on dependencies\n    var orderedModifiers = order(modifiers); // order based on phase\n\n    return modifierPhases.reduce(function (acc, phase) {\n      return acc.concat(orderedModifiers.filter(function (modifier) {\n        return modifier.phase === phase;\n      }));\n    }, []);\n  }\n\n  function debounce(fn) {\n    var pending;\n    return function () {\n      if (!pending) {\n        pending = new Promise(function (resolve) {\n          Promise.resolve().then(function () {\n            pending = undefined;\n            resolve(fn());\n          });\n        });\n      }\n\n      return pending;\n    };\n  }\n\n  function mergeByName(modifiers) {\n    var merged = modifiers.reduce(function (merged, current) {\n      var existing = merged[current.name];\n      merged[current.name] = existing ? Object.assign({}, existing, current, {\n        options: Object.assign({}, existing.options, current.options),\n        data: Object.assign({}, existing.data, current.data)\n      }) : current;\n      return merged;\n    }, {}); // IE11 does not support Object.values\n\n    return Object.keys(merged).map(function (key) {\n      return merged[key];\n    });\n  }\n\n  var DEFAULT_OPTIONS = {\n    placement: 'bottom',\n    modifiers: [],\n    strategy: 'absolute'\n  };\n\n  function areValidElements() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return !args.some(function (element) {\n      return !(element && typeof element.getBoundingClientRect === 'function');\n    });\n  }\n\n  function popperGenerator(generatorOptions) {\n    if (generatorOptions === void 0) {\n      generatorOptions = {};\n    }\n\n    var _generatorOptions = generatorOptions,\n        _generatorOptions$def = _generatorOptions.defaultModifiers,\n        defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n        _generatorOptions$def2 = _generatorOptions.defaultOptions,\n        defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n    return function createPopper(reference, popper, options) {\n      if (options === void 0) {\n        options = defaultOptions;\n      }\n\n      var state = {\n        placement: 'bottom',\n        orderedModifiers: [],\n        options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n        modifiersData: {},\n        elements: {\n          reference: reference,\n          popper: popper\n        },\n        attributes: {},\n        styles: {}\n      };\n      var effectCleanupFns = [];\n      var isDestroyed = false;\n      var instance = {\n        state: state,\n        setOptions: function setOptions(setOptionsAction) {\n          var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n          cleanupModifierEffects();\n          state.options = Object.assign({}, defaultOptions, state.options, options);\n          state.scrollParents = {\n            reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n            popper: listScrollParents(popper)\n          }; // Orders the modifiers based on their dependencies and `phase`\n          // properties\n\n          var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n          state.orderedModifiers = orderedModifiers.filter(function (m) {\n            return m.enabled;\n          });\n          runModifierEffects();\n          return instance.update();\n        },\n        // Sync update â it will always be executed, even if not necessary. This\n        // is useful for low frequency updates where sync behavior simplifies the\n        // logic.\n        // For high frequency updates (e.g. `resize` and `scroll` events), always\n        // prefer the async Popper#update method\n        forceUpdate: function forceUpdate() {\n          if (isDestroyed) {\n            return;\n          }\n\n          var _state$elements = state.elements,\n              reference = _state$elements.reference,\n              popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n          // anymore\n\n          if (!areValidElements(reference, popper)) {\n            return;\n          } // Store the reference and popper rects to be read by modifiers\n\n\n          state.rects = {\n            reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n            popper: getLayoutRect(popper)\n          }; // Modifiers have the ability to reset the current update cycle. The\n          // most common use case for this is the `flip` modifier changing the\n          // placement, which then needs to re-run all the modifiers, because the\n          // logic was previously ran for the previous placement and is therefore\n          // stale/incorrect\n\n          state.reset = false;\n          state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n          // is filled with the initial data specified by the modifier. This means\n          // it doesn't persist and is fresh on each update.\n          // To ensure persistent data, use `${name}#persistent`\n\n          state.orderedModifiers.forEach(function (modifier) {\n            return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n          });\n\n          for (var index = 0; index < state.orderedModifiers.length; index++) {\n            if (state.reset === true) {\n              state.reset = false;\n              index = -1;\n              continue;\n            }\n\n            var _state$orderedModifie = state.orderedModifiers[index],\n                fn = _state$orderedModifie.fn,\n                _state$orderedModifie2 = _state$orderedModifie.options,\n                _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n                name = _state$orderedModifie.name;\n\n            if (typeof fn === 'function') {\n              state = fn({\n                state: state,\n                options: _options,\n                name: name,\n                instance: instance\n              }) || state;\n            }\n          }\n        },\n        // Async and optimistically optimized update â it will not be executed if\n        // not necessary (debounced to run at most once-per-tick)\n        update: debounce(function () {\n          return new Promise(function (resolve) {\n            instance.forceUpdate();\n            resolve(state);\n          });\n        }),\n        destroy: function destroy() {\n          cleanupModifierEffects();\n          isDestroyed = true;\n        }\n      };\n\n      if (!areValidElements(reference, popper)) {\n        return instance;\n      }\n\n      instance.setOptions(options).then(function (state) {\n        if (!isDestroyed && options.onFirstUpdate) {\n          options.onFirstUpdate(state);\n        }\n      }); // Modifiers have the ability to execute arbitrary code before the first\n      // update cycle runs. They will be executed in the same order as the update\n      // cycle. This is useful when a modifier adds some persistent data that\n      // other modifiers need to use, but the modifier is run after the dependent\n      // one.\n\n      function runModifierEffects() {\n        state.orderedModifiers.forEach(function (_ref) {\n          var name = _ref.name,\n              _ref$options = _ref.options,\n              options = _ref$options === void 0 ? {} : _ref$options,\n              effect = _ref.effect;\n\n          if (typeof effect === 'function') {\n            var cleanupFn = effect({\n              state: state,\n              name: name,\n              instance: instance,\n              options: options\n            });\n\n            var noopFn = function noopFn() {};\n\n            effectCleanupFns.push(cleanupFn || noopFn);\n          }\n        });\n      }\n\n      function cleanupModifierEffects() {\n        effectCleanupFns.forEach(function (fn) {\n          return fn();\n        });\n        effectCleanupFns = [];\n      }\n\n      return instance;\n    };\n  }\n  var createPopper$2 = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\n  var defaultModifiers$1 = [eventListeners, popperOffsets$1, computeStyles$1, applyStyles$1];\n  var createPopper$1 = /*#__PURE__*/popperGenerator({\n    defaultModifiers: defaultModifiers$1\n  }); // eslint-disable-next-line import/no-unused-modules\n\n  var defaultModifiers = [eventListeners, popperOffsets$1, computeStyles$1, applyStyles$1, offset$1, flip$1, preventOverflow$1, arrow$1, hide$1];\n  var createPopper = /*#__PURE__*/popperGenerator({\n    defaultModifiers: defaultModifiers\n  }); // eslint-disable-next-line import/no-unused-modules\n\n  const Popper = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({\n    __proto__: null,\n    afterMain,\n    afterRead,\n    afterWrite,\n    applyStyles: applyStyles$1,\n    arrow: arrow$1,\n    auto,\n    basePlacements,\n    beforeMain,\n    beforeRead,\n    beforeWrite,\n    bottom,\n    clippingParents,\n    computeStyles: computeStyles$1,\n    createPopper,\n    createPopperBase: createPopper$2,\n    createPopperLite: createPopper$1,\n    detectOverflow,\n    end,\n    eventListeners,\n    flip: flip$1,\n    hide: hide$1,\n    left,\n    main,\n    modifierPhases,\n    offset: offset$1,\n    placements,\n    popper,\n    popperGenerator,\n    popperOffsets: popperOffsets$1,\n    preventOverflow: preventOverflow$1,\n    read,\n    reference,\n    right,\n    start,\n    top,\n    variationPlacements,\n    viewport,\n    write\n  }, Symbol.toStringTag, { value: 'Module' }));\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dropdown.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$a = 'dropdown';\n  const DATA_KEY$6 = 'bs.dropdown';\n  const EVENT_KEY$6 = `.${DATA_KEY$6}`;\n  const DATA_API_KEY$3 = '.data-api';\n  const ESCAPE_KEY$2 = 'Escape';\n  const TAB_KEY$1 = 'Tab';\n  const ARROW_UP_KEY$1 = 'ArrowUp';\n  const ARROW_DOWN_KEY$1 = 'ArrowDown';\n  const RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button\n\n  const EVENT_HIDE$5 = `hide${EVENT_KEY$6}`;\n  const EVENT_HIDDEN$5 = `hidden${EVENT_KEY$6}`;\n  const EVENT_SHOW$5 = `show${EVENT_KEY$6}`;\n  const EVENT_SHOWN$5 = `shown${EVENT_KEY$6}`;\n  const EVENT_CLICK_DATA_API$3 = `click${EVENT_KEY$6}${DATA_API_KEY$3}`;\n  const EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY$6}${DATA_API_KEY$3}`;\n  const EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY$6}${DATA_API_KEY$3}`;\n  const CLASS_NAME_SHOW$6 = 'show';\n  const CLASS_NAME_DROPUP = 'dropup';\n  const CLASS_NAME_DROPEND = 'dropend';\n  const CLASS_NAME_DROPSTART = 'dropstart';\n  const CLASS_NAME_DROPUP_CENTER = 'dropup-center';\n  const CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center';\n  const SELECTOR_DATA_TOGGLE$3 = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)';\n  const SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`;\n  const SELECTOR_MENU = '.dropdown-menu';\n  const SELECTOR_NAVBAR = '.navbar';\n  const SELECTOR_NAVBAR_NAV = '.navbar-nav';\n  const SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';\n  const PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start';\n  const PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end';\n  const PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start';\n  const PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end';\n  const PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start';\n  const PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start';\n  const PLACEMENT_TOPCENTER = 'top';\n  const PLACEMENT_BOTTOMCENTER = 'bottom';\n  const Default$9 = {\n    autoClose: true,\n    boundary: 'clippingParents',\n    display: 'dynamic',\n    offset: [0, 2],\n    popperConfig: null,\n    reference: 'toggle'\n  };\n  const DefaultType$9 = {\n    autoClose: '(boolean|string)',\n    boundary: '(string|element)',\n    display: 'string',\n    offset: '(array|string|function)',\n    popperConfig: '(null|object|function)',\n    reference: '(string|element|object)'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Dropdown extends BaseComponent {\n    constructor(element, config) {\n      super(element, config);\n      this._popper = null;\n      this._parent = this._element.parentNode; // dropdown wrapper\n      // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n      this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] || SelectorEngine.prev(this._element, SELECTOR_MENU)[0] || SelectorEngine.findOne(SELECTOR_MENU, this._parent);\n      this._inNavbar = this._detectNavbar();\n    }\n\n    // Getters\n    static get Default() {\n      return Default$9;\n    }\n    static get DefaultType() {\n      return DefaultType$9;\n    }\n    static get NAME() {\n      return NAME$a;\n    }\n\n    // Public\n    toggle() {\n      return this._isShown() ? this.hide() : this.show();\n    }\n    show() {\n      if (isDisabled(this._element) || this._isShown()) {\n        return;\n      }\n      const relatedTarget = {\n        relatedTarget: this._element\n      };\n      const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$5, relatedTarget);\n      if (showEvent.defaultPrevented) {\n        return;\n      }\n      this._createPopper();\n\n      // If this is a touch-enabled device we add extra\n      // empty mouseover listeners to the body's immediate children;\n      // only needed because of broken event delegation on iOS\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n      if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n        for (const element of [].concat(...document.body.children)) {\n          EventHandler.on(element, 'mouseover', noop);\n        }\n      }\n      this._element.focus();\n      this._element.setAttribute('aria-expanded', true);\n      this._menu.classList.add(CLASS_NAME_SHOW$6);\n      this._element.classList.add(CLASS_NAME_SHOW$6);\n      EventHandler.trigger(this._element, EVENT_SHOWN$5, relatedTarget);\n    }\n    hide() {\n      if (isDisabled(this._element) || !this._isShown()) {\n        return;\n      }\n      const relatedTarget = {\n        relatedTarget: this._element\n      };\n      this._completeHide(relatedTarget);\n    }\n    dispose() {\n      if (this._popper) {\n        this._popper.destroy();\n      }\n      super.dispose();\n    }\n    update() {\n      this._inNavbar = this._detectNavbar();\n      if (this._popper) {\n        this._popper.update();\n      }\n    }\n\n    // Private\n    _completeHide(relatedTarget) {\n      const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$5, relatedTarget);\n      if (hideEvent.defaultPrevented) {\n        return;\n      }\n\n      // If this is a touch-enabled device we remove the extra\n      // empty mouseover listeners we added for iOS support\n      if ('ontouchstart' in document.documentElement) {\n        for (const element of [].concat(...document.body.children)) {\n          EventHandler.off(element, 'mouseover', noop);\n        }\n      }\n      if (this._popper) {\n        this._popper.destroy();\n      }\n      this._menu.classList.remove(CLASS_NAME_SHOW$6);\n      this._element.classList.remove(CLASS_NAME_SHOW$6);\n      this._element.setAttribute('aria-expanded', 'false');\n      Manipulator.removeDataAttribute(this._menu, 'popper');\n      EventHandler.trigger(this._element, EVENT_HIDDEN$5, relatedTarget);\n\n      // Explicitly return focus to the trigger element\n      this._element.focus();\n    }\n    _getConfig(config) {\n      config = super._getConfig(config);\n      if (typeof config.reference === 'object' && !isElement$1(config.reference) && typeof config.reference.getBoundingClientRect !== 'function') {\n        // Popper virtual elements require a getBoundingClientRect method\n        throw new TypeError(`${NAME$a.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`);\n      }\n      return config;\n    }\n    _createPopper() {\n      if (typeof Popper === 'undefined') {\n        throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org/docs/v2/)');\n      }\n      let referenceElement = this._element;\n      if (this._config.reference === 'parent') {\n        referenceElement = this._parent;\n      } else if (isElement$1(this._config.reference)) {\n        referenceElement = getElement(this._config.reference);\n      } else if (typeof this._config.reference === 'object') {\n        referenceElement = this._config.reference;\n      }\n      const popperConfig = this._getPopperConfig();\n      this._popper = createPopper(referenceElement, this._menu, popperConfig);\n    }\n    _isShown() {\n      return this._menu.classList.contains(CLASS_NAME_SHOW$6);\n    }\n    _getPlacement() {\n      const parentDropdown = this._parent;\n      if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {\n        return PLACEMENT_RIGHT;\n      }\n      if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {\n        return PLACEMENT_LEFT;\n      }\n      if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {\n        return PLACEMENT_TOPCENTER;\n      }\n      if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {\n        return PLACEMENT_BOTTOMCENTER;\n      }\n\n      // We need to trim the value because custom properties can also include spaces\n      const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end';\n      if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {\n        return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP;\n      }\n      return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM;\n    }\n    _detectNavbar() {\n      return this._element.closest(SELECTOR_NAVBAR) !== null;\n    }\n    _getOffset() {\n      const {\n        offset\n      } = this._config;\n      if (typeof offset === 'string') {\n        return offset.split(',').map(value => Number.parseInt(value, 10));\n      }\n      if (typeof offset === 'function') {\n        return popperData => offset(popperData, this._element);\n      }\n      return offset;\n    }\n    _getPopperConfig() {\n      const defaultBsPopperConfig = {\n        placement: this._getPlacement(),\n        modifiers: [{\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        }, {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        }]\n      };\n\n      // Disable Popper if we have a static display or Dropdown is in Navbar\n      if (this._inNavbar || this._config.display === 'static') {\n        Manipulator.setDataAttribute(this._menu, 'popper', 'static'); // TODO: v6 remove\n        defaultBsPopperConfig.modifiers = [{\n          name: 'applyStyles',\n          enabled: false\n        }];\n      }\n      return {\n        ...defaultBsPopperConfig,\n        ...execute(this._config.popperConfig, [undefined, defaultBsPopperConfig])\n      };\n    }\n    _selectMenuItem({\n      key,\n      target\n    }) {\n      const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element));\n      if (!items.length) {\n        return;\n      }\n\n      // if target isn't included in items (e.g. when expanding the dropdown)\n      // allow cycling to get the last item in case key equals ARROW_UP_KEY\n      getNextActiveElement(items, target, key === ARROW_DOWN_KEY$1, !items.includes(target)).focus();\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Dropdown.getOrCreateInstance(this, config);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      });\n    }\n    static clearMenus(event) {\n      if (event.button === RIGHT_MOUSE_BUTTON || event.type === 'keyup' && event.key !== TAB_KEY$1) {\n        return;\n      }\n      const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);\n      for (const toggle of openToggles) {\n        const context = Dropdown.getInstance(toggle);\n        if (!context || context._config.autoClose === false) {\n          continue;\n        }\n        const composedPath = event.composedPath();\n        const isMenuTarget = composedPath.includes(context._menu);\n        if (composedPath.includes(context._element) || context._config.autoClose === 'inside' && !isMenuTarget || context._config.autoClose === 'outside' && isMenuTarget) {\n          continue;\n        }\n\n        // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n        if (context._menu.contains(event.target) && (event.type === 'keyup' && event.key === TAB_KEY$1 || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n          continue;\n        }\n        const relatedTarget = {\n          relatedTarget: context._element\n        };\n        if (event.type === 'click') {\n          relatedTarget.clickEvent = event;\n        }\n        context._completeHide(relatedTarget);\n      }\n    }\n    static dataApiKeydownHandler(event) {\n      // If not an UP | DOWN | ESCAPE key => not a dropdown command\n      // If input/textarea && if key is other than ESCAPE => not a dropdown command\n\n      const isInput = /input|textarea/i.test(event.target.tagName);\n      const isEscapeEvent = event.key === ESCAPE_KEY$2;\n      const isUpOrDownEvent = [ARROW_UP_KEY$1, ARROW_DOWN_KEY$1].includes(event.key);\n      if (!isUpOrDownEvent && !isEscapeEvent) {\n        return;\n      }\n      if (isInput && !isEscapeEvent) {\n        return;\n      }\n      event.preventDefault();\n\n      // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n      const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE$3) ? this : SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.next(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3, event.delegateTarget.parentNode);\n      const instance = Dropdown.getOrCreateInstance(getToggleButton);\n      if (isUpOrDownEvent) {\n        event.stopPropagation();\n        instance.show();\n        instance._selectMenuItem(event);\n        return;\n      }\n      if (instance._isShown()) {\n        // else is escape and we check if it is shown\n        event.stopPropagation();\n        instance.hide();\n        getToggleButton.focus();\n      }\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$3, Dropdown.dataApiKeydownHandler);\n  EventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler);\n  EventHandler.on(document, EVENT_CLICK_DATA_API$3, Dropdown.clearMenus);\n  EventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus);\n  EventHandler.on(document, EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$3, function (event) {\n    event.preventDefault();\n    Dropdown.getOrCreateInstance(this).toggle();\n  });\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Dropdown);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/backdrop.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$9 = 'backdrop';\n  const CLASS_NAME_FADE$4 = 'fade';\n  const CLASS_NAME_SHOW$5 = 'show';\n  const EVENT_MOUSEDOWN = `mousedown.bs.${NAME$9}`;\n  const Default$8 = {\n    className: 'modal-backdrop',\n    clickCallback: null,\n    isAnimated: false,\n    isVisible: true,\n    // if false, we use the backdrop helper without adding any element to the dom\n    rootElement: 'body' // give the choice to place backdrop under different elements\n  };\n  const DefaultType$8 = {\n    className: 'string',\n    clickCallback: '(function|null)',\n    isAnimated: 'boolean',\n    isVisible: 'boolean',\n    rootElement: '(element|string)'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Backdrop extends Config {\n    constructor(config) {\n      super();\n      this._config = this._getConfig(config);\n      this._isAppended = false;\n      this._element = null;\n    }\n\n    // Getters\n    static get Default() {\n      return Default$8;\n    }\n    static get DefaultType() {\n      return DefaultType$8;\n    }\n    static get NAME() {\n      return NAME$9;\n    }\n\n    // Public\n    show(callback) {\n      if (!this._config.isVisible) {\n        execute(callback);\n        return;\n      }\n      this._append();\n      const element = this._getElement();\n      if (this._config.isAnimated) {\n        reflow(element);\n      }\n      element.classList.add(CLASS_NAME_SHOW$5);\n      this._emulateAnimation(() => {\n        execute(callback);\n      });\n    }\n    hide(callback) {\n      if (!this._config.isVisible) {\n        execute(callback);\n        return;\n      }\n      this._getElement().classList.remove(CLASS_NAME_SHOW$5);\n      this._emulateAnimation(() => {\n        this.dispose();\n        execute(callback);\n      });\n    }\n    dispose() {\n      if (!this._isAppended) {\n        return;\n      }\n      EventHandler.off(this._element, EVENT_MOUSEDOWN);\n      this._element.remove();\n      this._isAppended = false;\n    }\n\n    // Private\n    _getElement() {\n      if (!this._element) {\n        const backdrop = document.createElement('div');\n        backdrop.className = this._config.className;\n        if (this._config.isAnimated) {\n          backdrop.classList.add(CLASS_NAME_FADE$4);\n        }\n        this._element = backdrop;\n      }\n      return this._element;\n    }\n    _configAfterMerge(config) {\n      // use getElement() with the default \"body\" to get a fresh Element on each instantiation\n      config.rootElement = getElement(config.rootElement);\n      return config;\n    }\n    _append() {\n      if (this._isAppended) {\n        return;\n      }\n      const element = this._getElement();\n      this._config.rootElement.append(element);\n      EventHandler.on(element, EVENT_MOUSEDOWN, () => {\n        execute(this._config.clickCallback);\n      });\n      this._isAppended = true;\n    }\n    _emulateAnimation(callback) {\n      executeAfterTransition(callback, this._getElement(), this._config.isAnimated);\n    }\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/focustrap.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$8 = 'focustrap';\n  const DATA_KEY$5 = 'bs.focustrap';\n  const EVENT_KEY$5 = `.${DATA_KEY$5}`;\n  const EVENT_FOCUSIN$2 = `focusin${EVENT_KEY$5}`;\n  const EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY$5}`;\n  const TAB_KEY = 'Tab';\n  const TAB_NAV_FORWARD = 'forward';\n  const TAB_NAV_BACKWARD = 'backward';\n  const Default$7 = {\n    autofocus: true,\n    trapElement: null // The element to trap focus inside of\n  };\n  const DefaultType$7 = {\n    autofocus: 'boolean',\n    trapElement: 'element'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class FocusTrap extends Config {\n    constructor(config) {\n      super();\n      this._config = this._getConfig(config);\n      this._isActive = false;\n      this._lastTabNavDirection = null;\n    }\n\n    // Getters\n    static get Default() {\n      return Default$7;\n    }\n    static get DefaultType() {\n      return DefaultType$7;\n    }\n    static get NAME() {\n      return NAME$8;\n    }\n\n    // Public\n    activate() {\n      if (this._isActive) {\n        return;\n      }\n      if (this._config.autofocus) {\n        this._config.trapElement.focus();\n      }\n      EventHandler.off(document, EVENT_KEY$5); // guard against infinite focus loop\n      EventHandler.on(document, EVENT_FOCUSIN$2, event => this._handleFocusin(event));\n      EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event));\n      this._isActive = true;\n    }\n    deactivate() {\n      if (!this._isActive) {\n        return;\n      }\n      this._isActive = false;\n      EventHandler.off(document, EVENT_KEY$5);\n    }\n\n    // Private\n    _handleFocusin(event) {\n      const {\n        trapElement\n      } = this._config;\n      if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\n        return;\n      }\n      const elements = SelectorEngine.focusableChildren(trapElement);\n      if (elements.length === 0) {\n        trapElement.focus();\n      } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\n        elements[elements.length - 1].focus();\n      } else {\n        elements[0].focus();\n      }\n    }\n    _handleKeydown(event) {\n      if (event.key !== TAB_KEY) {\n        return;\n      }\n      this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD;\n    }\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/scrollBar.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\n  const SELECTOR_STICKY_CONTENT = '.sticky-top';\n  const PROPERTY_PADDING = 'padding-right';\n  const PROPERTY_MARGIN = 'margin-right';\n\n  /**\n   * Class definition\n   */\n\n  class ScrollBarHelper {\n    constructor() {\n      this._element = document.body;\n    }\n\n    // Public\n    getWidth() {\n      // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n      const documentWidth = document.documentElement.clientWidth;\n      return Math.abs(window.innerWidth - documentWidth);\n    }\n    hide() {\n      const width = this.getWidth();\n      this._disableOverFlow();\n      // give padding to element to balance the hidden scrollbar width\n      this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width);\n      // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth\n      this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width);\n      this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width);\n    }\n    reset() {\n      this._resetElementAttributes(this._element, 'overflow');\n      this._resetElementAttributes(this._element, PROPERTY_PADDING);\n      this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING);\n      this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN);\n    }\n    isOverflowing() {\n      return this.getWidth() > 0;\n    }\n\n    // Private\n    _disableOverFlow() {\n      this._saveInitialAttribute(this._element, 'overflow');\n      this._element.style.overflow = 'hidden';\n    }\n    _setElementAttributes(selector, styleProperty, callback) {\n      const scrollbarWidth = this.getWidth();\n      const manipulationCallBack = element => {\n        if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {\n          return;\n        }\n        this._saveInitialAttribute(element, styleProperty);\n        const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty);\n        element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`);\n      };\n      this._applyManipulationCallback(selector, manipulationCallBack);\n    }\n    _saveInitialAttribute(element, styleProperty) {\n      const actualValue = element.style.getPropertyValue(styleProperty);\n      if (actualValue) {\n        Manipulator.setDataAttribute(element, styleProperty, actualValue);\n      }\n    }\n    _resetElementAttributes(selector, styleProperty) {\n      const manipulationCallBack = element => {\n        const value = Manipulator.getDataAttribute(element, styleProperty);\n        // We only want to remove the property if the value is `null`; the value can also be zero\n        if (value === null) {\n          element.style.removeProperty(styleProperty);\n          return;\n        }\n        Manipulator.removeDataAttribute(element, styleProperty);\n        element.style.setProperty(styleProperty, value);\n      };\n      this._applyManipulationCallback(selector, manipulationCallBack);\n    }\n    _applyManipulationCallback(selector, callBack) {\n      if (isElement$1(selector)) {\n        callBack(selector);\n        return;\n      }\n      for (const sel of SelectorEngine.find(selector, this._element)) {\n        callBack(sel);\n      }\n    }\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap modal.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$7 = 'modal';\n  const DATA_KEY$4 = 'bs.modal';\n  const EVENT_KEY$4 = `.${DATA_KEY$4}`;\n  const DATA_API_KEY$2 = '.data-api';\n  const ESCAPE_KEY$1 = 'Escape';\n  const EVENT_HIDE$4 = `hide${EVENT_KEY$4}`;\n  const EVENT_HIDE_PREVENTED$1 = `hidePrevented${EVENT_KEY$4}`;\n  const EVENT_HIDDEN$4 = `hidden${EVENT_KEY$4}`;\n  const EVENT_SHOW$4 = `show${EVENT_KEY$4}`;\n  const EVENT_SHOWN$4 = `shown${EVENT_KEY$4}`;\n  const EVENT_RESIZE$1 = `resize${EVENT_KEY$4}`;\n  const EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY$4}`;\n  const EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY$4}`;\n  const EVENT_KEYDOWN_DISMISS$1 = `keydown.dismiss${EVENT_KEY$4}`;\n  const EVENT_CLICK_DATA_API$2 = `click${EVENT_KEY$4}${DATA_API_KEY$2}`;\n  const CLASS_NAME_OPEN = 'modal-open';\n  const CLASS_NAME_FADE$3 = 'fade';\n  const CLASS_NAME_SHOW$4 = 'show';\n  const CLASS_NAME_STATIC = 'modal-static';\n  const OPEN_SELECTOR$1 = '.modal.show';\n  const SELECTOR_DIALOG = '.modal-dialog';\n  const SELECTOR_MODAL_BODY = '.modal-body';\n  const SELECTOR_DATA_TOGGLE$2 = '[data-bs-toggle=\"modal\"]';\n  const Default$6 = {\n    backdrop: true,\n    focus: true,\n    keyboard: true\n  };\n  const DefaultType$6 = {\n    backdrop: '(boolean|string)',\n    focus: 'boolean',\n    keyboard: 'boolean'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Modal extends BaseComponent {\n    constructor(element, config) {\n      super(element, config);\n      this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element);\n      this._backdrop = this._initializeBackDrop();\n      this._focustrap = this._initializeFocusTrap();\n      this._isShown = false;\n      this._isTransitioning = false;\n      this._scrollBar = new ScrollBarHelper();\n      this._addEventListeners();\n    }\n\n    // Getters\n    static get Default() {\n      return Default$6;\n    }\n    static get DefaultType() {\n      return DefaultType$6;\n    }\n    static get NAME() {\n      return NAME$7;\n    }\n\n    // Public\n    toggle(relatedTarget) {\n      return this._isShown ? this.hide() : this.show(relatedTarget);\n    }\n    show(relatedTarget) {\n      if (this._isShown || this._isTransitioning) {\n        return;\n      }\n      const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$4, {\n        relatedTarget\n      });\n      if (showEvent.defaultPrevented) {\n        return;\n      }\n      this._isShown = true;\n      this._isTransitioning = true;\n      this._scrollBar.hide();\n      document.body.classList.add(CLASS_NAME_OPEN);\n      this._adjustDialog();\n      this._backdrop.show(() => this._showElement(relatedTarget));\n    }\n    hide() {\n      if (!this._isShown || this._isTransitioning) {\n        return;\n      }\n      const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$4);\n      if (hideEvent.defaultPrevented) {\n        return;\n      }\n      this._isShown = false;\n      this._isTransitioning = true;\n      this._focustrap.deactivate();\n      this._element.classList.remove(CLASS_NAME_SHOW$4);\n      this._queueCallback(() => this._hideModal(), this._element, this._isAnimated());\n    }\n    dispose() {\n      EventHandler.off(window, EVENT_KEY$4);\n      EventHandler.off(this._dialog, EVENT_KEY$4);\n      this._backdrop.dispose();\n      this._focustrap.deactivate();\n      super.dispose();\n    }\n    handleUpdate() {\n      this._adjustDialog();\n    }\n\n    // Private\n    _initializeBackDrop() {\n      return new Backdrop({\n        isVisible: Boolean(this._config.backdrop),\n        // 'static' option will be translated to true, and booleans will keep their value,\n        isAnimated: this._isAnimated()\n      });\n    }\n    _initializeFocusTrap() {\n      return new FocusTrap({\n        trapElement: this._element\n      });\n    }\n    _showElement(relatedTarget) {\n      // try to append dynamic modal\n      if (!document.body.contains(this._element)) {\n        document.body.append(this._element);\n      }\n      this._element.style.display = 'block';\n      this._element.removeAttribute('aria-hidden');\n      this._element.setAttribute('aria-modal', true);\n      this._element.setAttribute('role', 'dialog');\n      this._element.scrollTop = 0;\n      const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog);\n      if (modalBody) {\n        modalBody.scrollTop = 0;\n      }\n      reflow(this._element);\n      this._element.classList.add(CLASS_NAME_SHOW$4);\n      const transitionComplete = () => {\n        if (this._config.focus) {\n          this._focustrap.activate();\n        }\n        this._isTransitioning = false;\n        EventHandler.trigger(this._element, EVENT_SHOWN$4, {\n          relatedTarget\n        });\n      };\n      this._queueCallback(transitionComplete, this._dialog, this._isAnimated());\n    }\n    _addEventListeners() {\n      EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS$1, event => {\n        if (event.key !== ESCAPE_KEY$1) {\n          return;\n        }\n        if (this._config.keyboard) {\n          this.hide();\n          return;\n        }\n        this._triggerBackdropTransition();\n      });\n      EventHandler.on(window, EVENT_RESIZE$1, () => {\n        if (this._isShown && !this._isTransitioning) {\n          this._adjustDialog();\n        }\n      });\n      EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {\n        // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks\n        EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {\n          if (this._element !== event.target || this._element !== event2.target) {\n            return;\n          }\n          if (this._config.backdrop === 'static') {\n            this._triggerBackdropTransition();\n            return;\n          }\n          if (this._config.backdrop) {\n            this.hide();\n          }\n        });\n      });\n    }\n    _hideModal() {\n      this._element.style.display = 'none';\n      this._element.setAttribute('aria-hidden', true);\n      this._element.removeAttribute('aria-modal');\n      this._element.removeAttribute('role');\n      this._isTransitioning = false;\n      this._backdrop.hide(() => {\n        document.body.classList.remove(CLASS_NAME_OPEN);\n        this._resetAdjustments();\n        this._scrollBar.reset();\n        EventHandler.trigger(this._element, EVENT_HIDDEN$4);\n      });\n    }\n    _isAnimated() {\n      return this._element.classList.contains(CLASS_NAME_FADE$3);\n    }\n    _triggerBackdropTransition() {\n      const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED$1);\n      if (hideEvent.defaultPrevented) {\n        return;\n      }\n      const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n      const initialOverflowY = this._element.style.overflowY;\n      // return if the following background transition hasn't yet completed\n      if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {\n        return;\n      }\n      if (!isModalOverflowing) {\n        this._element.style.overflowY = 'hidden';\n      }\n      this._element.classList.add(CLASS_NAME_STATIC);\n      this._queueCallback(() => {\n        this._element.classList.remove(CLASS_NAME_STATIC);\n        this._queueCallback(() => {\n          this._element.style.overflowY = initialOverflowY;\n        }, this._dialog);\n      }, this._dialog);\n      this._element.focus();\n    }\n\n    /**\n     * The following methods are used to handle overflowing modals\n     */\n\n    _adjustDialog() {\n      const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n      const scrollbarWidth = this._scrollBar.getWidth();\n      const isBodyOverflowing = scrollbarWidth > 0;\n      if (isBodyOverflowing && !isModalOverflowing) {\n        const property = isRTL() ? 'paddingLeft' : 'paddingRight';\n        this._element.style[property] = `${scrollbarWidth}px`;\n      }\n      if (!isBodyOverflowing && isModalOverflowing) {\n        const property = isRTL() ? 'paddingRight' : 'paddingLeft';\n        this._element.style[property] = `${scrollbarWidth}px`;\n      }\n    }\n    _resetAdjustments() {\n      this._element.style.paddingLeft = '';\n      this._element.style.paddingRight = '';\n    }\n\n    // Static\n    static jQueryInterface(config, relatedTarget) {\n      return this.each(function () {\n        const data = Modal.getOrCreateInstance(this, config);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config](relatedTarget);\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_CLICK_DATA_API$2, SELECTOR_DATA_TOGGLE$2, function (event) {\n    const target = SelectorEngine.getElementFromSelector(this);\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault();\n    }\n    EventHandler.one(target, EVENT_SHOW$4, showEvent => {\n      if (showEvent.defaultPrevented) {\n        // only register focus restorer if modal will actually get shown\n        return;\n      }\n      EventHandler.one(target, EVENT_HIDDEN$4, () => {\n        if (isVisible(this)) {\n          this.focus();\n        }\n      });\n    });\n\n    // avoid conflict when clicking modal toggler while another one is open\n    const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR$1);\n    if (alreadyOpen) {\n      Modal.getInstance(alreadyOpen).hide();\n    }\n    const data = Modal.getOrCreateInstance(target);\n    data.toggle(this);\n  });\n  enableDismissTrigger(Modal);\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Modal);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap offcanvas.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$6 = 'offcanvas';\n  const DATA_KEY$3 = 'bs.offcanvas';\n  const EVENT_KEY$3 = `.${DATA_KEY$3}`;\n  const DATA_API_KEY$1 = '.data-api';\n  const EVENT_LOAD_DATA_API$2 = `load${EVENT_KEY$3}${DATA_API_KEY$1}`;\n  const ESCAPE_KEY = 'Escape';\n  const CLASS_NAME_SHOW$3 = 'show';\n  const CLASS_NAME_SHOWING$1 = 'showing';\n  const CLASS_NAME_HIDING = 'hiding';\n  const CLASS_NAME_BACKDROP = 'offcanvas-backdrop';\n  const OPEN_SELECTOR = '.offcanvas.show';\n  const EVENT_SHOW$3 = `show${EVENT_KEY$3}`;\n  const EVENT_SHOWN$3 = `shown${EVENT_KEY$3}`;\n  const EVENT_HIDE$3 = `hide${EVENT_KEY$3}`;\n  const EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY$3}`;\n  const EVENT_HIDDEN$3 = `hidden${EVENT_KEY$3}`;\n  const EVENT_RESIZE = `resize${EVENT_KEY$3}`;\n  const EVENT_CLICK_DATA_API$1 = `click${EVENT_KEY$3}${DATA_API_KEY$1}`;\n  const EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY$3}`;\n  const SELECTOR_DATA_TOGGLE$1 = '[data-bs-toggle=\"offcanvas\"]';\n  const Default$5 = {\n    backdrop: true,\n    keyboard: true,\n    scroll: false\n  };\n  const DefaultType$5 = {\n    backdrop: '(boolean|string)',\n    keyboard: 'boolean',\n    scroll: 'boolean'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Offcanvas extends BaseComponent {\n    constructor(element, config) {\n      super(element, config);\n      this._isShown = false;\n      this._backdrop = this._initializeBackDrop();\n      this._focustrap = this._initializeFocusTrap();\n      this._addEventListeners();\n    }\n\n    // Getters\n    static get Default() {\n      return Default$5;\n    }\n    static get DefaultType() {\n      return DefaultType$5;\n    }\n    static get NAME() {\n      return NAME$6;\n    }\n\n    // Public\n    toggle(relatedTarget) {\n      return this._isShown ? this.hide() : this.show(relatedTarget);\n    }\n    show(relatedTarget) {\n      if (this._isShown) {\n        return;\n      }\n      const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$3, {\n        relatedTarget\n      });\n      if (showEvent.defaultPrevented) {\n        return;\n      }\n      this._isShown = true;\n      this._backdrop.show();\n      if (!this._config.scroll) {\n        new ScrollBarHelper().hide();\n      }\n      this._element.setAttribute('aria-modal', true);\n      this._element.setAttribute('role', 'dialog');\n      this._element.classList.add(CLASS_NAME_SHOWING$1);\n      const completeCallBack = () => {\n        if (!this._config.scroll || this._config.backdrop) {\n          this._focustrap.activate();\n        }\n        this._element.classList.add(CLASS_NAME_SHOW$3);\n        this._element.classList.remove(CLASS_NAME_SHOWING$1);\n        EventHandler.trigger(this._element, EVENT_SHOWN$3, {\n          relatedTarget\n        });\n      };\n      this._queueCallback(completeCallBack, this._element, true);\n    }\n    hide() {\n      if (!this._isShown) {\n        return;\n      }\n      const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$3);\n      if (hideEvent.defaultPrevented) {\n        return;\n      }\n      this._focustrap.deactivate();\n      this._element.blur();\n      this._isShown = false;\n      this._element.classList.add(CLASS_NAME_HIDING);\n      this._backdrop.hide();\n      const completeCallback = () => {\n        this._element.classList.remove(CLASS_NAME_SHOW$3, CLASS_NAME_HIDING);\n        this._element.removeAttribute('aria-modal');\n        this._element.removeAttribute('role');\n        if (!this._config.scroll) {\n          new ScrollBarHelper().reset();\n        }\n        EventHandler.trigger(this._element, EVENT_HIDDEN$3);\n      };\n      this._queueCallback(completeCallback, this._element, true);\n    }\n    dispose() {\n      this._backdrop.dispose();\n      this._focustrap.deactivate();\n      super.dispose();\n    }\n\n    // Private\n    _initializeBackDrop() {\n      const clickCallback = () => {\n        if (this._config.backdrop === 'static') {\n          EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n          return;\n        }\n        this.hide();\n      };\n\n      // 'static' option will be translated to true, and booleans will keep their value\n      const isVisible = Boolean(this._config.backdrop);\n      return new Backdrop({\n        className: CLASS_NAME_BACKDROP,\n        isVisible,\n        isAnimated: true,\n        rootElement: this._element.parentNode,\n        clickCallback: isVisible ? clickCallback : null\n      });\n    }\n    _initializeFocusTrap() {\n      return new FocusTrap({\n        trapElement: this._element\n      });\n    }\n    _addEventListeners() {\n      EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n        if (event.key !== ESCAPE_KEY) {\n          return;\n        }\n        if (this._config.keyboard) {\n          this.hide();\n          return;\n        }\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n      });\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Offcanvas.getOrCreateInstance(this, config);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config](this);\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE$1, function (event) {\n    const target = SelectorEngine.getElementFromSelector(this);\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault();\n    }\n    if (isDisabled(this)) {\n      return;\n    }\n    EventHandler.one(target, EVENT_HIDDEN$3, () => {\n      // focus on trigger when it is closed\n      if (isVisible(this)) {\n        this.focus();\n      }\n    });\n\n    // avoid conflict when clicking a toggler of an offcanvas, while another is open\n    const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR);\n    if (alreadyOpen && alreadyOpen !== target) {\n      Offcanvas.getInstance(alreadyOpen).hide();\n    }\n    const data = Offcanvas.getOrCreateInstance(target);\n    data.toggle(this);\n  });\n  EventHandler.on(window, EVENT_LOAD_DATA_API$2, () => {\n    for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n      Offcanvas.getOrCreateInstance(selector).show();\n    }\n  });\n  EventHandler.on(window, EVENT_RESIZE, () => {\n    for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n      if (getComputedStyle(element).position !== 'fixed') {\n        Offcanvas.getOrCreateInstance(element).hide();\n      }\n    }\n  });\n  enableDismissTrigger(Offcanvas);\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Offcanvas);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/sanitizer.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  // js-docs-start allow-list\n  const ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n  const DefaultAllowlist = {\n    // Global attributes allowed on any supplied element below.\n    '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n    a: ['target', 'href', 'title', 'rel'],\n    area: [],\n    b: [],\n    br: [],\n    col: [],\n    code: [],\n    dd: [],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    hr: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    i: [],\n    img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n    li: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    u: [],\n    ul: []\n  };\n  // js-docs-end allow-list\n\n  const uriAttributes = new Set(['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href']);\n\n  /**\n   * A pattern that recognizes URLs that are safe wrt. XSS in URL navigation\n   * contexts.\n   *\n   * Shout-out to Angular https://github.com/angular/angular/blob/15.2.8/packages/core/src/sanitization/url_sanitizer.ts#L38\n   */\n  const SAFE_URL_PATTERN = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i;\n  const allowedAttribute = (attribute, allowedAttributeList) => {\n    const attributeName = attribute.nodeName.toLowerCase();\n    if (allowedAttributeList.includes(attributeName)) {\n      if (uriAttributes.has(attributeName)) {\n        return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue));\n      }\n      return true;\n    }\n\n    // Check if a regular expression validates the attribute.\n    return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp).some(regex => regex.test(attributeName));\n  };\n  function sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {\n    if (!unsafeHtml.length) {\n      return unsafeHtml;\n    }\n    if (sanitizeFunction && typeof sanitizeFunction === 'function') {\n      return sanitizeFunction(unsafeHtml);\n    }\n    const domParser = new window.DOMParser();\n    const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');\n    const elements = [].concat(...createdDocument.body.querySelectorAll('*'));\n    for (const element of elements) {\n      const elementName = element.nodeName.toLowerCase();\n      if (!Object.keys(allowList).includes(elementName)) {\n        element.remove();\n        continue;\n      }\n      const attributeList = [].concat(...element.attributes);\n      const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || []);\n      for (const attribute of attributeList) {\n        if (!allowedAttribute(attribute, allowedAttributes)) {\n          element.removeAttribute(attribute.nodeName);\n        }\n      }\n    }\n    return createdDocument.body.innerHTML;\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/template-factory.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$5 = 'TemplateFactory';\n  const Default$4 = {\n    allowList: DefaultAllowlist,\n    content: {},\n    // { selector : text ,  selector2 : text2 , }\n    extraClass: '',\n    html: false,\n    sanitize: true,\n    sanitizeFn: null,\n    template: '<div></div>'\n  };\n  const DefaultType$4 = {\n    allowList: 'object',\n    content: 'object',\n    extraClass: '(string|function)',\n    html: 'boolean',\n    sanitize: 'boolean',\n    sanitizeFn: '(null|function)',\n    template: 'string'\n  };\n  const DefaultContentType = {\n    entry: '(string|element|function|null)',\n    selector: '(string|element)'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class TemplateFactory extends Config {\n    constructor(config) {\n      super();\n      this._config = this._getConfig(config);\n    }\n\n    // Getters\n    static get Default() {\n      return Default$4;\n    }\n    static get DefaultType() {\n      return DefaultType$4;\n    }\n    static get NAME() {\n      return NAME$5;\n    }\n\n    // Public\n    getContent() {\n      return Object.values(this._config.content).map(config => this._resolvePossibleFunction(config)).filter(Boolean);\n    }\n    hasContent() {\n      return this.getContent().length > 0;\n    }\n    changeContent(content) {\n      this._checkContent(content);\n      this._config.content = {\n        ...this._config.content,\n        ...content\n      };\n      return this;\n    }\n    toHtml() {\n      const templateWrapper = document.createElement('div');\n      templateWrapper.innerHTML = this._maybeSanitize(this._config.template);\n      for (const [selector, text] of Object.entries(this._config.content)) {\n        this._setContent(templateWrapper, text, selector);\n      }\n      const template = templateWrapper.children[0];\n      const extraClass = this._resolvePossibleFunction(this._config.extraClass);\n      if (extraClass) {\n        template.classList.add(...extraClass.split(' '));\n      }\n      return template;\n    }\n\n    // Private\n    _typeCheckConfig(config) {\n      super._typeCheckConfig(config);\n      this._checkContent(config.content);\n    }\n    _checkContent(arg) {\n      for (const [selector, content] of Object.entries(arg)) {\n        super._typeCheckConfig({\n          selector,\n          entry: content\n        }, DefaultContentType);\n      }\n    }\n    _setContent(template, content, selector) {\n      const templateElement = SelectorEngine.findOne(selector, template);\n      if (!templateElement) {\n        return;\n      }\n      content = this._resolvePossibleFunction(content);\n      if (!content) {\n        templateElement.remove();\n        return;\n      }\n      if (isElement$1(content)) {\n        this._putElementInTemplate(getElement(content), templateElement);\n        return;\n      }\n      if (this._config.html) {\n        templateElement.innerHTML = this._maybeSanitize(content);\n        return;\n      }\n      templateElement.textContent = content;\n    }\n    _maybeSanitize(arg) {\n      return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg;\n    }\n    _resolvePossibleFunction(arg) {\n      return execute(arg, [undefined, this]);\n    }\n    _putElementInTemplate(element, templateElement) {\n      if (this._config.html) {\n        templateElement.innerHTML = '';\n        templateElement.append(element);\n        return;\n      }\n      templateElement.textContent = element.textContent;\n    }\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap tooltip.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$4 = 'tooltip';\n  const DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn']);\n  const CLASS_NAME_FADE$2 = 'fade';\n  const CLASS_NAME_MODAL = 'modal';\n  const CLASS_NAME_SHOW$2 = 'show';\n  const SELECTOR_TOOLTIP_INNER = '.tooltip-inner';\n  const SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`;\n  const EVENT_MODAL_HIDE = 'hide.bs.modal';\n  const TRIGGER_HOVER = 'hover';\n  const TRIGGER_FOCUS = 'focus';\n  const TRIGGER_CLICK = 'click';\n  const TRIGGER_MANUAL = 'manual';\n  const EVENT_HIDE$2 = 'hide';\n  const EVENT_HIDDEN$2 = 'hidden';\n  const EVENT_SHOW$2 = 'show';\n  const EVENT_SHOWN$2 = 'shown';\n  const EVENT_INSERTED = 'inserted';\n  const EVENT_CLICK$1 = 'click';\n  const EVENT_FOCUSIN$1 = 'focusin';\n  const EVENT_FOCUSOUT$1 = 'focusout';\n  const EVENT_MOUSEENTER = 'mouseenter';\n  const EVENT_MOUSELEAVE = 'mouseleave';\n  const AttachmentMap = {\n    AUTO: 'auto',\n    TOP: 'top',\n    RIGHT: isRTL() ? 'left' : 'right',\n    BOTTOM: 'bottom',\n    LEFT: isRTL() ? 'right' : 'left'\n  };\n  const Default$3 = {\n    allowList: DefaultAllowlist,\n    animation: true,\n    boundary: 'clippingParents',\n    container: false,\n    customClass: '',\n    delay: 0,\n    fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n    html: false,\n    offset: [0, 6],\n    placement: 'top',\n    popperConfig: null,\n    sanitize: true,\n    sanitizeFn: null,\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\">' + '<div class=\"tooltip-arrow\"></div>' + '<div class=\"tooltip-inner\"></div>' + '</div>',\n    title: '',\n    trigger: 'hover focus'\n  };\n  const DefaultType$3 = {\n    allowList: 'object',\n    animation: 'boolean',\n    boundary: '(string|element)',\n    container: '(string|element|boolean)',\n    customClass: '(string|function)',\n    delay: '(number|object)',\n    fallbackPlacements: 'array',\n    html: 'boolean',\n    offset: '(array|string|function)',\n    placement: '(string|function)',\n    popperConfig: '(null|object|function)',\n    sanitize: 'boolean',\n    sanitizeFn: '(null|function)',\n    selector: '(string|boolean)',\n    template: 'string',\n    title: '(string|element|function)',\n    trigger: 'string'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Tooltip extends BaseComponent {\n    constructor(element, config) {\n      if (typeof Popper === 'undefined') {\n        throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org/docs/v2/)');\n      }\n      super(element, config);\n\n      // Private\n      this._isEnabled = true;\n      this._timeout = 0;\n      this._isHovered = null;\n      this._activeTrigger = {};\n      this._popper = null;\n      this._templateFactory = null;\n      this._newContent = null;\n\n      // Protected\n      this.tip = null;\n      this._setListeners();\n      if (!this._config.selector) {\n        this._fixTitle();\n      }\n    }\n\n    // Getters\n    static get Default() {\n      return Default$3;\n    }\n    static get DefaultType() {\n      return DefaultType$3;\n    }\n    static get NAME() {\n      return NAME$4;\n    }\n\n    // Public\n    enable() {\n      this._isEnabled = true;\n    }\n    disable() {\n      this._isEnabled = false;\n    }\n    toggleEnabled() {\n      this._isEnabled = !this._isEnabled;\n    }\n    toggle() {\n      if (!this._isEnabled) {\n        return;\n      }\n      if (this._isShown()) {\n        this._leave();\n        return;\n      }\n      this._enter();\n    }\n    dispose() {\n      clearTimeout(this._timeout);\n      EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n      if (this._element.getAttribute('data-bs-original-title')) {\n        this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'));\n      }\n      this._disposePopper();\n      super.dispose();\n    }\n    show() {\n      if (this._element.style.display === 'none') {\n        throw new Error('Please use show on visible elements');\n      }\n      if (!(this._isWithContent() && this._isEnabled)) {\n        return;\n      }\n      const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW$2));\n      const shadowRoot = findShadowRoot(this._element);\n      const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element);\n      if (showEvent.defaultPrevented || !isInTheDom) {\n        return;\n      }\n\n      // TODO: v6 remove this or make it optional\n      this._disposePopper();\n      const tip = this._getTipElement();\n      this._element.setAttribute('aria-describedby', tip.getAttribute('id'));\n      const {\n        container\n      } = this._config;\n      if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n        container.append(tip);\n        EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED));\n      }\n      this._popper = this._createPopper(tip);\n      tip.classList.add(CLASS_NAME_SHOW$2);\n\n      // If this is a touch-enabled device we add extra\n      // empty mouseover listeners to the body's immediate children;\n      // only needed because of broken event delegation on iOS\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n      if ('ontouchstart' in document.documentElement) {\n        for (const element of [].concat(...document.body.children)) {\n          EventHandler.on(element, 'mouseover', noop);\n        }\n      }\n      const complete = () => {\n        EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN$2));\n        if (this._isHovered === false) {\n          this._leave();\n        }\n        this._isHovered = false;\n      };\n      this._queueCallback(complete, this.tip, this._isAnimated());\n    }\n    hide() {\n      if (!this._isShown()) {\n        return;\n      }\n      const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE$2));\n      if (hideEvent.defaultPrevented) {\n        return;\n      }\n      const tip = this._getTipElement();\n      tip.classList.remove(CLASS_NAME_SHOW$2);\n\n      // If this is a touch-enabled device we remove the extra\n      // empty mouseover listeners we added for iOS support\n      if ('ontouchstart' in document.documentElement) {\n        for (const element of [].concat(...document.body.children)) {\n          EventHandler.off(element, 'mouseover', noop);\n        }\n      }\n      this._activeTrigger[TRIGGER_CLICK] = false;\n      this._activeTrigger[TRIGGER_FOCUS] = false;\n      this._activeTrigger[TRIGGER_HOVER] = false;\n      this._isHovered = null; // it is a trick to support manual triggering\n\n      const complete = () => {\n        if (this._isWithActiveTrigger()) {\n          return;\n        }\n        if (!this._isHovered) {\n          this._disposePopper();\n        }\n        this._element.removeAttribute('aria-describedby');\n        EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN$2));\n      };\n      this._queueCallback(complete, this.tip, this._isAnimated());\n    }\n    update() {\n      if (this._popper) {\n        this._popper.update();\n      }\n    }\n\n    // Protected\n    _isWithContent() {\n      return Boolean(this._getTitle());\n    }\n    _getTipElement() {\n      if (!this.tip) {\n        this.tip = this._createTipElement(this._newContent || this._getContentForTemplate());\n      }\n      return this.tip;\n    }\n    _createTipElement(content) {\n      const tip = this._getTemplateFactory(content).toHtml();\n\n      // TODO: remove this check in v6\n      if (!tip) {\n        return null;\n      }\n      tip.classList.remove(CLASS_NAME_FADE$2, CLASS_NAME_SHOW$2);\n      // TODO: v6 the following can be achieved with CSS only\n      tip.classList.add(`bs-${this.constructor.NAME}-auto`);\n      const tipId = getUID(this.constructor.NAME).toString();\n      tip.setAttribute('id', tipId);\n      if (this._isAnimated()) {\n        tip.classList.add(CLASS_NAME_FADE$2);\n      }\n      return tip;\n    }\n    setContent(content) {\n      this._newContent = content;\n      if (this._isShown()) {\n        this._disposePopper();\n        this.show();\n      }\n    }\n    _getTemplateFactory(content) {\n      if (this._templateFactory) {\n        this._templateFactory.changeContent(content);\n      } else {\n        this._templateFactory = new TemplateFactory({\n          ...this._config,\n          // the `content` var has to be after `this._config`\n          // to override config.content in case of popover\n          content,\n          extraClass: this._resolvePossibleFunction(this._config.customClass)\n        });\n      }\n      return this._templateFactory;\n    }\n    _getContentForTemplate() {\n      return {\n        [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n      };\n    }\n    _getTitle() {\n      return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title');\n    }\n\n    // Private\n    _initializeOnDelegatedTarget(event) {\n      return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig());\n    }\n    _isAnimated() {\n      return this._config.animation || this.tip && this.tip.classList.contains(CLASS_NAME_FADE$2);\n    }\n    _isShown() {\n      return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW$2);\n    }\n    _createPopper(tip) {\n      const placement = execute(this._config.placement, [this, tip, this._element]);\n      const attachment = AttachmentMap[placement.toUpperCase()];\n      return createPopper(this._element, tip, this._getPopperConfig(attachment));\n    }\n    _getOffset() {\n      const {\n        offset\n      } = this._config;\n      if (typeof offset === 'string') {\n        return offset.split(',').map(value => Number.parseInt(value, 10));\n      }\n      if (typeof offset === 'function') {\n        return popperData => offset(popperData, this._element);\n      }\n      return offset;\n    }\n    _resolvePossibleFunction(arg) {\n      return execute(arg, [this._element, this._element]);\n    }\n    _getPopperConfig(attachment) {\n      const defaultBsPopperConfig = {\n        placement: attachment,\n        modifiers: [{\n          name: 'flip',\n          options: {\n            fallbackPlacements: this._config.fallbackPlacements\n          }\n        }, {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        }, {\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        }, {\n          name: 'arrow',\n          options: {\n            element: `.${this.constructor.NAME}-arrow`\n          }\n        }, {\n          name: 'preSetPlacement',\n          enabled: true,\n          phase: 'beforeMain',\n          fn: data => {\n            // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n            // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n            this._getTipElement().setAttribute('data-popper-placement', data.state.placement);\n          }\n        }]\n      };\n      return {\n        ...defaultBsPopperConfig,\n        ...execute(this._config.popperConfig, [undefined, defaultBsPopperConfig])\n      };\n    }\n    _setListeners() {\n      const triggers = this._config.trigger.split(' ');\n      for (const trigger of triggers) {\n        if (trigger === 'click') {\n          EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK$1), this._config.selector, event => {\n            const context = this._initializeOnDelegatedTarget(event);\n            context._activeTrigger[TRIGGER_CLICK] = !(context._isShown() && context._activeTrigger[TRIGGER_CLICK]);\n            context.toggle();\n          });\n        } else if (trigger !== TRIGGER_MANUAL) {\n          const eventIn = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSEENTER) : this.constructor.eventName(EVENT_FOCUSIN$1);\n          const eventOut = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSELEAVE) : this.constructor.eventName(EVENT_FOCUSOUT$1);\n          EventHandler.on(this._element, eventIn, this._config.selector, event => {\n            const context = this._initializeOnDelegatedTarget(event);\n            context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;\n            context._enter();\n          });\n          EventHandler.on(this._element, eventOut, this._config.selector, event => {\n            const context = this._initializeOnDelegatedTarget(event);\n            context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = context._element.contains(event.relatedTarget);\n            context._leave();\n          });\n        }\n      }\n      this._hideModalHandler = () => {\n        if (this._element) {\n          this.hide();\n        }\n      };\n      EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n    }\n    _fixTitle() {\n      const title = this._element.getAttribute('title');\n      if (!title) {\n        return;\n      }\n      if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n        this._element.setAttribute('aria-label', title);\n      }\n      this._element.setAttribute('data-bs-original-title', title); // DO NOT USE IT. Is only for backwards compatibility\n      this._element.removeAttribute('title');\n    }\n    _enter() {\n      if (this._isShown() || this._isHovered) {\n        this._isHovered = true;\n        return;\n      }\n      this._isHovered = true;\n      this._setTimeout(() => {\n        if (this._isHovered) {\n          this.show();\n        }\n      }, this._config.delay.show);\n    }\n    _leave() {\n      if (this._isWithActiveTrigger()) {\n        return;\n      }\n      this._isHovered = false;\n      this._setTimeout(() => {\n        if (!this._isHovered) {\n          this.hide();\n        }\n      }, this._config.delay.hide);\n    }\n    _setTimeout(handler, timeout) {\n      clearTimeout(this._timeout);\n      this._timeout = setTimeout(handler, timeout);\n    }\n    _isWithActiveTrigger() {\n      return Object.values(this._activeTrigger).includes(true);\n    }\n    _getConfig(config) {\n      const dataAttributes = Manipulator.getDataAttributes(this._element);\n      for (const dataAttribute of Object.keys(dataAttributes)) {\n        if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n          delete dataAttributes[dataAttribute];\n        }\n      }\n      config = {\n        ...dataAttributes,\n        ...(typeof config === 'object' && config ? config : {})\n      };\n      config = this._mergeConfigObj(config);\n      config = this._configAfterMerge(config);\n      this._typeCheckConfig(config);\n      return config;\n    }\n    _configAfterMerge(config) {\n      config.container = config.container === false ? document.body : getElement(config.container);\n      if (typeof config.delay === 'number') {\n        config.delay = {\n          show: config.delay,\n          hide: config.delay\n        };\n      }\n      if (typeof config.title === 'number') {\n        config.title = config.title.toString();\n      }\n      if (typeof config.content === 'number') {\n        config.content = config.content.toString();\n      }\n      return config;\n    }\n    _getDelegateConfig() {\n      const config = {};\n      for (const [key, value] of Object.entries(this._config)) {\n        if (this.constructor.Default[key] !== value) {\n          config[key] = value;\n        }\n      }\n      config.selector = false;\n      config.trigger = 'manual';\n\n      // In the future can be replaced with:\n      // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n      // `Object.fromEntries(keysWithDifferentValues)`\n      return config;\n    }\n    _disposePopper() {\n      if (this._popper) {\n        this._popper.destroy();\n        this._popper = null;\n      }\n      if (this.tip) {\n        this.tip.remove();\n        this.tip = null;\n      }\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Tooltip.getOrCreateInstance(this, config);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      });\n    }\n  }\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Tooltip);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap popover.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$3 = 'popover';\n  const SELECTOR_TITLE = '.popover-header';\n  const SELECTOR_CONTENT = '.popover-body';\n  const Default$2 = {\n    ...Tooltip.Default,\n    content: '',\n    offset: [0, 8],\n    placement: 'right',\n    template: '<div class=\"popover\" role=\"tooltip\">' + '<div class=\"popover-arrow\"></div>' + '<h3 class=\"popover-header\"></h3>' + '<div class=\"popover-body\"></div>' + '</div>',\n    trigger: 'click'\n  };\n  const DefaultType$2 = {\n    ...Tooltip.DefaultType,\n    content: '(null|string|element|function)'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Popover extends Tooltip {\n    // Getters\n    static get Default() {\n      return Default$2;\n    }\n    static get DefaultType() {\n      return DefaultType$2;\n    }\n    static get NAME() {\n      return NAME$3;\n    }\n\n    // Overrides\n    _isWithContent() {\n      return this._getTitle() || this._getContent();\n    }\n\n    // Private\n    _getContentForTemplate() {\n      return {\n        [SELECTOR_TITLE]: this._getTitle(),\n        [SELECTOR_CONTENT]: this._getContent()\n      };\n    }\n    _getContent() {\n      return this._resolvePossibleFunction(this._config.content);\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Popover.getOrCreateInstance(this, config);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      });\n    }\n  }\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Popover);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap scrollspy.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$2 = 'scrollspy';\n  const DATA_KEY$2 = 'bs.scrollspy';\n  const EVENT_KEY$2 = `.${DATA_KEY$2}`;\n  const DATA_API_KEY = '.data-api';\n  const EVENT_ACTIVATE = `activate${EVENT_KEY$2}`;\n  const EVENT_CLICK = `click${EVENT_KEY$2}`;\n  const EVENT_LOAD_DATA_API$1 = `load${EVENT_KEY$2}${DATA_API_KEY}`;\n  const CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';\n  const CLASS_NAME_ACTIVE$1 = 'active';\n  const SELECTOR_DATA_SPY = '[data-bs-spy=\"scroll\"]';\n  const SELECTOR_TARGET_LINKS = '[href]';\n  const SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';\n  const SELECTOR_NAV_LINKS = '.nav-link';\n  const SELECTOR_NAV_ITEMS = '.nav-item';\n  const SELECTOR_LIST_ITEMS = '.list-group-item';\n  const SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`;\n  const SELECTOR_DROPDOWN = '.dropdown';\n  const SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';\n  const Default$1 = {\n    offset: null,\n    // TODO: v6 @deprecated, keep it for backwards compatibility reasons\n    rootMargin: '0px 0px -25%',\n    smoothScroll: false,\n    target: null,\n    threshold: [0.1, 0.5, 1]\n  };\n  const DefaultType$1 = {\n    offset: '(number|null)',\n    // TODO v6 @deprecated, keep it for backwards compatibility reasons\n    rootMargin: 'string',\n    smoothScroll: 'boolean',\n    target: 'element',\n    threshold: 'array'\n  };\n\n  /**\n   * Class definition\n   */\n\n  class ScrollSpy extends BaseComponent {\n    constructor(element, config) {\n      super(element, config);\n\n      // this._element is the observablesContainer and config.target the menu links wrapper\n      this._targetLinks = new Map();\n      this._observableSections = new Map();\n      this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element;\n      this._activeTarget = null;\n      this._observer = null;\n      this._previousScrollData = {\n        visibleEntryTop: 0,\n        parentScrollTop: 0\n      };\n      this.refresh(); // initialize\n    }\n\n    // Getters\n    static get Default() {\n      return Default$1;\n    }\n    static get DefaultType() {\n      return DefaultType$1;\n    }\n    static get NAME() {\n      return NAME$2;\n    }\n\n    // Public\n    refresh() {\n      this._initializeTargetsAndObservables();\n      this._maybeEnableSmoothScroll();\n      if (this._observer) {\n        this._observer.disconnect();\n      } else {\n        this._observer = this._getNewObserver();\n      }\n      for (const section of this._observableSections.values()) {\n        this._observer.observe(section);\n      }\n    }\n    dispose() {\n      this._observer.disconnect();\n      super.dispose();\n    }\n\n    // Private\n    _configAfterMerge(config) {\n      // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case\n      config.target = getElement(config.target) || document.body;\n\n      // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only\n      config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin;\n      if (typeof config.threshold === 'string') {\n        config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value));\n      }\n      return config;\n    }\n    _maybeEnableSmoothScroll() {\n      if (!this._config.smoothScroll) {\n        return;\n      }\n\n      // unregister any previous listeners\n      EventHandler.off(this._config.target, EVENT_CLICK);\n      EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {\n        const observableSection = this._observableSections.get(event.target.hash);\n        if (observableSection) {\n          event.preventDefault();\n          const root = this._rootElement || window;\n          const height = observableSection.offsetTop - this._element.offsetTop;\n          if (root.scrollTo) {\n            root.scrollTo({\n              top: height,\n              behavior: 'smooth'\n            });\n            return;\n          }\n\n          // Chrome 60 doesn't support `scrollTo`\n          root.scrollTop = height;\n        }\n      });\n    }\n    _getNewObserver() {\n      const options = {\n        root: this._rootElement,\n        threshold: this._config.threshold,\n        rootMargin: this._config.rootMargin\n      };\n      return new IntersectionObserver(entries => this._observerCallback(entries), options);\n    }\n\n    // The logic of selection\n    _observerCallback(entries) {\n      const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`);\n      const activate = entry => {\n        this._previousScrollData.visibleEntryTop = entry.target.offsetTop;\n        this._process(targetElement(entry));\n      };\n      const parentScrollTop = (this._rootElement || document.documentElement).scrollTop;\n      const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop;\n      this._previousScrollData.parentScrollTop = parentScrollTop;\n      for (const entry of entries) {\n        if (!entry.isIntersecting) {\n          this._activeTarget = null;\n          this._clearActiveClass(targetElement(entry));\n          continue;\n        }\n        const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop;\n        // if we are scrolling down, pick the bigger offsetTop\n        if (userScrollsDown && entryIsLowerThanPrevious) {\n          activate(entry);\n          // if parent isn't scrolled, let's keep the first visible item, breaking the iteration\n          if (!parentScrollTop) {\n            return;\n          }\n          continue;\n        }\n\n        // if we are scrolling up, pick the smallest offsetTop\n        if (!userScrollsDown && !entryIsLowerThanPrevious) {\n          activate(entry);\n        }\n      }\n    }\n    _initializeTargetsAndObservables() {\n      this._targetLinks = new Map();\n      this._observableSections = new Map();\n      const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target);\n      for (const anchor of targetLinks) {\n        // ensure that the anchor has an id and is not disabled\n        if (!anchor.hash || isDisabled(anchor)) {\n          continue;\n        }\n        const observableSection = SelectorEngine.findOne(decodeURI(anchor.hash), this._element);\n\n        // ensure that the observableSection exists & is visible\n        if (isVisible(observableSection)) {\n          this._targetLinks.set(decodeURI(anchor.hash), anchor);\n          this._observableSections.set(anchor.hash, observableSection);\n        }\n      }\n    }\n    _process(target) {\n      if (this._activeTarget === target) {\n        return;\n      }\n      this._clearActiveClass(this._config.target);\n      this._activeTarget = target;\n      target.classList.add(CLASS_NAME_ACTIVE$1);\n      this._activateParents(target);\n      EventHandler.trigger(this._element, EVENT_ACTIVATE, {\n        relatedTarget: target\n      });\n    }\n    _activateParents(target) {\n      // Activate dropdown parents\n      if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {\n        SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1, target.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);\n        return;\n      }\n      for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {\n        // Set triggered links parents as active\n        // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n        for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {\n          item.classList.add(CLASS_NAME_ACTIVE$1);\n        }\n      }\n    }\n    _clearActiveClass(parent) {\n      parent.classList.remove(CLASS_NAME_ACTIVE$1);\n      const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`, parent);\n      for (const node of activeNodes) {\n        node.classList.remove(CLASS_NAME_ACTIVE$1);\n      }\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = ScrollSpy.getOrCreateInstance(this, config);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(window, EVENT_LOAD_DATA_API$1, () => {\n    for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {\n      ScrollSpy.getOrCreateInstance(spy);\n    }\n  });\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(ScrollSpy);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap tab.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME$1 = 'tab';\n  const DATA_KEY$1 = 'bs.tab';\n  const EVENT_KEY$1 = `.${DATA_KEY$1}`;\n  const EVENT_HIDE$1 = `hide${EVENT_KEY$1}`;\n  const EVENT_HIDDEN$1 = `hidden${EVENT_KEY$1}`;\n  const EVENT_SHOW$1 = `show${EVENT_KEY$1}`;\n  const EVENT_SHOWN$1 = `shown${EVENT_KEY$1}`;\n  const EVENT_CLICK_DATA_API = `click${EVENT_KEY$1}`;\n  const EVENT_KEYDOWN = `keydown${EVENT_KEY$1}`;\n  const EVENT_LOAD_DATA_API = `load${EVENT_KEY$1}`;\n  const ARROW_LEFT_KEY = 'ArrowLeft';\n  const ARROW_RIGHT_KEY = 'ArrowRight';\n  const ARROW_UP_KEY = 'ArrowUp';\n  const ARROW_DOWN_KEY = 'ArrowDown';\n  const HOME_KEY = 'Home';\n  const END_KEY = 'End';\n  const CLASS_NAME_ACTIVE = 'active';\n  const CLASS_NAME_FADE$1 = 'fade';\n  const CLASS_NAME_SHOW$1 = 'show';\n  const CLASS_DROPDOWN = 'dropdown';\n  const SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\n  const SELECTOR_DROPDOWN_MENU = '.dropdown-menu';\n  const NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`;\n  const SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]';\n  const SELECTOR_OUTER = '.nav-item, .list-group-item';\n  const SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`;\n  const SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]'; // TODO: could only be `tab` in v6\n  const SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`;\n  const SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`;\n\n  /**\n   * Class definition\n   */\n\n  class Tab extends BaseComponent {\n    constructor(element) {\n      super(element);\n      this._parent = this._element.closest(SELECTOR_TAB_PANEL);\n      if (!this._parent) {\n        return;\n        // TODO: should throw exception in v6\n        // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n      }\n\n      // Set up initial aria attributes\n      this._setInitialAttributes(this._parent, this._getChildren());\n      EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event));\n    }\n\n    // Getters\n    static get NAME() {\n      return NAME$1;\n    }\n\n    // Public\n    show() {\n      // Shows this elem and deactivate the active sibling if exists\n      const innerElem = this._element;\n      if (this._elemIsActive(innerElem)) {\n        return;\n      }\n\n      // Search for active tab on same parent to deactivate it\n      const active = this._getActiveElem();\n      const hideEvent = active ? EventHandler.trigger(active, EVENT_HIDE$1, {\n        relatedTarget: innerElem\n      }) : null;\n      const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW$1, {\n        relatedTarget: active\n      });\n      if (showEvent.defaultPrevented || hideEvent && hideEvent.defaultPrevented) {\n        return;\n      }\n      this._deactivate(active, innerElem);\n      this._activate(innerElem, active);\n    }\n\n    // Private\n    _activate(element, relatedElem) {\n      if (!element) {\n        return;\n      }\n      element.classList.add(CLASS_NAME_ACTIVE);\n      this._activate(SelectorEngine.getElementFromSelector(element)); // Search and activate/show the proper section\n\n      const complete = () => {\n        if (element.getAttribute('role') !== 'tab') {\n          element.classList.add(CLASS_NAME_SHOW$1);\n          return;\n        }\n        element.removeAttribute('tabindex');\n        element.setAttribute('aria-selected', true);\n        this._toggleDropDown(element, true);\n        EventHandler.trigger(element, EVENT_SHOWN$1, {\n          relatedTarget: relatedElem\n        });\n      };\n      this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n    }\n    _deactivate(element, relatedElem) {\n      if (!element) {\n        return;\n      }\n      element.classList.remove(CLASS_NAME_ACTIVE);\n      element.blur();\n      this._deactivate(SelectorEngine.getElementFromSelector(element)); // Search and deactivate the shown section too\n\n      const complete = () => {\n        if (element.getAttribute('role') !== 'tab') {\n          element.classList.remove(CLASS_NAME_SHOW$1);\n          return;\n        }\n        element.setAttribute('aria-selected', false);\n        element.setAttribute('tabindex', '-1');\n        this._toggleDropDown(element, false);\n        EventHandler.trigger(element, EVENT_HIDDEN$1, {\n          relatedTarget: relatedElem\n        });\n      };\n      this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n    }\n    _keydown(event) {\n      if (![ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key)) {\n        return;\n      }\n      event.stopPropagation(); // stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n      event.preventDefault();\n      const children = this._getChildren().filter(element => !isDisabled(element));\n      let nextActiveElement;\n      if ([HOME_KEY, END_KEY].includes(event.key)) {\n        nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1];\n      } else {\n        const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key);\n        nextActiveElement = getNextActiveElement(children, event.target, isNext, true);\n      }\n      if (nextActiveElement) {\n        nextActiveElement.focus({\n          preventScroll: true\n        });\n        Tab.getOrCreateInstance(nextActiveElement).show();\n      }\n    }\n    _getChildren() {\n      // collection of inner elements\n      return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent);\n    }\n    _getActiveElem() {\n      return this._getChildren().find(child => this._elemIsActive(child)) || null;\n    }\n    _setInitialAttributes(parent, children) {\n      this._setAttributeIfNotExists(parent, 'role', 'tablist');\n      for (const child of children) {\n        this._setInitialAttributesOnChild(child);\n      }\n    }\n    _setInitialAttributesOnChild(child) {\n      child = this._getInnerElement(child);\n      const isActive = this._elemIsActive(child);\n      const outerElem = this._getOuterElement(child);\n      child.setAttribute('aria-selected', isActive);\n      if (outerElem !== child) {\n        this._setAttributeIfNotExists(outerElem, 'role', 'presentation');\n      }\n      if (!isActive) {\n        child.setAttribute('tabindex', '-1');\n      }\n      this._setAttributeIfNotExists(child, 'role', 'tab');\n\n      // set attributes to the related panel too\n      this._setInitialAttributesOnTargetPanel(child);\n    }\n    _setInitialAttributesOnTargetPanel(child) {\n      const target = SelectorEngine.getElementFromSelector(child);\n      if (!target) {\n        return;\n      }\n      this._setAttributeIfNotExists(target, 'role', 'tabpanel');\n      if (child.id) {\n        this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`);\n      }\n    }\n    _toggleDropDown(element, open) {\n      const outerElem = this._getOuterElement(element);\n      if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n        return;\n      }\n      const toggle = (selector, className) => {\n        const element = SelectorEngine.findOne(selector, outerElem);\n        if (element) {\n          element.classList.toggle(className, open);\n        }\n      };\n      toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE);\n      toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW$1);\n      outerElem.setAttribute('aria-expanded', open);\n    }\n    _setAttributeIfNotExists(element, attribute, value) {\n      if (!element.hasAttribute(attribute)) {\n        element.setAttribute(attribute, value);\n      }\n    }\n    _elemIsActive(elem) {\n      return elem.classList.contains(CLASS_NAME_ACTIVE);\n    }\n\n    // Try to get the inner element (usually the .nav-link)\n    _getInnerElement(elem) {\n      return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem);\n    }\n\n    // Try to get the outer element (usually the .nav-item)\n    _getOuterElement(elem) {\n      return elem.closest(SELECTOR_OUTER) || elem;\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Tab.getOrCreateInstance(this);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault();\n    }\n    if (isDisabled(this)) {\n      return;\n    }\n    Tab.getOrCreateInstance(this).show();\n  });\n\n  /**\n   * Initialize on focus\n   */\n  EventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n    for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n      Tab.getOrCreateInstance(element);\n    }\n  });\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Tab);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap toast.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME = 'toast';\n  const DATA_KEY = 'bs.toast';\n  const EVENT_KEY = `.${DATA_KEY}`;\n  const EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`;\n  const EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`;\n  const EVENT_FOCUSIN = `focusin${EVENT_KEY}`;\n  const EVENT_FOCUSOUT = `focusout${EVENT_KEY}`;\n  const EVENT_HIDE = `hide${EVENT_KEY}`;\n  const EVENT_HIDDEN = `hidden${EVENT_KEY}`;\n  const EVENT_SHOW = `show${EVENT_KEY}`;\n  const EVENT_SHOWN = `shown${EVENT_KEY}`;\n  const CLASS_NAME_FADE = 'fade';\n  const CLASS_NAME_HIDE = 'hide'; // @deprecated - kept here only for backwards compatibility\n  const CLASS_NAME_SHOW = 'show';\n  const CLASS_NAME_SHOWING = 'showing';\n  const DefaultType = {\n    animation: 'boolean',\n    autohide: 'boolean',\n    delay: 'number'\n  };\n  const Default = {\n    animation: true,\n    autohide: true,\n    delay: 5000\n  };\n\n  /**\n   * Class definition\n   */\n\n  class Toast extends BaseComponent {\n    constructor(element, config) {\n      super(element, config);\n      this._timeout = null;\n      this._hasMouseInteraction = false;\n      this._hasKeyboardInteraction = false;\n      this._setListeners();\n    }\n\n    // Getters\n    static get Default() {\n      return Default;\n    }\n    static get DefaultType() {\n      return DefaultType;\n    }\n    static get NAME() {\n      return NAME;\n    }\n\n    // Public\n    show() {\n      const showEvent = EventHandler.trigger(this._element, EVENT_SHOW);\n      if (showEvent.defaultPrevented) {\n        return;\n      }\n      this._clearTimeout();\n      if (this._config.animation) {\n        this._element.classList.add(CLASS_NAME_FADE);\n      }\n      const complete = () => {\n        this._element.classList.remove(CLASS_NAME_SHOWING);\n        EventHandler.trigger(this._element, EVENT_SHOWN);\n        this._maybeScheduleHide();\n      };\n      this._element.classList.remove(CLASS_NAME_HIDE); // @deprecated\n      reflow(this._element);\n      this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING);\n      this._queueCallback(complete, this._element, this._config.animation);\n    }\n    hide() {\n      if (!this.isShown()) {\n        return;\n      }\n      const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE);\n      if (hideEvent.defaultPrevented) {\n        return;\n      }\n      const complete = () => {\n        this._element.classList.add(CLASS_NAME_HIDE); // @deprecated\n        this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW);\n        EventHandler.trigger(this._element, EVENT_HIDDEN);\n      };\n      this._element.classList.add(CLASS_NAME_SHOWING);\n      this._queueCallback(complete, this._element, this._config.animation);\n    }\n    dispose() {\n      this._clearTimeout();\n      if (this.isShown()) {\n        this._element.classList.remove(CLASS_NAME_SHOW);\n      }\n      super.dispose();\n    }\n    isShown() {\n      return this._element.classList.contains(CLASS_NAME_SHOW);\n    }\n\n    // Private\n    _maybeScheduleHide() {\n      if (!this._config.autohide) {\n        return;\n      }\n      if (this._hasMouseInteraction || this._hasKeyboardInteraction) {\n        return;\n      }\n      this._timeout = setTimeout(() => {\n        this.hide();\n      }, this._config.delay);\n    }\n    _onInteraction(event, isInteracting) {\n      switch (event.type) {\n        case 'mouseover':\n        case 'mouseout':\n          {\n            this._hasMouseInteraction = isInteracting;\n            break;\n          }\n        case 'focusin':\n        case 'focusout':\n          {\n            this._hasKeyboardInteraction = isInteracting;\n            break;\n          }\n      }\n      if (isInteracting) {\n        this._clearTimeout();\n        return;\n      }\n      const nextElement = event.relatedTarget;\n      if (this._element === nextElement || this._element.contains(nextElement)) {\n        return;\n      }\n      this._maybeScheduleHide();\n    }\n    _setListeners() {\n      EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true));\n      EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false));\n      EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true));\n      EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false));\n    }\n    _clearTimeout() {\n      clearTimeout(this._timeout);\n      this._timeout = null;\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Toast.getOrCreateInstance(this, config);\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(`No method named \"${config}\"`);\n          }\n          data[config](this);\n        }\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  enableDismissTrigger(Toast);\n\n  /**\n   * jQuery\n   */\n\n  defineJQueryPlugin(Toast);\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap index.umd.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  const index_umd = {\n    Alert,\n    Button,\n    Carousel,\n    Collapse,\n    Dropdown,\n    Modal,\n    Offcanvas,\n    Popover,\n    ScrollSpy,\n    Tab,\n    Toast,\n    Tooltip\n  };\n\n  return index_umd;\n\n}));\n//# sourceMappingURL=bootstrap.bundle.js.map\n\n/*! =======================================================\n                      VERSION  10.6.2              \n========================================================= */\n\"use strict\";\n\nvar _typeof =\n  typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n    ? function (obj) {\n        return typeof obj;\n      }\n    : function (obj) {\n        return obj &&\n          typeof Symbol === \"function\" &&\n          obj.constructor === Symbol &&\n          obj !== Symbol.prototype\n          ? \"symbol\"\n          : typeof obj;\n      };\n\n/*! =========================================================\n * bootstrap-slider.js\n *\n * Maintainers:\n *\t\tKyle Kemp\n *\t\t\t- Twitter: @seiyria\n *\t\t\t- Github:  seiyria\n *\t\tRohit Kalkur\n *\t\t\t- Twitter: @Rovolutionary\n *\t\t\t- Github:  rovolution\n *\n * =========================================================\n *\n * bootstrap-slider is released under the MIT License\n * Copyright (c) 2019 Kyle Kemp, Rohit Kalkur, and contributors\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n *\n * ========================================================= */\n\n/**\n * Bridget makes jQuery widgets\n * v1.0.1\n * MIT license\n */\nvar windowIsDefined =\n  (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\";\n\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"jquery\"], factory);\n  } else if (\n    (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) ===\n      \"object\" &&\n    module.exports\n  ) {\n    var jQuery;\n    try {\n      jQuery = require(\"jquery\");\n    } catch (err) {\n      jQuery = null;\n    }\n    module.exports = factory(jQuery);\n  } else if (window) {\n    window.Slider = factory(window.jQuery);\n  }\n})(function ($) {\n  // Constants\n  var NAMESPACE_MAIN = \"slider\";\n  var NAMESPACE_ALTERNATE = \"bootstrapSlider\";\n\n  // Polyfill console methods\n  if (windowIsDefined && !window.console) {\n    window.console = {};\n  }\n  if (windowIsDefined && !window.console.log) {\n    window.console.log = function () {};\n  }\n  if (windowIsDefined && !window.console.warn) {\n    window.console.warn = function () {};\n  }\n\n  // Reference to Slider constructor\n  var Slider;\n\n  (function ($) {\n    \"use strict\";\n\n    // -------------------------- utils -------------------------- //\n\n    var slice = Array.prototype.slice;\n\n    function noop() {}\n\n    // -------------------------- definition -------------------------- //\n\n    function defineBridget($) {\n      // bail if no jQuery\n      if (!$) {\n        return;\n      }\n\n      // -------------------------- addOptionMethod -------------------------- //\n\n      /**\n       * adds option method -> $().plugin('option', {...})\n       * @param {Function} PluginClass - constructor class\n       */\n      function addOptionMethod(PluginClass) {\n        // don't overwrite original option method\n        if (PluginClass.prototype.option) {\n          return;\n        }\n\n        // option setter\n        PluginClass.prototype.option = function (opts) {\n          // bail out if not an object\n          if (!$.isPlainObject(opts)) {\n            return;\n          }\n          this.options = $.extend(true, this.options, opts);\n        };\n      }\n\n      // -------------------------- plugin bridge -------------------------- //\n\n      // helper function for logging errors\n      // $.error breaks jQuery chaining\n      var logError =\n        typeof console === \"undefined\"\n          ? noop\n          : function (message) {\n              console.error(message);\n            };\n\n      /**\n       * jQuery plugin bridge, access methods like $elem.plugin('method')\n       * @param {String} namespace - plugin name\n       * @param {Function} PluginClass - constructor class\n       */\n      function bridge(namespace, PluginClass) {\n        // add to jQuery fn namespace\n        $.fn[namespace] = function (options) {\n          if (typeof options === \"string\") {\n            // call plugin method when first argument is a string\n            // get arguments for method\n            var args = slice.call(arguments, 1);\n\n            for (var i = 0, len = this.length; i < len; i++) {\n              var elem = this[i];\n              var instance = $.data(elem, namespace);\n              if (!instance) {\n                logError(\n                  \"cannot call methods on \" +\n                    namespace +\n                    \" prior to initialization; \" +\n                    \"attempted to call '\" +\n                    options +\n                    \"'\"\n                );\n                continue;\n              }\n              if (\n                !$.isFunction(instance[options]) ||\n                options.charAt(0) === \"_\"\n              ) {\n                logError(\n                  \"no such method '\" +\n                    options +\n                    \"' for \" +\n                    namespace +\n                    \" instance\"\n                );\n                continue;\n              }\n\n              // trigger method with arguments\n              var returnValue = instance[options].apply(instance, args);\n\n              // break look and return first value if provided\n              if (returnValue !== undefined && returnValue !== instance) {\n                return returnValue;\n              }\n            }\n            // return this if no return value\n            return this;\n          } else {\n            var objects = this.map(function () {\n              var instance = $.data(this, namespace);\n              if (instance) {\n                // apply options & init\n                instance.option(options);\n                instance._init();\n              } else {\n                // initialize new instance\n                instance = new PluginClass(this, options);\n                $.data(this, namespace, instance);\n              }\n              return $(this);\n            });\n\n            if (objects.length === 1) {\n              return objects[0];\n            }\n            return objects;\n          }\n        };\n      }\n\n      // -------------------------- bridget -------------------------- //\n\n      /**\n       * converts a Prototypical class into a proper jQuery plugin\n       *   the class must have a ._init method\n       * @param {String} namespace - plugin name, used in $().pluginName\n       * @param {Function} PluginClass - constructor class\n       */\n      $.bridget = function (namespace, PluginClass) {\n        addOptionMethod(PluginClass);\n        bridge(namespace, PluginClass);\n      };\n\n      return $.bridget;\n    }\n\n    // get jquery from browser global\n    defineBridget($);\n  })($);\n\n  /*************************************************\n \t\t\tBOOTSTRAP-SLIDER SOURCE CODE\n \t**************************************************/\n\n  (function ($) {\n    var autoRegisterNamespace = void 0;\n\n    var ErrorMsgs = {\n      formatInvalidInputErrorMsg: function formatInvalidInputErrorMsg(input) {\n        return \"Invalid input value '\" + input + \"' passed in\";\n      },\n      callingContextNotSliderInstance:\n        \"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method\",\n    };\n\n    var SliderScale = {\n      linear: {\n        getValue: function getValue(value, options) {\n          if (value < options.min) {\n            return options.min;\n          } else if (value > options.max) {\n            return options.max;\n          } else {\n            return value;\n          }\n        },\n        toValue: function toValue(percentage) {\n          var rawValue =\n            (percentage / 100) * (this.options.max - this.options.min);\n          var shouldAdjustWithBase = true;\n          if (this.options.ticks_positions.length > 0) {\n            var minv,\n              maxv,\n              minp,\n              maxp = 0;\n            for (var i = 1; i < this.options.ticks_positions.length; i++) {\n              if (percentage <= this.options.ticks_positions[i]) {\n                minv = this.options.ticks[i - 1];\n                minp = this.options.ticks_positions[i - 1];\n                maxv = this.options.ticks[i];\n                maxp = this.options.ticks_positions[i];\n\n                break;\n              }\n            }\n            var partialPercentage = (percentage - minp) / (maxp - minp);\n            rawValue = minv + partialPercentage * (maxv - minv);\n            shouldAdjustWithBase = false;\n          }\n\n          var adjustment = shouldAdjustWithBase ? this.options.min : 0;\n          var value =\n            adjustment +\n            Math.round(rawValue / this.options.step) * this.options.step;\n          return SliderScale.linear.getValue(value, this.options);\n        },\n        toPercentage: function toPercentage(value) {\n          if (this.options.max === this.options.min) {\n            return 0;\n          }\n\n          if (this.options.ticks_positions.length > 0) {\n            var minv,\n              maxv,\n              minp,\n              maxp = 0;\n            for (var i = 0; i < this.options.ticks.length; i++) {\n              if (value <= this.options.ticks[i]) {\n                minv = i > 0 ? this.options.ticks[i - 1] : 0;\n                minp = i > 0 ? this.options.ticks_positions[i - 1] : 0;\n                maxv = this.options.ticks[i];\n                maxp = this.options.ticks_positions[i];\n\n                break;\n              }\n            }\n            if (i > 0) {\n              var partialPercentage = (value - minv) / (maxv - minv);\n              return minp + partialPercentage * (maxp - minp);\n            }\n          }\n\n          return (\n            (100 * (value - this.options.min)) /\n            (this.options.max - this.options.min)\n          );\n        },\n      },\n\n      logarithmic: {\n        /* Based on http://stackoverflow.com/questions/846221/logarithmic-slider */\n        toValue: function toValue(percentage) {\n          var offset = 1 - this.options.min;\n          var min = Math.log(this.options.min + offset);\n          var max = Math.log(this.options.max + offset);\n          var value = Math.exp(min + ((max - min) * percentage) / 100) - offset;\n          if (Math.round(value) === max) {\n            return max;\n          }\n          value =\n            this.options.min +\n            Math.round((value - this.options.min) / this.options.step) *\n              this.options.step;\n          /* Rounding to the nearest step could exceed the min or\n           * max, so clip to those values. */\n          return SliderScale.linear.getValue(value, this.options);\n        },\n        toPercentage: function toPercentage(value) {\n          if (this.options.max === this.options.min) {\n            return 0;\n          } else {\n            var offset = 1 - this.options.min;\n            var max = Math.log(this.options.max + offset);\n            var min = Math.log(this.options.min + offset);\n            var v = Math.log(value + offset);\n            return (100 * (v - min)) / (max - min);\n          }\n        },\n      },\n    };\n\n    /*************************************************\n  \t\t\t\t\t\tCONSTRUCTOR\n  \t**************************************************/\n    Slider = function Slider(element, options) {\n      createNewSlider.call(this, element, options);\n      return this;\n    };\n\n    function createNewSlider(element, options) {\n      /*\n   \tThe internal state object is used to store data about the current 'state' of slider.\n   \tThis includes values such as the `value`, `enabled`, etc...\n   */\n      this._state = {\n        value: null,\n        enabled: null,\n        offset: null,\n        size: null,\n        percentage: null,\n        inDrag: false,\n        over: false,\n        tickIndex: null,\n      };\n\n      // The objects used to store the reference to the tick methods if ticks_tooltip is on\n      this.ticksCallbackMap = {};\n      this.handleCallbackMap = {};\n\n      if (typeof element === \"string\") {\n        this.element = document.querySelector(element);\n      } else if (element instanceof HTMLElement) {\n        this.element = element;\n      }\n\n      /*************************************************\n   \t\t\t\t\tProcess Options\n   \t**************************************************/\n      options = options ? options : {};\n      var optionTypes = Object.keys(this.defaultOptions);\n\n      var isMinSet = options.hasOwnProperty(\"min\");\n      var isMaxSet = options.hasOwnProperty(\"max\");\n\n      for (var i = 0; i < optionTypes.length; i++) {\n        var optName = optionTypes[i];\n\n        // First check if an option was passed in via the constructor\n        var val = options[optName];\n        // If no data attrib, then check data atrributes\n        val =\n          typeof val !== \"undefined\"\n            ? val\n            : getDataAttrib(this.element, optName);\n        // Finally, if nothing was specified, use the defaults\n        val = val !== null ? val : this.defaultOptions[optName];\n\n        // Set all options on the instance of the Slider\n        if (!this.options) {\n          this.options = {};\n        }\n        this.options[optName] = val;\n      }\n\n      this.ticksAreValid =\n        Array.isArray(this.options.ticks) && this.options.ticks.length > 0;\n\n      // Lock to ticks only when ticks[] is defined and set\n      if (!this.ticksAreValid) {\n        this.options.lock_to_ticks = false;\n      }\n\n      // Check options.rtl\n      if (this.options.rtl === \"auto\") {\n        var computedStyle = window.getComputedStyle(this.element);\n        if (computedStyle != null) {\n          this.options.rtl = computedStyle.direction === \"rtl\";\n        } else {\n          // Fix for Firefox bug in versions less than 62:\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1467722\n          this.options.rtl = this.element.style.direction === \"rtl\";\n        }\n      }\n\n      /*\n   \tValidate `tooltip_position` against 'orientation`\n   \t- if `tooltip_position` is incompatible with orientation, swith it to a default compatible with specified `orientation`\n   \t\t-- default for \"vertical\" -> \"right\", \"left\" if rtl\n   \t\t-- default for \"horizontal\" -> \"top\"\n   */\n      if (\n        this.options.orientation === \"vertical\" &&\n        (this.options.tooltip_position === \"top\" ||\n          this.options.tooltip_position === \"bottom\")\n      ) {\n        if (this.options.rtl) {\n          this.options.tooltip_position = \"left\";\n        } else {\n          this.options.tooltip_position = \"right\";\n        }\n      } else if (\n        this.options.orientation === \"horizontal\" &&\n        (this.options.tooltip_position === \"left\" ||\n          this.options.tooltip_position === \"right\")\n      ) {\n        this.options.tooltip_position = \"top\";\n      }\n\n      function getDataAttrib(element, optName) {\n        var dataName = \"data-slider-\" + optName.replace(/_/g, \"-\");\n        var dataValString = element.getAttribute(dataName);\n\n        try {\n          return JSON.parse(dataValString);\n        } catch (err) {\n          return dataValString;\n        }\n      }\n\n      /*************************************************\n   \t\t\t\t\tCreate Markup\n   \t**************************************************/\n\n      var origWidth = this.element.style.width;\n      var updateSlider = false;\n      var parent = this.element.parentNode;\n      var sliderTrackSelection;\n      var sliderTrackLow, sliderTrackHigh;\n      var sliderMinHandle;\n      var sliderMaxHandle;\n\n      if (this.sliderElem) {\n        updateSlider = true;\n      } else {\n        /* Create elements needed for slider */\n        this.sliderElem = document.createElement(\"div\");\n        this.sliderElem.className = \"slider\";\n\n        /* Create slider track elements */\n        var sliderTrack = document.createElement(\"div\");\n        sliderTrack.className = \"slider-track\";\n\n        sliderTrackLow = document.createElement(\"div\");\n        sliderTrackLow.className = \"slider-track-low\";\n\n        sliderTrackSelection = document.createElement(\"div\");\n        sliderTrackSelection.className = \"slider-selection\";\n\n        sliderTrackHigh = document.createElement(\"div\");\n        sliderTrackHigh.className = \"slider-track-high\";\n\n        sliderMinHandle = document.createElement(\"div\");\n        sliderMinHandle.className = \"slider-handle min-slider-handle\";\n        sliderMinHandle.setAttribute(\"role\", \"slider\");\n        sliderMinHandle.setAttribute(\"aria-valuemin\", this.options.min);\n        sliderMinHandle.setAttribute(\"aria-valuemax\", this.options.max);\n\n        sliderMaxHandle = document.createElement(\"div\");\n        sliderMaxHandle.className = \"slider-handle max-slider-handle\";\n        sliderMaxHandle.setAttribute(\"role\", \"slider\");\n        sliderMaxHandle.setAttribute(\"aria-valuemin\", this.options.min);\n        sliderMaxHandle.setAttribute(\"aria-valuemax\", this.options.max);\n\n        sliderTrack.appendChild(sliderTrackLow);\n        sliderTrack.appendChild(sliderTrackSelection);\n        sliderTrack.appendChild(sliderTrackHigh);\n\n        /* Create highlight range elements */\n        this.rangeHighlightElements = [];\n        var rangeHighlightsOpts = this.options.rangeHighlights;\n        if (\n          Array.isArray(rangeHighlightsOpts) &&\n          rangeHighlightsOpts.length > 0\n        ) {\n          for (var j = 0; j < rangeHighlightsOpts.length; j++) {\n            var rangeHighlightElement = document.createElement(\"div\");\n            var customClassString = rangeHighlightsOpts[j].class || \"\";\n            rangeHighlightElement.className =\n              \"slider-rangeHighlight slider-selection \" + customClassString;\n            this.rangeHighlightElements.push(rangeHighlightElement);\n            sliderTrack.appendChild(rangeHighlightElement);\n          }\n        }\n\n        /* Add aria-labelledby to handle's */\n        var isLabelledbyArray = Array.isArray(this.options.labelledby);\n        if (isLabelledbyArray && this.options.labelledby[0]) {\n          sliderMinHandle.setAttribute(\n            \"aria-labelledby\",\n            this.options.labelledby[0]\n          );\n        }\n        if (isLabelledbyArray && this.options.labelledby[1]) {\n          sliderMaxHandle.setAttribute(\n            \"aria-labelledby\",\n            this.options.labelledby[1]\n          );\n        }\n        if (!isLabelledbyArray && this.options.labelledby) {\n          sliderMinHandle.setAttribute(\n            \"aria-labelledby\",\n            this.options.labelledby\n          );\n          sliderMaxHandle.setAttribute(\n            \"aria-labelledby\",\n            this.options.labelledby\n          );\n        }\n\n        /* Create ticks */\n        this.ticks = [];\n        if (\n          Array.isArray(this.options.ticks) &&\n          this.options.ticks.length > 0\n        ) {\n          this.ticksContainer = document.createElement(\"div\");\n          this.ticksContainer.className = \"slider-tick-container\";\n\n          for (i = 0; i < this.options.ticks.length; i++) {\n            var tick = document.createElement(\"div\");\n            tick.className = \"slider-tick\";\n            if (this.options.ticks_tooltip) {\n              var tickListenerReference = this._addTickListener();\n              var enterCallback = tickListenerReference.addMouseEnter(\n                this,\n                tick,\n                i\n              );\n              var leaveCallback = tickListenerReference.addMouseLeave(\n                this,\n                tick\n              );\n\n              this.ticksCallbackMap[i] = {\n                mouseEnter: enterCallback,\n                mouseLeave: leaveCallback,\n              };\n            }\n            this.ticks.push(tick);\n            this.ticksContainer.appendChild(tick);\n          }\n\n          sliderTrackSelection.className += \" tick-slider-selection\";\n        }\n\n        this.tickLabels = [];\n        if (\n          Array.isArray(this.options.ticks_labels) &&\n          this.options.ticks_labels.length > 0\n        ) {\n          this.tickLabelContainer = document.createElement(\"div\");\n          this.tickLabelContainer.className = \"slider-tick-label-container\";\n\n          for (i = 0; i < this.options.ticks_labels.length; i++) {\n            var label = document.createElement(\"div\");\n            var noTickPositionsSpecified =\n              this.options.ticks_positions.length === 0;\n            var tickLabelsIndex =\n              this.options.reversed && noTickPositionsSpecified\n                ? this.options.ticks_labels.length - (i + 1)\n                : i;\n            label.className = \"slider-tick-label\";\n            label.innerHTML = this.options.ticks_labels[tickLabelsIndex];\n\n            this.tickLabels.push(label);\n            this.tickLabelContainer.appendChild(label);\n          }\n        }\n\n        var createAndAppendTooltipSubElements = function createAndAppendTooltipSubElements(\n          tooltipElem\n        ) {\n          var arrow = document.createElement(\"div\");\n          arrow.className = \"datooltip-arrow\";\n\n          var inner = document.createElement(\"div\");\n          inner.className = \"datooltip-inner\";\n\n          tooltipElem.appendChild(arrow);\n          tooltipElem.appendChild(inner);\n        };\n\n        /* Create tooltip elements */\n        var sliderTooltip = document.createElement(\"div\");\n        sliderTooltip.className = \"datooltip datooltip-main\";\n        sliderTooltip.setAttribute(\"role\", \"presentation\");\n        createAndAppendTooltipSubElements(sliderTooltip);\n\n        var sliderTooltipMin = document.createElement(\"div\");\n        sliderTooltipMin.className = \"datooltip datooltip-min\";\n        sliderTooltipMin.setAttribute(\"role\", \"presentation\");\n        createAndAppendTooltipSubElements(sliderTooltipMin);\n\n        var sliderTooltipMax = document.createElement(\"div\");\n        sliderTooltipMax.className = \"datooltip datooltip-max\";\n        sliderTooltipMax.setAttribute(\"role\", \"presentation\");\n        createAndAppendTooltipSubElements(sliderTooltipMax);\n\n        /* Append components to sliderElem */\n        this.sliderElem.appendChild(sliderTrack);\n        this.sliderElem.appendChild(sliderTooltip);\n        this.sliderElem.appendChild(sliderTooltipMin);\n        this.sliderElem.appendChild(sliderTooltipMax);\n\n        if (this.tickLabelContainer) {\n          this.sliderElem.appendChild(this.tickLabelContainer);\n        }\n        if (this.ticksContainer) {\n          this.sliderElem.appendChild(this.ticksContainer);\n        }\n\n        this.sliderElem.appendChild(sliderMinHandle);\n        this.sliderElem.appendChild(sliderMaxHandle);\n\n        /* Append slider element to parent container, right before the original <input> element */\n        parent.insertBefore(this.sliderElem, this.element);\n\n        /* Hide original <input> element */\n        this.element.style.display = \"none\";\n      }\n      /* If JQuery exists, cache JQ references */\n      if ($) {\n        this.$element = $(this.element);\n        this.$sliderElem = $(this.sliderElem);\n      }\n\n      /*************************************************\n   \t\t\t\t\t\tSetup\n   \t**************************************************/\n      this.eventToCallbackMap = {};\n      this.sliderElem.id = this.options.id;\n\n      this.touchCapable =\n        \"ontouchstart\" in window ||\n        (window.DocumentTouch && document instanceof window.DocumentTouch);\n\n      this.touchX = 0;\n      this.touchY = 0;\n\n      this.tooltip = this.sliderElem.querySelector(\".datooltip-main\");\n      this.tooltipInner = this.tooltip.querySelector(\".datooltip-inner\");\n\n      this.tooltip_min = this.sliderElem.querySelector(\".datooltip-min\");\n      this.tooltipInner_min = this.tooltip_min.querySelector(\n        \".datooltip-inner\"\n      );\n\n      this.tooltip_max = this.sliderElem.querySelector(\".datooltip-max\");\n      this.tooltipInner_max = this.tooltip_max.querySelector(\n        \".datooltip-inner\"\n      );\n\n      if (SliderScale[this.options.scale]) {\n        this.options.scale = SliderScale[this.options.scale];\n      }\n\n      if (updateSlider === true) {\n        // Reset classes\n        this._removeClass(this.sliderElem, \"slider-horizontal\");\n        this._removeClass(this.sliderElem, \"slider-vertical\");\n        this._removeClass(this.sliderElem, \"slider-rtl\");\n        this._removeClass(this.tooltip, \"hide\");\n        this._removeClass(this.tooltip_min, \"hide\");\n        this._removeClass(this.tooltip_max, \"hide\");\n\n        // Undo existing inline styles for track\n        [\"left\", \"right\", \"top\", \"width\", \"height\"].forEach(function (prop) {\n          this._removeProperty(this.trackLow, prop);\n          this._removeProperty(this.trackSelection, prop);\n          this._removeProperty(this.trackHigh, prop);\n        }, this);\n\n        // Undo inline styles on handles\n        [this.handle1, this.handle2].forEach(function (handle) {\n          this._removeProperty(handle, \"left\");\n          this._removeProperty(handle, \"right\");\n          this._removeProperty(handle, \"top\");\n        }, this);\n\n        // Undo inline styles and classes on tooltips\n        [this.tooltip, this.tooltip_min, this.tooltip_max].forEach(function (\n          tooltip\n        ) {\n          this._removeProperty(tooltip, \"left\");\n          this._removeProperty(tooltip, \"right\");\n          this._removeProperty(tooltip, \"top\");\n\n          this._removeClass(tooltip, \"right\");\n          this._removeClass(tooltip, \"left\");\n          this._removeClass(tooltip, \"top\");\n        },\n        this);\n      }\n\n      if (this.options.orientation === \"vertical\") {\n        this._addClass(this.sliderElem, \"slider-vertical\");\n        this.stylePos = \"top\";\n        this.mousePos = \"pageY\";\n        this.sizePos = \"offsetHeight\";\n      } else {\n        this._addClass(this.sliderElem, \"slider-horizontal\");\n        this.sliderElem.style.width = origWidth;\n        this.options.orientation = \"horizontal\";\n        if (this.options.rtl) {\n          this.stylePos = \"right\";\n        } else {\n          this.stylePos = \"left\";\n        }\n        this.mousePos = \"clientX\";\n        this.sizePos = \"offsetWidth\";\n      }\n      // specific rtl class\n      if (this.options.rtl) {\n        this._addClass(this.sliderElem, \"slider-rtl\");\n      }\n      this._setTooltipPosition();\n      /* In case ticks are specified, overwrite the min and max bounds */\n      if (Array.isArray(this.options.ticks) && this.options.ticks.length > 0) {\n        if (!isMaxSet) {\n          this.options.max = Math.max.apply(Math, this.options.ticks);\n        }\n        if (!isMinSet) {\n          this.options.min = Math.min.apply(Math, this.options.ticks);\n        }\n      }\n\n      if (Array.isArray(this.options.value)) {\n        this.options.range = true;\n        this._state.value = this.options.value;\n      } else if (this.options.range) {\n        // User wants a range, but value is not an array\n        this._state.value = [this.options.value, this.options.max];\n      } else {\n        this._state.value = this.options.value;\n      }\n\n      this.trackLow = sliderTrackLow || this.trackLow;\n      this.trackSelection = sliderTrackSelection || this.trackSelection;\n      this.trackHigh = sliderTrackHigh || this.trackHigh;\n\n      if (this.options.selection === \"none\") {\n        this._addClass(this.trackLow, \"hide\");\n        this._addClass(this.trackSelection, \"hide\");\n        this._addClass(this.trackHigh, \"hide\");\n      } else if (\n        this.options.selection === \"after\" ||\n        this.options.selection === \"before\"\n      ) {\n        this._removeClass(this.trackLow, \"hide\");\n        this._removeClass(this.trackSelection, \"hide\");\n        this._removeClass(this.trackHigh, \"hide\");\n      }\n\n      this.handle1 = sliderMinHandle || this.handle1;\n      this.handle2 = sliderMaxHandle || this.handle2;\n\n      if (updateSlider === true) {\n        // Reset classes\n        this._removeClass(this.handle1, \"round triangle\");\n        this._removeClass(this.handle2, \"round triangle hide\");\n\n        for (i = 0; i < this.ticks.length; i++) {\n          this._removeClass(this.ticks[i], \"round triangle hide\");\n        }\n      }\n\n      var availableHandleModifiers = [\"round\", \"triangle\", \"custom\"];\n      var isValidHandleType =\n        availableHandleModifiers.indexOf(this.options.handle) !== -1;\n      if (isValidHandleType) {\n        this._addClass(this.handle1, this.options.handle);\n        this._addClass(this.handle2, this.options.handle);\n\n        for (i = 0; i < this.ticks.length; i++) {\n          this._addClass(this.ticks[i], this.options.handle);\n        }\n      }\n\n      this._state.offset = this._offset(this.sliderElem);\n      this._state.size = this.sliderElem[this.sizePos];\n      this.setValue(this._state.value);\n\n      /******************************************\n   \t\t\t\tBind Event Listeners\n   \t******************************************/\n\n      // Bind keyboard handlers\n      this.handle1Keydown = this._keydown.bind(this, 0);\n      this.handle1.addEventListener(\"keydown\", this.handle1Keydown, false);\n\n      this.handle2Keydown = this._keydown.bind(this, 1);\n      this.handle2.addEventListener(\"keydown\", this.handle2Keydown, false);\n\n      this.mousedown = this._mousedown.bind(this);\n      this.touchstart = this._touchstart.bind(this);\n      this.touchmove = this._touchmove.bind(this);\n\n      if (this.touchCapable) {\n        this.sliderElem.addEventListener(\"touchstart\", this.touchstart, false);\n        this.sliderElem.addEventListener(\"touchmove\", this.touchmove, false);\n      }\n\n      this.sliderElem.addEventListener(\"mousedown\", this.mousedown, false);\n\n      // Bind window handlers\n      this.resize = this._resize.bind(this);\n      window.addEventListener(\"resize\", this.resize, false);\n\n      // Bind tooltip-related handlers\n      if (this.options.tooltip === \"hide\") {\n        this._addClass(this.tooltip, \"hide\");\n        this._addClass(this.tooltip_min, \"hide\");\n        this._addClass(this.tooltip_max, \"hide\");\n      } else if (this.options.tooltip === \"always\") {\n        this._showTooltip();\n        this._alwaysShowTooltip = true;\n      } else {\n        this.showTooltip = this._showTooltip.bind(this);\n        this.hideTooltip = this._hideTooltip.bind(this);\n\n        if (this.options.ticks_tooltip) {\n          var callbackHandle = this._addTickListener();\n          //create handle1 listeners and store references in map\n          var mouseEnter = callbackHandle.addMouseEnter(this, this.handle1);\n          var mouseLeave = callbackHandle.addMouseLeave(this, this.handle1);\n          this.handleCallbackMap.handle1 = {\n            mouseEnter: mouseEnter,\n            mouseLeave: mouseLeave,\n          };\n          //create handle2 listeners and store references in map\n          mouseEnter = callbackHandle.addMouseEnter(this, this.handle2);\n          mouseLeave = callbackHandle.addMouseLeave(this, this.handle2);\n          this.handleCallbackMap.handle2 = {\n            mouseEnter: mouseEnter,\n            mouseLeave: mouseLeave,\n          };\n        } else {\n          this.sliderElem.addEventListener(\n            \"mouseenter\",\n            this.showTooltip,\n            false\n          );\n          this.sliderElem.addEventListener(\n            \"mouseleave\",\n            this.hideTooltip,\n            false\n          );\n\n          if (this.touchCapable) {\n            this.sliderElem.addEventListener(\n              \"touchstart\",\n              this.showTooltip,\n              false\n            );\n            this.sliderElem.addEventListener(\n              \"touchmove\",\n              this.showTooltip,\n              false\n            );\n            this.sliderElem.addEventListener(\n              \"touchend\",\n              this.hideTooltip,\n              false\n            );\n          }\n        }\n\n        this.handle1.addEventListener(\"focus\", this.showTooltip, false);\n        this.handle1.addEventListener(\"blur\", this.hideTooltip, false);\n\n        this.handle2.addEventListener(\"focus\", this.showTooltip, false);\n        this.handle2.addEventListener(\"blur\", this.hideTooltip, false);\n\n        if (this.touchCapable) {\n          this.handle1.addEventListener(\"touchstart\", this.showTooltip, false);\n          this.handle1.addEventListener(\"touchmove\", this.showTooltip, false);\n          this.handle1.addEventListener(\"touchend\", this.hideTooltip, false);\n\n          this.handle2.addEventListener(\"touchstart\", this.showTooltip, false);\n          this.handle2.addEventListener(\"touchmove\", this.showTooltip, false);\n          this.handle2.addEventListener(\"touchend\", this.hideTooltip, false);\n        }\n      }\n\n      if (this.options.enabled) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    }\n\n    /*************************************************\n  \t\t\t\tINSTANCE PROPERTIES/METHODS\n  \t- Any methods bound to the prototype are considered\n  part of the plugin's `public` interface\n  \t**************************************************/\n    Slider.prototype = {\n      _init: function _init() {}, // NOTE: Must exist to support bridget\n\n      constructor: Slider,\n\n      defaultOptions: {\n        id: \"\",\n        min: 0,\n        max: 10,\n        step: 1,\n        precision: 0,\n        orientation: \"horizontal\",\n        value: 5,\n        range: false,\n        selection: \"before\",\n        tooltip: \"show\",\n        tooltip_split: false,\n        lock_to_ticks: false,\n        handle: \"round\",\n        reversed: false,\n        rtl: \"auto\",\n        enabled: true,\n        formatter: function formatter(val) {\n          if (Array.isArray(val)) {\n            return val[0] + \" : \" + val[1];\n          } else {\n            return val;\n          }\n        },\n        natural_arrow_keys: false,\n        ticks: [],\n        ticks_positions: [],\n        ticks_labels: [],\n        ticks_snap_bounds: 0,\n        ticks_tooltip: false,\n        scale: \"linear\",\n        focus: false,\n        tooltip_position: null,\n        labelledby: null,\n        rangeHighlights: [],\n      },\n\n      getElement: function getElement() {\n        return this.sliderElem;\n      },\n\n      getValue: function getValue() {\n        if (this.options.range) {\n          return this._state.value;\n        } else {\n          return this._state.value[0];\n        }\n      },\n\n      setValue: function setValue(val, triggerSlideEvent, triggerChangeEvent) {\n        if (!val) {\n          val = 0;\n        }\n        var oldValue = this.getValue();\n        this._state.value = this._validateInputValue(val);\n        var applyPrecision = this._applyPrecision.bind(this);\n\n        if (this.options.range) {\n          this._state.value[0] = applyPrecision(this._state.value[0]);\n          this._state.value[1] = applyPrecision(this._state.value[1]);\n\n          if (this.ticksAreValid && this.options.lock_to_ticks) {\n            this._state.value[0] = this.options.ticks[\n              this._getClosestTickIndex(this._state.value[0])\n            ];\n            this._state.value[1] = this.options.ticks[\n              this._getClosestTickIndex(this._state.value[1])\n            ];\n          }\n\n          this._state.value[0] = Math.max(\n            this.options.min,\n            Math.min(this.options.max, this._state.value[0])\n          );\n          this._state.value[1] = Math.max(\n            this.options.min,\n            Math.min(this.options.max, this._state.value[1])\n          );\n        } else {\n          this._state.value = applyPrecision(this._state.value);\n\n          if (this.ticksAreValid && this.options.lock_to_ticks) {\n            this._state.value = this.options.ticks[\n              this._getClosestTickIndex(this._state.value)\n            ];\n          }\n\n          this._state.value = [\n            Math.max(\n              this.options.min,\n              Math.min(this.options.max, this._state.value)\n            ),\n          ];\n          this._addClass(this.handle2, \"hide\");\n          if (this.options.selection === \"after\") {\n            this._state.value[1] = this.options.max;\n          } else {\n            this._state.value[1] = this.options.min;\n          }\n        }\n\n        // Determine which ticks the handle(s) are set at (if applicable)\n        this._setTickIndex();\n\n        if (this.options.max > this.options.min) {\n          this._state.percentage = [\n            this._toPercentage(this._state.value[0]),\n            this._toPercentage(this._state.value[1]),\n            (this.options.step * 100) / (this.options.max - this.options.min),\n          ];\n        } else {\n          this._state.percentage = [0, 0, 100];\n        }\n\n        this._layout();\n        var newValue = this.options.range\n          ? this._state.value\n          : this._state.value[0];\n\n        this._setDataVal(newValue);\n        if (triggerSlideEvent === true) {\n          this._trigger(\"slide\", newValue);\n        }\n\n        var hasChanged = false;\n        if (Array.isArray(newValue)) {\n          hasChanged =\n            oldValue[0] !== newValue[0] || oldValue[1] !== newValue[1];\n        } else {\n          hasChanged = oldValue !== newValue;\n        }\n\n        if (hasChanged && triggerChangeEvent === true) {\n          this._trigger(\"change\", {\n            oldValue: oldValue,\n            newValue: newValue,\n          });\n        }\n\n        return this;\n      },\n\n      destroy: function destroy() {\n        // Remove event handlers on slider elements\n        this._removeSliderEventHandlers();\n\n        // Remove the slider from the DOM\n        this.sliderElem.parentNode.removeChild(this.sliderElem);\n        /* Show original <input> element */\n        this.element.style.display = \"\";\n\n        // Clear out custom event bindings\n        this._cleanUpEventCallbacksMap();\n\n        // Remove data values\n        this.element.removeAttribute(\"data\");\n\n        // Remove JQuery handlers/data\n        if ($) {\n          this._unbindJQueryEventHandlers();\n          if (autoRegisterNamespace === NAMESPACE_MAIN) {\n            this.$element.removeData(autoRegisterNamespace);\n          }\n          this.$element.removeData(NAMESPACE_ALTERNATE);\n        }\n      },\n\n      disable: function disable() {\n        this._state.enabled = false;\n        this.handle1.removeAttribute(\"tabindex\");\n        this.handle2.removeAttribute(\"tabindex\");\n        this._addClass(this.sliderElem, \"slider-disabled\");\n        this._trigger(\"slideDisabled\");\n\n        return this;\n      },\n\n      enable: function enable() {\n        this._state.enabled = true;\n        this.handle1.setAttribute(\"tabindex\", 0);\n        this.handle2.setAttribute(\"tabindex\", 0);\n        this._removeClass(this.sliderElem, \"slider-disabled\");\n        this._trigger(\"slideEnabled\");\n\n        return this;\n      },\n\n      toggle: function toggle() {\n        if (this._state.enabled) {\n          this.disable();\n        } else {\n          this.enable();\n        }\n        return this;\n      },\n\n      isEnabled: function isEnabled() {\n        return this._state.enabled;\n      },\n\n      on: function on(evt, callback) {\n        this._bindNonQueryEventHandler(evt, callback);\n        return this;\n      },\n\n      off: function off(evt, callback) {\n        if ($) {\n          this.$element.off(evt, callback);\n          this.$sliderElem.off(evt, callback);\n        } else {\n          this._unbindNonQueryEventHandler(evt, callback);\n        }\n      },\n\n      getAttribute: function getAttribute(attribute) {\n        if (attribute) {\n          return this.options[attribute];\n        } else {\n          return this.options;\n        }\n      },\n\n      setAttribute: function setAttribute(attribute, value) {\n        this.options[attribute] = value;\n        return this;\n      },\n\n      refresh: function refresh(options) {\n        var currentValue = this.getValue();\n        this._removeSliderEventHandlers();\n        createNewSlider.call(this, this.element, this.options);\n        // Don't reset slider's value on refresh if `useCurrentValue` is true\n        if (options && options.useCurrentValue === true) {\n          this.setValue(currentValue);\n        }\n        if ($) {\n          // Bind new instance of slider to the element\n          if (autoRegisterNamespace === NAMESPACE_MAIN) {\n            $.data(this.element, NAMESPACE_MAIN, this);\n            $.data(this.element, NAMESPACE_ALTERNATE, this);\n          } else {\n            $.data(this.element, NAMESPACE_ALTERNATE, this);\n          }\n        }\n        return this;\n      },\n\n      relayout: function relayout() {\n        this._resize();\n        return this;\n      },\n\n      /******************************+\n   \t\t\t\tHELPERS\n   \t- Any method that is not part of the public interface.\n   - Place it underneath this comment block and write its signature like so:\n   \t\t_fnName : function() {...}\n   \t********************************/\n      _removeTooltipListener: function _removeTooltipListener(event, handler) {\n        this.handle1.removeEventListener(event, handler, false);\n        this.handle2.removeEventListener(event, handler, false);\n      },\n      _removeSliderEventHandlers: function _removeSliderEventHandlers() {\n        // Remove keydown event listeners\n        this.handle1.removeEventListener(\"keydown\", this.handle1Keydown, false);\n        this.handle2.removeEventListener(\"keydown\", this.handle2Keydown, false);\n\n        //remove the listeners from the ticks and handles if they had their own listeners\n        if (this.options.ticks_tooltip) {\n          var ticks = this.ticksContainer.getElementsByClassName(\"slider-tick\");\n          for (var i = 0; i < ticks.length; i++) {\n            ticks[i].removeEventListener(\n              \"mouseenter\",\n              this.ticksCallbackMap[i].mouseEnter,\n              false\n            );\n            ticks[i].removeEventListener(\n              \"mouseleave\",\n              this.ticksCallbackMap[i].mouseLeave,\n              false\n            );\n          }\n          if (\n            this.handleCallbackMap.handle1 &&\n            this.handleCallbackMap.handle2\n          ) {\n            this.handle1.removeEventListener(\n              \"mouseenter\",\n              this.handleCallbackMap.handle1.mouseEnter,\n              false\n            );\n            this.handle2.removeEventListener(\n              \"mouseenter\",\n              this.handleCallbackMap.handle2.mouseEnter,\n              false\n            );\n            this.handle1.removeEventListener(\n              \"mouseleave\",\n              this.handleCallbackMap.handle1.mouseLeave,\n              false\n            );\n            this.handle2.removeEventListener(\n              \"mouseleave\",\n              this.handleCallbackMap.handle2.mouseLeave,\n              false\n            );\n          }\n        }\n\n        this.handleCallbackMap = null;\n        this.ticksCallbackMap = null;\n\n        if (this.showTooltip) {\n          this._removeTooltipListener(\"focus\", this.showTooltip);\n        }\n        if (this.hideTooltip) {\n          this._removeTooltipListener(\"blur\", this.hideTooltip);\n        }\n\n        // Remove event listeners from sliderElem\n        if (this.showTooltip) {\n          this.sliderElem.removeEventListener(\n            \"mouseenter\",\n            this.showTooltip,\n            false\n          );\n        }\n        if (this.hideTooltip) {\n          this.sliderElem.removeEventListener(\n            \"mouseleave\",\n            this.hideTooltip,\n            false\n          );\n        }\n\n        this.sliderElem.removeEventListener(\"mousedown\", this.mousedown, false);\n\n        if (this.touchCapable) {\n          // Remove touch event listeners from handles\n          if (this.showTooltip) {\n            this.handle1.removeEventListener(\n              \"touchstart\",\n              this.showTooltip,\n              false\n            );\n            this.handle1.removeEventListener(\n              \"touchmove\",\n              this.showTooltip,\n              false\n            );\n            this.handle2.removeEventListener(\n              \"touchstart\",\n              this.showTooltip,\n              false\n            );\n            this.handle2.removeEventListener(\n              \"touchmove\",\n              this.showTooltip,\n              false\n            );\n          }\n          if (this.hideTooltip) {\n            this.handle1.removeEventListener(\n              \"touchend\",\n              this.hideTooltip,\n              false\n            );\n            this.handle2.removeEventListener(\n              \"touchend\",\n              this.hideTooltip,\n              false\n            );\n          }\n\n          // Remove event listeners from sliderElem\n          if (this.showTooltip) {\n            this.sliderElem.removeEventListener(\n              \"touchstart\",\n              this.showTooltip,\n              false\n            );\n            this.sliderElem.removeEventListener(\n              \"touchmove\",\n              this.showTooltip,\n              false\n            );\n          }\n          if (this.hideTooltip) {\n            this.sliderElem.removeEventListener(\n              \"touchend\",\n              this.hideTooltip,\n              false\n            );\n          }\n\n          this.sliderElem.removeEventListener(\n            \"touchstart\",\n            this.touchstart,\n            false\n          );\n          this.sliderElem.removeEventListener(\n            \"touchmove\",\n            this.touchmove,\n            false\n          );\n        }\n\n        // Remove window event listener\n        window.removeEventListener(\"resize\", this.resize, false);\n      },\n      _bindNonQueryEventHandler: function _bindNonQueryEventHandler(\n        evt,\n        callback\n      ) {\n        if (this.eventToCallbackMap[evt] === undefined) {\n          this.eventToCallbackMap[evt] = [];\n        }\n        this.eventToCallbackMap[evt].push(callback);\n      },\n      _unbindNonQueryEventHandler: function _unbindNonQueryEventHandler(\n        evt,\n        callback\n      ) {\n        var callbacks = this.eventToCallbackMap[evt];\n        if (callbacks !== undefined) {\n          for (var i = 0; i < callbacks.length; i++) {\n            if (callbacks[i] === callback) {\n              callbacks.splice(i, 1);\n              break;\n            }\n          }\n        }\n      },\n      _cleanUpEventCallbacksMap: function _cleanUpEventCallbacksMap() {\n        var eventNames = Object.keys(this.eventToCallbackMap);\n        for (var i = 0; i < eventNames.length; i++) {\n          var eventName = eventNames[i];\n          delete this.eventToCallbackMap[eventName];\n        }\n      },\n      _showTooltip: function _showTooltip() {\n        if (this.options.tooltip_split === false) {\n          this._addClass(this.tooltip, \"show\");\n          this.tooltip_min.style.display = \"none\";\n          this.tooltip_max.style.display = \"none\";\n        } else {\n          this._addClass(this.tooltip_min, \"show\");\n          this._addClass(this.tooltip_max, \"show\");\n          this.tooltip.style.display = \"none\";\n        }\n        this._state.over = true;\n      },\n      _hideTooltip: function _hideTooltip() {\n        if (this._state.inDrag === false && this._alwaysShowTooltip !== true) {\n          this._removeClass(this.tooltip, \"show\");\n          this._removeClass(this.tooltip_min, \"show\");\n          this._removeClass(this.tooltip_max, \"show\");\n        }\n        this._state.over = false;\n      },\n      _setToolTipOnMouseOver: function _setToolTipOnMouseOver(tempState) {\n        var self = this;\n        var formattedTooltipVal = this.options.formatter(\n          !tempState ? this._state.value[0] : tempState.value[0]\n        );\n        var positionPercentages = !tempState\n          ? getPositionPercentages(this._state, this.options.reversed)\n          : getPositionPercentages(tempState, this.options.reversed);\n        this._setText(this.tooltipInner, formattedTooltipVal);\n\n        this.tooltip.style[this.stylePos] = positionPercentages[0] + \"%\";\n\n        function getPositionPercentages(state, reversed) {\n          if (reversed) {\n            return [\n              100 - state.percentage[0],\n              self.options.range\n                ? 100 - state.percentage[1]\n                : state.percentage[1],\n            ];\n          }\n          return [state.percentage[0], state.percentage[1]];\n        }\n      },\n      _copyState: function _copyState() {\n        return {\n          value: [this._state.value[0], this._state.value[1]],\n          enabled: this._state.enabled,\n          offset: this._state.offset,\n          size: this._state.size,\n          percentage: [\n            this._state.percentage[0],\n            this._state.percentage[1],\n            this._state.percentage[2],\n          ],\n          inDrag: this._state.inDrag,\n          over: this._state.over,\n          // deleted or null'd keys\n          dragged: this._state.dragged,\n          keyCtrl: this._state.keyCtrl,\n        };\n      },\n      _addTickListener: function _addTickListener() {\n        return {\n          addMouseEnter: function addMouseEnter(reference, element, index) {\n            var enter = function enter() {\n              var tempState = reference._copyState();\n              // Which handle is being hovered over?\n              var val =\n                element === reference.handle1\n                  ? tempState.value[0]\n                  : tempState.value[1];\n              var per = void 0;\n\n              // Setup value and percentage for tick's 'mouseenter'\n              if (index !== undefined) {\n                val = reference.options.ticks[index];\n                per =\n                  (reference.options.ticks_positions.length > 0 &&\n                    reference.options.ticks_positions[index]) ||\n                  reference._toPercentage(reference.options.ticks[index]);\n              } else {\n                per = reference._toPercentage(val);\n              }\n\n              tempState.value[0] = val;\n              tempState.percentage[0] = per;\n              reference._setToolTipOnMouseOver(tempState);\n              reference._showTooltip();\n            };\n            element.addEventListener(\"mouseenter\", enter, false);\n            return enter;\n          },\n          addMouseLeave: function addMouseLeave(reference, element) {\n            var leave = function leave() {\n              reference._hideTooltip();\n            };\n            element.addEventListener(\"mouseleave\", leave, false);\n            return leave;\n          },\n        };\n      },\n      _layout: function _layout() {\n        var positionPercentages;\n        var formattedValue;\n\n        if (this.options.reversed) {\n          positionPercentages = [\n            100 - this._state.percentage[0],\n            this.options.range\n              ? 100 - this._state.percentage[1]\n              : this._state.percentage[1],\n          ];\n        } else {\n          positionPercentages = [\n            this._state.percentage[0],\n            this._state.percentage[1],\n          ];\n        }\n\n        this.handle1.style[this.stylePos] = positionPercentages[0] + \"%\";\n        this.handle1.setAttribute(\"aria-valuenow\", this._state.value[0]);\n        formattedValue = this.options.formatter(this._state.value[0]);\n        if (isNaN(formattedValue)) {\n          this.handle1.setAttribute(\"aria-valuetext\", formattedValue);\n        } else {\n          this.handle1.removeAttribute(\"aria-valuetext\");\n        }\n\n        this.handle2.style[this.stylePos] = positionPercentages[1] + \"%\";\n        this.handle2.setAttribute(\"aria-valuenow\", this._state.value[1]);\n        formattedValue = this.options.formatter(this._state.value[1]);\n        if (isNaN(formattedValue)) {\n          this.handle2.setAttribute(\"aria-valuetext\", formattedValue);\n        } else {\n          this.handle2.removeAttribute(\"aria-valuetext\");\n        }\n\n        /* Position highlight range elements */\n        if (\n          this.rangeHighlightElements.length > 0 &&\n          Array.isArray(this.options.rangeHighlights) &&\n          this.options.rangeHighlights.length > 0\n        ) {\n          for (var _i = 0; _i < this.options.rangeHighlights.length; _i++) {\n            var startPercent = this._toPercentage(\n              this.options.rangeHighlights[_i].start\n            );\n            var endPercent = this._toPercentage(\n              this.options.rangeHighlights[_i].end\n            );\n\n            if (this.options.reversed) {\n              var sp = 100 - endPercent;\n              endPercent = 100 - startPercent;\n              startPercent = sp;\n            }\n\n            var currentRange = this._createHighlightRange(\n              startPercent,\n              endPercent\n            );\n\n            if (currentRange) {\n              if (this.options.orientation === \"vertical\") {\n                this.rangeHighlightElements[_i].style.top =\n                  currentRange.start + \"%\";\n                this.rangeHighlightElements[_i].style.height =\n                  currentRange.size + \"%\";\n              } else {\n                if (this.options.rtl) {\n                  this.rangeHighlightElements[_i].style.right =\n                    currentRange.start + \"%\";\n                } else {\n                  this.rangeHighlightElements[_i].style.left =\n                    currentRange.start + \"%\";\n                }\n                this.rangeHighlightElements[_i].style.width =\n                  currentRange.size + \"%\";\n              }\n            } else {\n              this.rangeHighlightElements[_i].style.display = \"none\";\n            }\n          }\n        }\n\n        /* Position ticks and labels */\n        if (\n          Array.isArray(this.options.ticks) &&\n          this.options.ticks.length > 0\n        ) {\n          var styleSize =\n            this.options.orientation === \"vertical\" ? \"height\" : \"width\";\n          var styleMargin;\n          if (this.options.orientation === \"vertical\") {\n            styleMargin = \"marginTop\";\n          } else {\n            if (this.options.rtl) {\n              styleMargin = \"marginRight\";\n            } else {\n              styleMargin = \"marginLeft\";\n            }\n          }\n          var labelSize = this._state.size / (this.options.ticks.length - 1);\n\n          if (this.tickLabelContainer) {\n            var extraMargin = 0;\n            if (this.options.ticks_positions.length === 0) {\n              if (this.options.orientation !== \"vertical\") {\n                this.tickLabelContainer.style[styleMargin] =\n                  -labelSize / 2 + \"px\";\n              }\n\n              extraMargin = this.tickLabelContainer.offsetHeight;\n            } else {\n              /* Chidren are position absolute, calculate height by finding the max offsetHeight of a child */\n              for (i = 0; i < this.tickLabelContainer.childNodes.length; i++) {\n                if (\n                  this.tickLabelContainer.childNodes[i].offsetHeight >\n                  extraMargin\n                ) {\n                  extraMargin = this.tickLabelContainer.childNodes[i]\n                    .offsetHeight;\n                }\n              }\n            }\n            if (this.options.orientation === \"horizontal\") {\n              this.sliderElem.style.marginBottom = extraMargin + \"px\";\n            }\n          }\n          for (var i = 0; i < this.options.ticks.length; i++) {\n            var percentage =\n              this.options.ticks_positions[i] ||\n              this._toPercentage(this.options.ticks[i]);\n\n            if (this.options.reversed) {\n              percentage = 100 - percentage;\n            }\n\n            this.ticks[i].style[this.stylePos] = percentage + \"%\";\n\n            /* Set class labels to denote whether ticks are in the selection */\n            this._removeClass(this.ticks[i], \"in-selection\");\n            if (!this.options.range) {\n              if (\n                this.options.selection === \"after\" &&\n                percentage >= positionPercentages[0]\n              ) {\n                this._addClass(this.ticks[i], \"in-selection\");\n              } else if (\n                this.options.selection === \"before\" &&\n                percentage <= positionPercentages[0]\n              ) {\n                this._addClass(this.ticks[i], \"in-selection\");\n              }\n            } else if (\n              percentage >= positionPercentages[0] &&\n              percentage <= positionPercentages[1]\n            ) {\n              this._addClass(this.ticks[i], \"in-selection\");\n            }\n\n            if (this.tickLabels[i]) {\n              this.tickLabels[i].style[styleSize] = labelSize + \"px\";\n\n              if (\n                this.options.orientation !== \"vertical\" &&\n                this.options.ticks_positions[i] !== undefined\n              ) {\n                this.tickLabels[i].style.position = \"absolute\";\n                this.tickLabels[i].style[this.stylePos] = percentage + \"%\";\n                this.tickLabels[i].style[styleMargin] = -labelSize / 2 + \"px\";\n              } else if (this.options.orientation === \"vertical\") {\n                if (this.options.rtl) {\n                  this.tickLabels[i].style[\"marginRight\"] =\n                    this.sliderElem.offsetWidth + \"px\";\n                } else {\n                  this.tickLabels[i].style[\"marginLeft\"] =\n                    this.sliderElem.offsetWidth + \"px\";\n                }\n                this.tickLabelContainer.style[styleMargin] =\n                  (this.sliderElem.offsetWidth / 2) * -1 + \"px\";\n              }\n\n              /* Set class labels to indicate tick labels are in the selection or selected */\n              this._removeClass(\n                this.tickLabels[i],\n                \"label-in-selection label-is-selection\"\n              );\n              if (!this.options.range) {\n                if (\n                  this.options.selection === \"after\" &&\n                  percentage >= positionPercentages[0]\n                ) {\n                  this._addClass(this.tickLabels[i], \"label-in-selection\");\n                } else if (\n                  this.options.selection === \"before\" &&\n                  percentage <= positionPercentages[0]\n                ) {\n                  this._addClass(this.tickLabels[i], \"label-in-selection\");\n                }\n                if (percentage === positionPercentages[0]) {\n                  this._addClass(this.tickLabels[i], \"label-is-selection\");\n                }\n              } else if (\n                percentage >= positionPercentages[0] &&\n                percentage <= positionPercentages[1]\n              ) {\n                this._addClass(this.tickLabels[i], \"label-in-selection\");\n                if (\n                  percentage === positionPercentages[0] ||\n                  positionPercentages[1]\n                ) {\n                  this._addClass(this.tickLabels[i], \"label-is-selection\");\n                }\n              }\n            }\n          }\n        }\n\n        var formattedTooltipVal;\n\n        if (this.options.range) {\n          formattedTooltipVal = this.options.formatter(this._state.value);\n          this._setText(this.tooltipInner, formattedTooltipVal);\n          this.tooltip.style[this.stylePos] =\n            (positionPercentages[1] + positionPercentages[0]) / 2 + \"%\";\n\n          var innerTooltipMinText = this.options.formatter(\n            this._state.value[0]\n          );\n          this._setText(this.tooltipInner_min, innerTooltipMinText);\n\n          var innerTooltipMaxText = this.options.formatter(\n            this._state.value[1]\n          );\n          this._setText(this.tooltipInner_max, innerTooltipMaxText);\n\n          this.tooltip_min.style[this.stylePos] = positionPercentages[0] + \"%\";\n\n          this.tooltip_max.style[this.stylePos] = positionPercentages[1] + \"%\";\n        } else {\n          formattedTooltipVal = this.options.formatter(this._state.value[0]);\n          this._setText(this.tooltipInner, formattedTooltipVal);\n\n          this.tooltip.style[this.stylePos] = positionPercentages[0] + \"%\";\n        }\n\n        if (this.options.orientation === \"vertical\") {\n          this.trackLow.style.top = \"0\";\n          this.trackLow.style.height =\n            Math.min(positionPercentages[0], positionPercentages[1]) + \"%\";\n\n          this.trackSelection.style.top =\n            Math.min(positionPercentages[0], positionPercentages[1]) + \"%\";\n          this.trackSelection.style.height =\n            Math.abs(positionPercentages[0] - positionPercentages[1]) + \"%\";\n\n          this.trackHigh.style.bottom = \"0\";\n          this.trackHigh.style.height =\n            100 -\n            Math.min(positionPercentages[0], positionPercentages[1]) -\n            Math.abs(positionPercentages[0] - positionPercentages[1]) +\n            \"%\";\n        } else {\n          if (this.stylePos === \"right\") {\n            this.trackLow.style.right = \"0\";\n          } else {\n            this.trackLow.style.left = \"0\";\n          }\n          this.trackLow.style.width =\n            Math.min(positionPercentages[0], positionPercentages[1]) + \"%\";\n\n          if (this.stylePos === \"right\") {\n            this.trackSelection.style.right =\n              Math.min(positionPercentages[0], positionPercentages[1]) + \"%\";\n          } else {\n            this.trackSelection.style.left =\n              Math.min(positionPercentages[0], positionPercentages[1]) + \"%\";\n          }\n          this.trackSelection.style.width =\n            Math.abs(positionPercentages[0] - positionPercentages[1]) + \"%\";\n\n          if (this.stylePos === \"right\") {\n            this.trackHigh.style.left = \"0\";\n          } else {\n            this.trackHigh.style.right = \"0\";\n          }\n          this.trackHigh.style.width =\n            100 -\n            Math.min(positionPercentages[0], positionPercentages[1]) -\n            Math.abs(positionPercentages[0] - positionPercentages[1]) +\n            \"%\";\n\n          var offset_min = this.tooltip_min.getBoundingClientRect();\n          var offset_max = this.tooltip_max.getBoundingClientRect();\n\n          if (this.options.tooltip_position === \"bottom\") {\n            if (offset_min.right > offset_max.left) {\n              this._removeClass(this.tooltip_max, \"bottom\");\n              this._addClass(this.tooltip_max, \"top\");\n              this.tooltip_max.style.top = \"\";\n              this.tooltip_max.style.bottom = 22 + \"px\";\n            } else {\n              this._removeClass(this.tooltip_max, \"top\");\n              this._addClass(this.tooltip_max, \"bottom\");\n              this.tooltip_max.style.top = this.tooltip_min.style.top;\n              this.tooltip_max.style.bottom = \"\";\n            }\n          } else {\n            if (offset_min.right > offset_max.left) {\n              this._removeClass(this.tooltip_max, \"top\");\n              this._addClass(this.tooltip_max, \"bottom\");\n              this.tooltip_max.style.top = 18 + \"px\";\n            } else {\n              this._removeClass(this.tooltip_max, \"bottom\");\n              this._addClass(this.tooltip_max, \"top\");\n              this.tooltip_max.style.top = this.tooltip_min.style.top;\n            }\n          }\n        }\n      },\n      _createHighlightRange: function _createHighlightRange(start, end) {\n        if (this._isHighlightRange(start, end)) {\n          if (start > end) {\n            return { start: end, size: start - end };\n          }\n          return { start: start, size: end - start };\n        }\n        return null;\n      },\n      _isHighlightRange: function _isHighlightRange(start, end) {\n        if (0 <= start && start <= 100 && 0 <= end && end <= 100) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n      _resize: function _resize(ev) {\n        /*jshint unused:false*/\n        this._state.offset = this._offset(this.sliderElem);\n        this._state.size = this.sliderElem[this.sizePos];\n        this._layout();\n      },\n      _removeProperty: function _removeProperty(element, prop) {\n        if (element.style.removeProperty) {\n          element.style.removeProperty(prop);\n        } else {\n          element.style.removeAttribute(prop);\n        }\n      },\n      _mousedown: function _mousedown(ev) {\n        if (!this._state.enabled) {\n          return false;\n        }\n\n        if (ev.preventDefault) {\n          ev.preventDefault();\n        }\n\n        this._state.offset = this._offset(this.sliderElem);\n        this._state.size = this.sliderElem[this.sizePos];\n\n        var percentage = this._getPercentage(ev);\n\n        if (this.options.range) {\n          var diff1 = Math.abs(this._state.percentage[0] - percentage);\n          var diff2 = Math.abs(this._state.percentage[1] - percentage);\n          this._state.dragged = diff1 < diff2 ? 0 : 1;\n          this._adjustPercentageForRangeSliders(percentage);\n        } else {\n          this._state.dragged = 0;\n        }\n\n        this._state.percentage[this._state.dragged] = percentage;\n\n        if (this.touchCapable) {\n          document.removeEventListener(\"touchmove\", this.mousemove, false);\n          document.removeEventListener(\"touchend\", this.mouseup, false);\n        }\n\n        if (this.mousemove) {\n          document.removeEventListener(\"mousemove\", this.mousemove, false);\n        }\n        if (this.mouseup) {\n          document.removeEventListener(\"mouseup\", this.mouseup, false);\n        }\n\n        this.mousemove = this._mousemove.bind(this);\n        this.mouseup = this._mouseup.bind(this);\n\n        if (this.touchCapable) {\n          // Touch: Bind touch events:\n          document.addEventListener(\"touchmove\", this.mousemove, false);\n          document.addEventListener(\"touchend\", this.mouseup, false);\n        }\n        // Bind mouse events:\n        document.addEventListener(\"mousemove\", this.mousemove, false);\n        document.addEventListener(\"mouseup\", this.mouseup, false);\n\n        this._state.inDrag = true;\n        var newValue = this._calculateValue();\n\n        this._trigger(\"slideStart\", newValue);\n\n        this.setValue(newValue, false, true);\n\n        ev.returnValue = false;\n\n        if (this.options.focus) {\n          this._triggerFocusOnHandle(this._state.dragged);\n        }\n\n        return true;\n      },\n      _touchstart: function _touchstart(ev) {\n        this._mousedown(ev);\n      },\n      _triggerFocusOnHandle: function _triggerFocusOnHandle(handleIdx) {\n        if (handleIdx === 0) {\n          this.handle1.focus();\n        }\n        if (handleIdx === 1) {\n          this.handle2.focus();\n        }\n      },\n      _keydown: function _keydown(handleIdx, ev) {\n        if (!this._state.enabled) {\n          return false;\n        }\n\n        var dir;\n        switch (ev.keyCode) {\n          case 37: // left\n          case 40:\n            // down\n            dir = -1;\n            break;\n          case 39: // right\n          case 38:\n            // up\n            dir = 1;\n            break;\n        }\n        if (!dir) {\n          return;\n        }\n\n        // use natural arrow keys instead of from min to max\n        if (this.options.natural_arrow_keys) {\n          var isHorizontal = this.options.orientation === \"horizontal\";\n          var isVertical = this.options.orientation === \"vertical\";\n          var isRTL = this.options.rtl;\n          var isReversed = this.options.reversed;\n\n          if (isHorizontal) {\n            if (isRTL) {\n              if (!isReversed) {\n                dir = -dir;\n              }\n            } else {\n              if (isReversed) {\n                dir = -dir;\n              }\n            }\n          } else if (isVertical) {\n            if (!isReversed) {\n              dir = -dir;\n            }\n          }\n        }\n\n        var val;\n        if (this.ticksAreValid && this.options.lock_to_ticks) {\n          var index = void 0;\n          // Find tick index that handle 1/2 is currently on\n          index = this.options.ticks.indexOf(this._state.value[handleIdx]);\n          if (index === -1) {\n            // Set default to first tick\n            index = 0;\n            window.console.warn(\n              \"(lock_to_ticks) _keydown: index should not be -1\"\n            );\n          }\n          index += dir;\n          index = Math.max(0, Math.min(this.options.ticks.length - 1, index));\n          val = this.options.ticks[index];\n        } else {\n          val = this._state.value[handleIdx] + dir * this.options.step;\n        }\n        var percentage = this._toPercentage(val);\n        this._state.keyCtrl = handleIdx;\n        if (this.options.range) {\n          this._adjustPercentageForRangeSliders(percentage);\n          var val1 = !this._state.keyCtrl ? val : this._state.value[0];\n          var val2 = this._state.keyCtrl ? val : this._state.value[1];\n          // Restrict values within limits\n          val = [\n            Math.max(this.options.min, Math.min(this.options.max, val1)),\n            Math.max(this.options.min, Math.min(this.options.max, val2)),\n          ];\n        } else {\n          val = Math.max(this.options.min, Math.min(this.options.max, val));\n        }\n\n        this._trigger(\"slideStart\", val);\n\n        this.setValue(val, true, true);\n\n        this._trigger(\"slideStop\", val);\n\n        this._pauseEvent(ev);\n        delete this._state.keyCtrl;\n\n        return false;\n      },\n      _pauseEvent: function _pauseEvent(ev) {\n        if (ev.stopPropagation) {\n          ev.stopPropagation();\n        }\n        if (ev.preventDefault) {\n          ev.preventDefault();\n        }\n        ev.cancelBubble = true;\n        ev.returnValue = false;\n      },\n      _mousemove: function _mousemove(ev) {\n        if (!this._state.enabled) {\n          return false;\n        }\n\n        var percentage = this._getPercentage(ev);\n        this._adjustPercentageForRangeSliders(percentage);\n        this._state.percentage[this._state.dragged] = percentage;\n\n        var val = this._calculateValue(true);\n        this.setValue(val, true, true);\n\n        return false;\n      },\n      _touchmove: function _touchmove(ev) {\n        if (ev.changedTouches === undefined) {\n          return;\n        }\n\n        // Prevent page from scrolling and only drag the slider\n        if (ev.preventDefault) {\n          ev.preventDefault();\n        }\n      },\n      _adjustPercentageForRangeSliders: function _adjustPercentageForRangeSliders(\n        percentage\n      ) {\n        if (this.options.range) {\n          var precision = this._getNumDigitsAfterDecimalPlace(percentage);\n          precision = precision ? precision - 1 : 0;\n          var percentageWithAdjustedPrecision = this._applyToFixedAndParseFloat(\n            percentage,\n            precision\n          );\n          if (\n            this._state.dragged === 0 &&\n            this._applyToFixedAndParseFloat(\n              this._state.percentage[1],\n              precision\n            ) < percentageWithAdjustedPrecision\n          ) {\n            this._state.percentage[0] = this._state.percentage[1];\n            this._state.dragged = 1;\n          } else if (\n            this._state.dragged === 1 &&\n            this._applyToFixedAndParseFloat(\n              this._state.percentage[0],\n              precision\n            ) > percentageWithAdjustedPrecision\n          ) {\n            this._state.percentage[1] = this._state.percentage[0];\n            this._state.dragged = 0;\n          } else if (\n            this._state.keyCtrl === 0 &&\n            this._toPercentage(this._state.value[1]) < percentage\n          ) {\n            this._state.percentage[0] = this._state.percentage[1];\n            this._state.keyCtrl = 1;\n            this.handle2.focus();\n          } else if (\n            this._state.keyCtrl === 1 &&\n            this._toPercentage(this._state.value[0]) > percentage\n          ) {\n            this._state.percentage[1] = this._state.percentage[0];\n            this._state.keyCtrl = 0;\n            this.handle1.focus();\n          }\n        }\n      },\n      _mouseup: function _mouseup(ev) {\n        if (!this._state.enabled) {\n          return false;\n        }\n\n        var percentage = this._getPercentage(ev);\n        this._adjustPercentageForRangeSliders(percentage);\n        this._state.percentage[this._state.dragged] = percentage;\n\n        if (this.touchCapable) {\n          // Touch: Unbind touch event handlers:\n          document.removeEventListener(\"touchmove\", this.mousemove, false);\n          document.removeEventListener(\"touchend\", this.mouseup, false);\n        }\n        // Unbind mouse event handlers:\n        document.removeEventListener(\"mousemove\", this.mousemove, false);\n        document.removeEventListener(\"mouseup\", this.mouseup, false);\n\n        this._state.inDrag = false;\n        if (this._state.over === false) {\n          this._hideTooltip();\n        }\n        var val = this._calculateValue(true);\n\n        this.setValue(val, false, true);\n        this._trigger(\"slideStop\", val);\n\n        // No longer need 'dragged' after mouse up\n        this._state.dragged = null;\n\n        return false;\n      },\n      _setValues: function _setValues(index, val) {\n        var comp = 0 === index ? 0 : 100;\n        if (this._state.percentage[index] !== comp) {\n          val.data[index] = this._toValue(this._state.percentage[index]);\n          val.data[index] = this._applyPrecision(val.data[index]);\n        }\n      },\n      _calculateValue: function _calculateValue(snapToClosestTick) {\n        var val = {};\n        if (this.options.range) {\n          val.data = [this.options.min, this.options.max];\n          this._setValues(0, val);\n          this._setValues(1, val);\n          if (snapToClosestTick) {\n            val.data[0] = this._snapToClosestTick(val.data[0]);\n            val.data[1] = this._snapToClosestTick(val.data[1]);\n          }\n        } else {\n          val.data = this._toValue(this._state.percentage[0]);\n          val.data = parseFloat(val.data);\n          val.data = this._applyPrecision(val.data);\n          if (snapToClosestTick) {\n            val.data = this._snapToClosestTick(val.data);\n          }\n        }\n\n        return val.data;\n      },\n      _snapToClosestTick: function _snapToClosestTick(val) {\n        var min = [val, Infinity];\n        for (var i = 0; i < this.options.ticks.length; i++) {\n          var diff = Math.abs(this.options.ticks[i] - val);\n          if (diff <= min[1]) {\n            min = [this.options.ticks[i], diff];\n          }\n        }\n        if (min[1] <= this.options.ticks_snap_bounds) {\n          return min[0];\n        }\n        return val;\n      },\n\n      _applyPrecision: function _applyPrecision(val) {\n        var precision =\n          this.options.precision ||\n          this._getNumDigitsAfterDecimalPlace(this.options.step);\n        return this._applyToFixedAndParseFloat(val, precision);\n      },\n      _getNumDigitsAfterDecimalPlace: function _getNumDigitsAfterDecimalPlace(\n        num\n      ) {\n        var match = (\"\" + num).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n        if (!match) {\n          return 0;\n        }\n        return Math.max(\n          0,\n          (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0)\n        );\n      },\n      _applyToFixedAndParseFloat: function _applyToFixedAndParseFloat(\n        num,\n        toFixedInput\n      ) {\n        var truncatedNum = num.toFixed(toFixedInput);\n        return parseFloat(truncatedNum);\n      },\n      /*\n   \tCredits to Mike Samuel for the following method!\n   \tSource: http://stackoverflow.com/questions/10454518/javascript-how-to-retrieve-the-number-of-decimals-of-a-string-number\n   */\n      _getPercentage: function _getPercentage(ev) {\n        if (\n          this.touchCapable &&\n          (ev.type === \"touchstart\" ||\n            ev.type === \"touchmove\" ||\n            ev.type === \"touchend\")\n        ) {\n          ev = ev.changedTouches[0];\n        }\n\n        var eventPosition = ev[this.mousePos];\n        var sliderOffset = this._state.offset[this.stylePos];\n        var distanceToSlide = eventPosition - sliderOffset;\n        if (this.stylePos === \"right\") {\n          distanceToSlide = -distanceToSlide;\n        }\n        // Calculate what percent of the length the slider handle has slid\n        var percentage = (distanceToSlide / this._state.size) * 100;\n        percentage =\n          Math.round(percentage / this._state.percentage[2]) *\n          this._state.percentage[2];\n        if (this.options.reversed) {\n          percentage = 100 - percentage;\n        }\n\n        // Make sure the percent is within the bounds of the slider.\n        // 0% corresponds to the 'min' value of the slide\n        // 100% corresponds to the 'max' value of the slide\n        return Math.max(0, Math.min(100, percentage));\n      },\n      _validateInputValue: function _validateInputValue(val) {\n        if (!isNaN(+val)) {\n          return +val;\n        } else if (Array.isArray(val)) {\n          this._validateArray(val);\n          return val;\n        } else {\n          throw new Error(ErrorMsgs.formatInvalidInputErrorMsg(val));\n        }\n      },\n      _validateArray: function _validateArray(val) {\n        for (var i = 0; i < val.length; i++) {\n          var input = val[i];\n          if (typeof input !== \"number\") {\n            throw new Error(ErrorMsgs.formatInvalidInputErrorMsg(input));\n          }\n        }\n      },\n      _setDataVal: function _setDataVal(val) {\n        this.element.setAttribute(\"data-value\", val);\n        this.element.setAttribute(\"value\", val);\n        this.element.value = val;\n      },\n      _trigger: function _trigger(evt, val) {\n        val = val || val === 0 ? val : undefined;\n\n        var callbackFnArray = this.eventToCallbackMap[evt];\n        if (callbackFnArray && callbackFnArray.length) {\n          for (var i = 0; i < callbackFnArray.length; i++) {\n            var callbackFn = callbackFnArray[i];\n            callbackFn(val);\n          }\n        }\n\n        /* If JQuery exists, trigger JQuery events */\n        if ($) {\n          this._triggerJQueryEvent(evt, val);\n        }\n      },\n      _triggerJQueryEvent: function _triggerJQueryEvent(evt, val) {\n        var eventData = {\n          type: evt,\n          value: val,\n        };\n        this.$element.trigger(eventData);\n        this.$sliderElem.trigger(eventData);\n      },\n      _unbindJQueryEventHandlers: function _unbindJQueryEventHandlers() {\n        this.$element.off();\n        this.$sliderElem.off();\n      },\n      _setText: function _setText(element, text) {\n        if (typeof element.textContent !== \"undefined\") {\n          element.textContent = text;\n        } else if (typeof element.innerText !== \"undefined\") {\n          element.innerText = text;\n        }\n      },\n      _removeClass: function _removeClass(element, classString) {\n        var classes = classString.split(\" \");\n        var newClasses = element.className;\n\n        for (var i = 0; i < classes.length; i++) {\n          var classTag = classes[i];\n          var regex = new RegExp(\"(?:\\\\s|^)\" + classTag + \"(?:\\\\s|$)\");\n          newClasses = newClasses.replace(regex, \" \");\n        }\n\n        element.className = newClasses.trim();\n      },\n      _addClass: function _addClass(element, classString) {\n        var classes = classString.split(\" \");\n        var newClasses = element.className;\n\n        for (var i = 0; i < classes.length; i++) {\n          var classTag = classes[i];\n          var regex = new RegExp(\"(?:\\\\s|^)\" + classTag + \"(?:\\\\s|$)\");\n          var ifClassExists = regex.test(newClasses);\n\n          if (!ifClassExists) {\n            newClasses += \" \" + classTag;\n          }\n        }\n\n        element.className = newClasses.trim();\n      },\n      _offsetLeft: function _offsetLeft(obj) {\n        return obj.getBoundingClientRect().left;\n      },\n      _offsetRight: function _offsetRight(obj) {\n        return obj.getBoundingClientRect().right;\n      },\n      _offsetTop: function _offsetTop(obj) {\n        var offsetTop = obj.offsetTop;\n        while ((obj = obj.offsetParent) && !isNaN(obj.offsetTop)) {\n          offsetTop += obj.offsetTop;\n          if (obj.tagName !== \"BODY\") {\n            offsetTop -= obj.scrollTop;\n          }\n        }\n        return offsetTop;\n      },\n      _offset: function _offset(obj) {\n        return {\n          left: this._offsetLeft(obj),\n          right: this._offsetRight(obj),\n          top: this._offsetTop(obj),\n        };\n      },\n      _css: function _css(elementRef, styleName, value) {\n        if ($) {\n          $.style(elementRef, styleName, value);\n        } else {\n          var style = styleName\n            .replace(/^-ms-/, \"ms-\")\n            .replace(/-([\\da-z])/gi, function (all, letter) {\n              return letter.toUpperCase();\n            });\n          elementRef.style[style] = value;\n        }\n      },\n      _toValue: function _toValue(percentage) {\n        return this.options.scale.toValue.apply(this, [percentage]);\n      },\n      _toPercentage: function _toPercentage(value) {\n        return this.options.scale.toPercentage.apply(this, [value]);\n      },\n      _setTooltipPosition: function _setTooltipPosition() {\n        var tooltips = [this.tooltip, this.tooltip_min, this.tooltip_max];\n        if (this.options.orientation === \"vertical\") {\n          var tooltipPos;\n          if (this.options.tooltip_position) {\n            tooltipPos = this.options.tooltip_position;\n          } else {\n            if (this.options.rtl) {\n              tooltipPos = \"left\";\n            } else {\n              tooltipPos = \"right\";\n            }\n          }\n          var oppositeSide = tooltipPos === \"left\" ? \"right\" : \"left\";\n          tooltips.forEach(\n            function (tooltip) {\n              this._addClass(tooltip, tooltipPos);\n              tooltip.style[oppositeSide] = \"100%\";\n            }.bind(this)\n          );\n        } else if (this.options.tooltip_position === \"bottom\") {\n          tooltips.forEach(\n            function (tooltip) {\n              this._addClass(tooltip, \"bottom\");\n              tooltip.style.top = 22 + \"px\";\n            }.bind(this)\n          );\n        } else {\n          tooltips.forEach(\n            function (tooltip) {\n              this._addClass(tooltip, \"top\");\n              tooltip.style.top = -this.tooltip.outerHeight - 14 + \"px\";\n            }.bind(this)\n          );\n        }\n      },\n      _getClosestTickIndex: function _getClosestTickIndex(val) {\n        var difference = Math.abs(val - this.options.ticks[0]);\n        var index = 0;\n        for (var i = 0; i < this.options.ticks.length; ++i) {\n          var d = Math.abs(val - this.options.ticks[i]);\n          if (d < difference) {\n            difference = d;\n            index = i;\n          }\n        }\n        return index;\n      },\n      /**\n       * Attempts to find the index in `ticks[]` the slider values are set at.\n       * The indexes can be -1 to indicate the slider value is not set at a value in `ticks[]`.\n       */\n      _setTickIndex: function _setTickIndex() {\n        if (this.ticksAreValid) {\n          this._state.tickIndex = [\n            this.options.ticks.indexOf(this._state.value[0]),\n            this.options.ticks.indexOf(this._state.value[1]),\n          ];\n        }\n      },\n    };\n\n    /*********************************\n  \t\tAttach to global namespace\n  \t*********************************/\n    if ($ && $.fn) {\n      if (!$.fn.slider) {\n        $.bridget(NAMESPACE_MAIN, Slider);\n        autoRegisterNamespace = NAMESPACE_MAIN;\n      } else {\n        if (windowIsDefined) {\n          window.console.warn(\n            \"bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead.\"\n          );\n        }\n        autoRegisterNamespace = NAMESPACE_ALTERNATE;\n      }\n      $.bridget(NAMESPACE_ALTERNATE, Slider);\n\n      // Auto-Register data-provide=\"slider\" Elements\n      $(function () {\n        $(\"input[data-provide=slider]\")[autoRegisterNamespace]();\n      });\n    }\n  })($);\n\n  return Slider;\n});\n\n/* piexifjs\n\nThe MIT License (MIT)\n\nCopyright (c) 2014, 2015 hMatoba(https://github.com/hMatoba)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n(function () {\n    \"use strict\";\n    var that = {};\n    that.version = \"1.03\";\n\n    that.remove = function (jpeg) {\n        var b64 = false;\n        if (jpeg.slice(0, 2) == \"\\xff\\xd8\") {\n        } else if (jpeg.slice(0, 23) == \"data:image/jpeg;base64,\" || jpeg.slice(0, 22) == \"data:image/jpg;base64,\") {\n            jpeg = atob(jpeg.split(\",\")[1]);\n            b64 = true;\n        } else {\n            throw (\"Given data is not jpeg.\");\n        }\n        \n        var segments = splitIntoSegments(jpeg);\n        if (segments[1].slice(0, 2) == \"\\xff\\xe1\" && \n               segments[1].slice(4, 10) == \"Exif\\x00\\x00\") {\n            segments = [segments[0]].concat(segments.slice(2));\n        } else if (segments[2].slice(0, 2) == \"\\xff\\xe1\" &&\n                   segments[2].slice(4, 10) == \"Exif\\x00\\x00\") {\n            segments = segments.slice(0, 2).concat(segments.slice(3));\n        } else {\n            throw(\"Exif not found.\");\n        }\n        \n        var new_data = segments.join(\"\");\n        if (b64) {\n            new_data = \"data:image/jpeg;base64,\" + btoa(new_data);\n        }\n\n        return new_data;\n    };\n\n\n    that.insert = function (exif, jpeg) {\n        var b64 = false;\n        if (exif.slice(0, 6) != \"\\x45\\x78\\x69\\x66\\x00\\x00\") {\n            throw (\"Given data is not exif.\");\n        }\n        if (jpeg.slice(0, 2) == \"\\xff\\xd8\") {\n        } else if (jpeg.slice(0, 23) == \"data:image/jpeg;base64,\" || jpeg.slice(0, 22) == \"data:image/jpg;base64,\") {\n            jpeg = atob(jpeg.split(\",\")[1]);\n            b64 = true;\n        } else {\n            throw (\"Given data is not jpeg.\");\n        }\n\n        var exifStr = \"\\xff\\xe1\" + pack(\">H\", [exif.length + 2]) + exif;\n        var segments = splitIntoSegments(jpeg);\n        var new_data = mergeSegments(segments, exifStr);\n        if (b64) {\n            new_data = \"data:image/jpeg;base64,\" + btoa(new_data);\n        }\n\n        return new_data;\n    };\n\n\n    that.load = function (data) {\n        var input_data;\n        if (typeof (data) == \"string\") {\n            if (data.slice(0, 2) == \"\\xff\\xd8\") {\n                input_data = data;\n            } else if (data.slice(0, 23) == \"data:image/jpeg;base64,\" || data.slice(0, 22) == \"data:image/jpg;base64,\") {\n                input_data = atob(data.split(\",\")[1]);\n            } else if (data.slice(0, 4) == \"Exif\") {\n                input_data = data.slice(6);\n            } else {\n                throw (\"'load' gots invalid file data.\");\n            }\n        } else {\n            throw (\"'load' gots invalid type argument.\");\n        }\n\n        var exifDict = {};\n        var exif_dict = {\n            \"0th\": {},\n            \"Exif\": {},\n            \"GPS\": {},\n            \"Interop\": {},\n            \"1st\": {},\n            \"thumbnail\": null\n        };\n        var exifReader = new ExifReader(input_data);\n        if (exifReader.tiftag === null) {\n            return exif_dict;\n        }\n\n        if (exifReader.tiftag.slice(0, 2) == \"\\x49\\x49\") {\n            exifReader.endian_mark = \"<\";\n        } else {\n            exifReader.endian_mark = \">\";\n        }\n\n        var pointer = unpack(exifReader.endian_mark + \"L\",\n            exifReader.tiftag.slice(4, 8))[0];\n        exif_dict[\"0th\"] = exifReader.get_ifd(pointer, \"0th\");\n\n        var first_ifd_pointer = exif_dict[\"0th\"][\"first_ifd_pointer\"];\n        delete exif_dict[\"0th\"][\"first_ifd_pointer\"];\n\n        if (34665 in exif_dict[\"0th\"]) {\n            pointer = exif_dict[\"0th\"][34665];\n            exif_dict[\"Exif\"] = exifReader.get_ifd(pointer, \"Exif\");\n        }\n        if (34853 in exif_dict[\"0th\"]) {\n            pointer = exif_dict[\"0th\"][34853];\n            exif_dict[\"GPS\"] = exifReader.get_ifd(pointer, \"GPS\");\n        }\n        if (40965 in exif_dict[\"Exif\"]) {\n            pointer = exif_dict[\"Exif\"][40965];\n            exif_dict[\"Interop\"] = exifReader.get_ifd(pointer, \"Interop\");\n        }\n        if (first_ifd_pointer != \"\\x00\\x00\\x00\\x00\") {\n            pointer = unpack(exifReader.endian_mark + \"L\",\n                first_ifd_pointer)[0];\n            exif_dict[\"1st\"] = exifReader.get_ifd(pointer, \"1st\");\n            if ((513 in exif_dict[\"1st\"]) && (514 in exif_dict[\"1st\"])) {\n                var end = exif_dict[\"1st\"][513] + exif_dict[\"1st\"][514];\n                var thumb = exifReader.tiftag.slice(exif_dict[\"1st\"][513], end);\n                exif_dict[\"thumbnail\"] = thumb;\n            }\n        }\n\n        return exif_dict;\n    };\n\n\n    that.dump = function (exif_dict_original) {\n        var TIFF_HEADER_LENGTH = 8;\n\n        var exif_dict = copy(exif_dict_original);\n        var header = \"Exif\\x00\\x00\\x4d\\x4d\\x00\\x2a\\x00\\x00\\x00\\x08\";\n        var exif_is = false;\n        var gps_is = false;\n        var interop_is = false;\n        var first_is = false;\n\n        var zeroth_ifd,\n            exif_ifd,\n            interop_ifd,\n            gps_ifd,\n            first_ifd;\n        \n        if (\"0th\" in exif_dict) {\n            zeroth_ifd = exif_dict[\"0th\"];\n        } else {\n            zeroth_ifd = {};\n        }\n        \n        if (((\"Exif\" in exif_dict) && (Object.keys(exif_dict[\"Exif\"]).length)) ||\n            ((\"Interop\" in exif_dict) && (Object.keys(exif_dict[\"Interop\"]).length))) {\n            zeroth_ifd[34665] = 1;\n            exif_is = true;\n            exif_ifd = exif_dict[\"Exif\"];\n            if ((\"Interop\" in exif_dict) && Object.keys(exif_dict[\"Interop\"]).length) {\n                exif_ifd[40965] = 1;\n                interop_is = true;\n                interop_ifd = exif_dict[\"Interop\"];\n            } else if (Object.keys(exif_ifd).indexOf(that.ExifIFD.InteroperabilityTag.toString()) > -1) {\n                delete exif_ifd[40965];\n            }\n        } else if (Object.keys(zeroth_ifd).indexOf(that.ImageIFD.ExifTag.toString()) > -1) {\n            delete zeroth_ifd[34665];\n        }\n\n        if ((\"GPS\" in exif_dict) && (Object.keys(exif_dict[\"GPS\"]).length)) {\n            zeroth_ifd[that.ImageIFD.GPSTag] = 1;\n            gps_is = true;\n            gps_ifd = exif_dict[\"GPS\"];\n        } else if (Object.keys(zeroth_ifd).indexOf(that.ImageIFD.GPSTag.toString()) > -1) {\n            delete zeroth_ifd[that.ImageIFD.GPSTag];\n        }\n        \n        if ((\"1st\" in exif_dict) &&\n            (\"thumbnail\" in exif_dict) &&\n            (exif_dict[\"thumbnail\"] != null)) {\n            first_is = true;\n            exif_dict[\"1st\"][513] = 1;\n            exif_dict[\"1st\"][514] = 1;\n            first_ifd = exif_dict[\"1st\"];\n        }\n        \n        var zeroth_set = _dict_to_bytes(zeroth_ifd, \"0th\", 0);\n        var zeroth_length = (zeroth_set[0].length + exif_is * 12 + gps_is * 12 + 4 +\n            zeroth_set[1].length);\n\n        var exif_set,\n            exif_bytes = \"\",\n            exif_length = 0,\n            gps_set,\n            gps_bytes = \"\",\n            gps_length = 0,\n            interop_set,\n            interop_bytes = \"\",\n            interop_length = 0,\n            first_set,\n            first_bytes = \"\",\n            thumbnail;\n        if (exif_is) {\n            exif_set = _dict_to_bytes(exif_ifd, \"Exif\", zeroth_length);\n            exif_length = exif_set[0].length + interop_is * 12 + exif_set[1].length;\n        }\n        if (gps_is) {\n            gps_set = _dict_to_bytes(gps_ifd, \"GPS\", zeroth_length + exif_length);\n            gps_bytes = gps_set.join(\"\");\n            gps_length = gps_bytes.length;\n        }\n        if (interop_is) {\n            var offset = zeroth_length + exif_length + gps_length;\n            interop_set = _dict_to_bytes(interop_ifd, \"Interop\", offset);\n            interop_bytes = interop_set.join(\"\");\n            interop_length = interop_bytes.length;\n        }\n        if (first_is) {\n            var offset = zeroth_length + exif_length + gps_length + interop_length;\n            first_set = _dict_to_bytes(first_ifd, \"1st\", offset);\n            thumbnail = _get_thumbnail(exif_dict[\"thumbnail\"]);\n            if (thumbnail.length > 64000) {\n                throw (\"Given thumbnail is too large. max 64kB\");\n            }\n        }\n\n        var exif_pointer = \"\",\n            gps_pointer = \"\",\n            interop_pointer = \"\",\n            first_ifd_pointer = \"\\x00\\x00\\x00\\x00\";\n        if (exif_is) {\n            var pointer_value = TIFF_HEADER_LENGTH + zeroth_length;\n            var pointer_str = pack(\">L\", [pointer_value]);\n            var key = 34665;\n            var key_str = pack(\">H\", [key]);\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\n            var length_str = pack(\">L\", [1]);\n            exif_pointer = key_str + type_str + length_str + pointer_str;\n        }\n        if (gps_is) {\n            var pointer_value = TIFF_HEADER_LENGTH + zeroth_length + exif_length;\n            var pointer_str = pack(\">L\", [pointer_value]);\n            var key = 34853;\n            var key_str = pack(\">H\", [key]);\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\n            var length_str = pack(\">L\", [1]);\n            gps_pointer = key_str + type_str + length_str + pointer_str;\n        }\n        if (interop_is) {\n            var pointer_value = (TIFF_HEADER_LENGTH +\n                zeroth_length + exif_length + gps_length);\n            var pointer_str = pack(\">L\", [pointer_value]);\n            var key = 40965;\n            var key_str = pack(\">H\", [key]);\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\n            var length_str = pack(\">L\", [1]);\n            interop_pointer = key_str + type_str + length_str + pointer_str;\n        }\n        if (first_is) {\n            var pointer_value = (TIFF_HEADER_LENGTH + zeroth_length +\n                exif_length + gps_length + interop_length);\n            first_ifd_pointer = pack(\">L\", [pointer_value]);\n            var thumbnail_pointer = (pointer_value + first_set[0].length + 24 +\n                4 + first_set[1].length);\n            var thumbnail_p_bytes = (\"\\x02\\x01\\x00\\x04\\x00\\x00\\x00\\x01\" +\n                pack(\">L\", [thumbnail_pointer]));\n            var thumbnail_length_bytes = (\"\\x02\\x02\\x00\\x04\\x00\\x00\\x00\\x01\" +\n                pack(\">L\", [thumbnail.length]));\n            first_bytes = (first_set[0] + thumbnail_p_bytes +\n                thumbnail_length_bytes + \"\\x00\\x00\\x00\\x00\" +\n                first_set[1] + thumbnail);\n        }\n\n        var zeroth_bytes = (zeroth_set[0] + exif_pointer + gps_pointer +\n            first_ifd_pointer + zeroth_set[1]);\n        if (exif_is) {\n            exif_bytes = exif_set[0] + interop_pointer + exif_set[1];\n        }\n\n        return (header + zeroth_bytes + exif_bytes + gps_bytes +\n            interop_bytes + first_bytes);\n    };\n\n\n    function copy(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    }\n\n\n    function _get_thumbnail(jpeg) {\n        var segments = splitIntoSegments(jpeg);\n        while ((\"\\xff\\xe0\" <= segments[1].slice(0, 2)) && (segments[1].slice(0, 2) <= \"\\xff\\xef\")) {\n            segments = [segments[0]].concat(segments.slice(2));\n        }\n        return segments.join(\"\");\n    }\n\n\n    function _pack_byte(array) {\n        return pack(\">\" + nStr(\"B\", array.length), array);\n    }\n\n\n    function _pack_short(array) {\n        return pack(\">\" + nStr(\"H\", array.length), array);\n    }\n\n\n    function _pack_long(array) {\n        return pack(\">\" + nStr(\"L\", array.length), array);\n    }\n\n\n    function _value_to_bytes(raw_value, value_type, offset) {\n        var four_bytes_over = \"\";\n        var value_str = \"\";\n        var length,\n            new_value,\n            num,\n            den;\n\n        if (value_type == \"Byte\") {\n            length = raw_value.length;\n            if (length <= 4) {\n                value_str = (_pack_byte(raw_value) +\n                    nStr(\"\\x00\", 4 - length));\n            } else {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = _pack_byte(raw_value);\n            }\n        } else if (value_type == \"Short\") {\n            length = raw_value.length;\n            if (length <= 2) {\n                value_str = (_pack_short(raw_value) +\n                    nStr(\"\\x00\\x00\", 2 - length));\n            } else {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = _pack_short(raw_value);\n            }\n        } else if (value_type == \"Long\") {\n            length = raw_value.length;\n            if (length <= 1) {\n                value_str = _pack_long(raw_value);\n            } else {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = _pack_long(raw_value);\n            }\n        } else if (value_type == \"Ascii\") {\n            new_value = raw_value + \"\\x00\";\n            length = new_value.length;\n            if (length > 4) {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = new_value;\n            } else {\n                value_str = new_value + nStr(\"\\x00\", 4 - length);\n            }\n        } else if (value_type == \"Rational\") {\n            if (typeof (raw_value[0]) == \"number\") {\n                length = 1;\n                num = raw_value[0];\n                den = raw_value[1];\n                new_value = pack(\">L\", [num]) + pack(\">L\", [den]);\n            } else {\n                length = raw_value.length;\n                new_value = \"\";\n                for (var n = 0; n < length; n++) {\n                    num = raw_value[n][0];\n                    den = raw_value[n][1];\n                    new_value += (pack(\">L\", [num]) +\n                        pack(\">L\", [den]));\n                }\n            }\n            value_str = pack(\">L\", [offset]);\n            four_bytes_over = new_value;\n        } else if (value_type == \"SRational\") {\n            if (typeof (raw_value[0]) == \"number\") {\n                length = 1;\n                num = raw_value[0];\n                den = raw_value[1];\n                new_value = pack(\">l\", [num]) + pack(\">l\", [den]);\n            } else {\n                length = raw_value.length;\n                new_value = \"\";\n                for (var n = 0; n < length; n++) {\n                    num = raw_value[n][0];\n                    den = raw_value[n][1];\n                    new_value += (pack(\">l\", [num]) +\n                        pack(\">l\", [den]));\n                }\n            }\n            value_str = pack(\">L\", [offset]);\n            four_bytes_over = new_value;\n        } else if (value_type == \"Undefined\") {\n            length = raw_value.length;\n            if (length > 4) {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = raw_value;\n            } else {\n                value_str = raw_value + nStr(\"\\x00\", 4 - length);\n            }\n        }\n\n        var length_str = pack(\">L\", [length]);\n\n        return [length_str, value_str, four_bytes_over];\n    }\n\n    function _dict_to_bytes(ifd_dict, ifd, ifd_offset) {\n        var TIFF_HEADER_LENGTH = 8;\n        var tag_count = Object.keys(ifd_dict).length;\n        var entry_header = pack(\">H\", [tag_count]);\n        var entries_length;\n        if ([\"0th\", \"1st\"].indexOf(ifd) > -1) {\n            entries_length = 2 + tag_count * 12 + 4;\n        } else {\n            entries_length = 2 + tag_count * 12;\n        }\n        var entries = \"\";\n        var values = \"\";\n        var key;\n\n        for (var key in ifd_dict) {\n            if (typeof (key) == \"string\") {\n                key = parseInt(key);\n            }\n            if ((ifd == \"0th\") && ([34665, 34853].indexOf(key) > -1)) {\n                continue;\n            } else if ((ifd == \"Exif\") && (key == 40965)) {\n                continue;\n            } else if ((ifd == \"1st\") && ([513, 514].indexOf(key) > -1)) {\n                continue;\n            }\n\n            var raw_value = ifd_dict[key];\n            var key_str = pack(\">H\", [key]);\n            var value_type = TAGS[ifd][key][\"type\"];\n            var type_str = pack(\">H\", [TYPES[value_type]]);\n\n            if (typeof (raw_value) == \"number\") {\n                raw_value = [raw_value];\n            }\n            var offset = TIFF_HEADER_LENGTH + entries_length + ifd_offset + values.length;\n            var b = _value_to_bytes(raw_value, value_type, offset);\n            var length_str = b[0];\n            var value_str = b[1];\n            var four_bytes_over = b[2];\n\n            entries += key_str + type_str + length_str + value_str;\n            values += four_bytes_over;\n        }\n\n        return [entry_header + entries, values];\n    }\n\n\n\n    function ExifReader(data) {\n        var segments,\n            app1;\n        if (data.slice(0, 2) == \"\\xff\\xd8\") { // JPEG\n            segments = splitIntoSegments(data);\n            app1 = getExifSeg(segments);\n            if (app1) {\n                this.tiftag = app1.slice(10);\n            } else {\n                this.tiftag = null;\n            }\n        } else if ([\"\\x49\\x49\", \"\\x4d\\x4d\"].indexOf(data.slice(0, 2)) > -1) { // TIFF\n            this.tiftag = data;\n        } else if (data.slice(0, 4) == \"Exif\") { // Exif\n            this.tiftag = data.slice(6);\n        } else {\n            throw (\"Given file is neither JPEG nor TIFF.\");\n        }\n    }\n\n    ExifReader.prototype = {\n        get_ifd: function (pointer, ifd_name) {\n            var ifd_dict = {};\n            var tag_count = unpack(this.endian_mark + \"H\",\n                this.tiftag.slice(pointer, pointer + 2))[0];\n            var offset = pointer + 2;\n            var t;\n            if ([\"0th\", \"1st\"].indexOf(ifd_name) > -1) {\n                t = \"Image\";\n            } else {\n                t = ifd_name;\n            }\n\n            for (var x = 0; x < tag_count; x++) {\n                pointer = offset + 12 * x;\n                var tag = unpack(this.endian_mark + \"H\",\n                    this.tiftag.slice(pointer, pointer + 2))[0];\n                var value_type = unpack(this.endian_mark + \"H\",\n                    this.tiftag.slice(pointer + 2, pointer + 4))[0];\n                var value_num = unpack(this.endian_mark + \"L\",\n                    this.tiftag.slice(pointer + 4, pointer + 8))[0];\n                var value = this.tiftag.slice(pointer + 8, pointer + 12);\n\n                var v_set = [value_type, value_num, value];\n                if (tag in TAGS[t]) {\n                    ifd_dict[tag] = this.convert_value(v_set);\n                }\n            }\n\n            if (ifd_name == \"0th\") {\n                pointer = offset + 12 * tag_count;\n                ifd_dict[\"first_ifd_pointer\"] = this.tiftag.slice(pointer, pointer + 4);\n            }\n\n            return ifd_dict;\n        },\n\n        convert_value: function (val) {\n            var data = null;\n            var t = val[0];\n            var length = val[1];\n            var value = val[2];\n            var pointer;\n\n            if (t == 1) { // BYTE\n                if (length > 4) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = unpack(this.endian_mark + nStr(\"B\", length),\n                        this.tiftag.slice(pointer, pointer + length));\n                } else {\n                    data = unpack(this.endian_mark + nStr(\"B\", length), value.slice(0, length));\n                }\n            } else if (t == 2) { // ASCII\n                if (length > 4) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = this.tiftag.slice(pointer, pointer + length - 1);\n                } else {\n                    data = value.slice(0, length - 1);\n                }\n            } else if (t == 3) { // SHORT\n                if (length > 2) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = unpack(this.endian_mark + nStr(\"H\", length),\n                        this.tiftag.slice(pointer, pointer + length * 2));\n                } else {\n                    data = unpack(this.endian_mark + nStr(\"H\", length),\n                        value.slice(0, length * 2));\n                }\n            } else if (t == 4) { // LONG\n                if (length > 1) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = unpack(this.endian_mark + nStr(\"L\", length),\n                        this.tiftag.slice(pointer, pointer + length * 4));\n                } else {\n                    data = unpack(this.endian_mark + nStr(\"L\", length),\n                        value);\n                }\n            } else if (t == 5) { // RATIONAL\n                pointer = unpack(this.endian_mark + \"L\", value)[0];\n                if (length > 1) {\n                    data = [];\n                    for (var x = 0; x < length; x++) {\n                        data.push([unpack(this.endian_mark + \"L\",\n                                this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\n                                   unpack(this.endian_mark + \"L\",\n                                this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\n                                   ]);\n                    }\n                } else {\n                    data = [unpack(this.endian_mark + \"L\",\n                            this.tiftag.slice(pointer, pointer + 4))[0],\n                            unpack(this.endian_mark + \"L\",\n                            this.tiftag.slice(pointer + 4, pointer + 8))[0]\n                            ];\n                }\n            } else if (t == 7) { // UNDEFINED BYTES\n                if (length > 4) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = this.tiftag.slice(pointer, pointer + length);\n                } else {\n                    data = value.slice(0, length);\n                }\n            } else if (t == 10) { // SRATIONAL\n                pointer = unpack(this.endian_mark + \"L\", value)[0];\n                if (length > 1) {\n                    data = [];\n                    for (var x = 0; x < length; x++) {\n                        data.push([unpack(this.endian_mark + \"l\",\n                                this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\n                                   unpack(this.endian_mark + \"l\",\n                                this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\n                                  ]);\n                    }\n                } else {\n                    data = [unpack(this.endian_mark + \"l\",\n                            this.tiftag.slice(pointer, pointer + 4))[0],\n                            unpack(this.endian_mark + \"l\",\n                            this.tiftag.slice(pointer + 4, pointer + 8))[0]\n                           ];\n                }\n            } else {\n                throw (\"Exif might be wrong. Got incorrect value \" +\n                    \"type to decode. type:\" + t);\n            }\n\n            if ((data instanceof Array) && (data.length == 1)) {\n                return data[0];\n            } else {\n                return data;\n            }\n        },\n    };\n\n\n    if (typeof window !== \"undefined\" && typeof window.btoa === \"function\") {\n        var btoa = window.btoa;\n    }\n    if (typeof btoa === \"undefined\") {\n        var btoa = function (input) {        var output = \"\";\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n            while (i < input.length) {\n\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n\n                enc1 = chr1 >> 2;\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n                enc4 = chr3 & 63;\n\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n\n                output = output +\n                keyStr.charAt(enc1) + keyStr.charAt(enc2) +\n                keyStr.charAt(enc3) + keyStr.charAt(enc4);\n\n            }\n\n            return output;\n        };\n    }\n    \n    \n    if (typeof window !== \"undefined\" && typeof window.atob === \"function\") {\n        var atob = window.atob;\n    }\n    if (typeof atob === \"undefined\") {\n        var atob = function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3;\n            var enc1, enc2, enc3, enc4;\n            var i = 0;\n            var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n            while (i < input.length) {\n\n                enc1 = keyStr.indexOf(input.charAt(i++));\n                enc2 = keyStr.indexOf(input.charAt(i++));\n                enc3 = keyStr.indexOf(input.charAt(i++));\n                enc4 = keyStr.indexOf(input.charAt(i++));\n\n                chr1 = (enc1 << 2) | (enc2 >> 4);\n                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n                chr3 = ((enc3 & 3) << 6) | enc4;\n\n                output = output + String.fromCharCode(chr1);\n\n                if (enc3 != 64) {\n                    output = output + String.fromCharCode(chr2);\n                }\n                if (enc4 != 64) {\n                    output = output + String.fromCharCode(chr3);\n                }\n\n            }\n\n            return output;\n        };\n    }\n\n\n    function getImageSize(imageArray) {\n        var segments = slice2Segments(imageArray);\n        var seg,\n            width,\n            height,\n            SOF = [192, 193, 194, 195, 197, 198, 199, 201, 202, 203, 205, 206, 207];\n\n        for (var x = 0; x < segments.length; x++) {\n            seg = segments[x];\n            if (SOF.indexOf(seg[1]) >= 0) {\n                height = seg[5] * 256 + seg[6];\n                width = seg[7] * 256 + seg[8];\n                break;\n            }\n        }\n        return [width, height];\n    }\n\n\n    function pack(mark, array) {\n        if (!(array instanceof Array)) {\n            throw (\"'pack' error. Got invalid type argument.\");\n        }\n        if ((mark.length - 1) != array.length) {\n            throw (\"'pack' error. \" + (mark.length - 1) + \" marks, \" + array.length + \" elements.\");\n        }\n\n        var littleEndian;\n        if (mark[0] == \"<\") {\n            littleEndian = true;\n        } else if (mark[0] == \">\") {\n            littleEndian = false;\n        } else {\n            throw (\"\");\n        }\n        var packed = \"\";\n        var p = 1;\n        var val = null;\n        var c = null;\n        var valStr = null;\n\n        while (c = mark[p]) {\n            if (c.toLowerCase() == \"b\") {\n                val = array[p - 1];\n                if ((c == \"b\") && (val < 0)) {\n                    val += 0x100;\n                }\n                if ((val > 0xff) || (val < 0)) {\n                    throw (\"'pack' error.\");\n                } else {\n                    valStr = String.fromCharCode(val);\n                }\n            } else if (c == \"H\") {\n                val = array[p - 1];\n                if ((val > 0xffff) || (val < 0)) {\n                    throw (\"'pack' error.\");\n                } else {\n                    valStr = String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\n                        String.fromCharCode(val % 0x100);\n                    if (littleEndian) {\n                        valStr = valStr.split(\"\").reverse().join(\"\");\n                    }\n                }\n            } else if (c.toLowerCase() == \"l\") {\n                val = array[p - 1];\n                if ((c == \"l\") && (val < 0)) {\n                    val += 0x100000000;\n                }\n                if ((val > 0xffffffff) || (val < 0)) {\n                    throw (\"'pack' error.\");\n                } else {\n                    valStr = String.fromCharCode(Math.floor(val / 0x1000000)) +\n                        String.fromCharCode(Math.floor((val % 0x1000000) / 0x10000)) +\n                        String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\n                        String.fromCharCode(val % 0x100);\n                    if (littleEndian) {\n                        valStr = valStr.split(\"\").reverse().join(\"\");\n                    }\n                }\n            } else {\n                throw (\"'pack' error.\");\n            }\n\n            packed += valStr;\n            p += 1;\n        }\n\n        return packed;\n    }\n\n    function unpack(mark, str) {\n        if (typeof (str) != \"string\") {\n            throw (\"'unpack' error. Got invalid type argument.\");\n        }\n        var l = 0;\n        for (var markPointer = 1; markPointer < mark.length; markPointer++) {\n            if (mark[markPointer].toLowerCase() == \"b\") {\n                l += 1;\n            } else if (mark[markPointer].toLowerCase() == \"h\") {\n                l += 2;\n            } else if (mark[markPointer].toLowerCase() == \"l\") {\n                l += 4;\n            } else {\n                throw (\"'unpack' error. Got invalid mark.\");\n            }\n        }\n\n        if (l != str.length) {\n            throw (\"'unpack' error. Mismatch between symbol and string length. \" + l + \":\" + str.length);\n        }\n\n        var littleEndian;\n        if (mark[0] == \"<\") {\n            littleEndian = true;\n        } else if (mark[0] == \">\") {\n            littleEndian = false;\n        } else {\n            throw (\"'unpack' error.\");\n        }\n        var unpacked = [];\n        var strPointer = 0;\n        var p = 1;\n        var val = null;\n        var c = null;\n        var length = null;\n        var sliced = \"\";\n\n        while (c = mark[p]) {\n            if (c.toLowerCase() == \"b\") {\n                length = 1;\n                sliced = str.slice(strPointer, strPointer + length);\n                val = sliced.charCodeAt(0);\n                if ((c == \"b\") && (val >= 0x80)) {\n                    val -= 0x100;\n                }\n            } else if (c == \"H\") {\n                length = 2;\n                sliced = str.slice(strPointer, strPointer + length);\n                if (littleEndian) {\n                    sliced = sliced.split(\"\").reverse().join(\"\");\n                }\n                val = sliced.charCodeAt(0) * 0x100 +\n                    sliced.charCodeAt(1);\n            } else if (c.toLowerCase() == \"l\") {\n                length = 4;\n                sliced = str.slice(strPointer, strPointer + length);\n                if (littleEndian) {\n                    sliced = sliced.split(\"\").reverse().join(\"\");\n                }\n                val = sliced.charCodeAt(0) * 0x1000000 +\n                    sliced.charCodeAt(1) * 0x10000 +\n                    sliced.charCodeAt(2) * 0x100 +\n                    sliced.charCodeAt(3);\n                if ((c == \"l\") && (val >= 0x80000000)) {\n                    val -= 0x100000000;\n                }\n            } else {\n                throw (\"'unpack' error. \" + c);\n            }\n\n            unpacked.push(val);\n            strPointer += length;\n            p += 1;\n        }\n\n        return unpacked;\n    }\n\n    function nStr(ch, num) {\n        var str = \"\";\n        for (var i = 0; i < num; i++) {\n            str += ch;\n        }\n        return str;\n    }\n\n    function splitIntoSegments(data) {\n        if (data.slice(0, 2) != \"\\xff\\xd8\") {\n            throw (\"Given data isn't JPEG.\");\n        }\n\n        var head = 2;\n        var segments = [\"\\xff\\xd8\"];\n        while (true) {\n            if (data.slice(head, head + 2) == \"\\xff\\xda\") {\n                segments.push(data.slice(head));\n                break;\n            } else {\n                var length = unpack(\">H\", data.slice(head + 2, head + 4))[0];\n                var endPoint = head + length + 2;\n                segments.push(data.slice(head, endPoint));\n                head = endPoint;\n            }\n\n            if (head >= data.length) {\n                throw (\"Wrong JPEG data.\");\n            }\n        }\n        return segments;\n    }\n\n\n    function getExifSeg(segments) {\n        var seg;\n        for (var i = 0; i < segments.length; i++) {\n            seg = segments[i];\n            if (seg.slice(0, 2) == \"\\xff\\xe1\" &&\n                   seg.slice(4, 10) == \"Exif\\x00\\x00\") {\n                return seg;\n            }\n        }\n        return null;\n    }\n\n\n    function mergeSegments(segments, exif) {\n        \n        if (segments[1].slice(0, 2) == \"\\xff\\xe0\" &&\n            (segments[2].slice(0, 2) == \"\\xff\\xe1\" &&\n             segments[2].slice(4, 10) == \"Exif\\x00\\x00\")) {\n            if (exif) {\n                segments[2] = exif;\n                segments = [\"\\xff\\xd8\"].concat(segments.slice(2));\n            } else if (exif == null) {\n                segments = segments.slice(0, 2).concat(segments.slice(3));\n            } else {\n                segments = segments.slice(0).concat(segments.slice(2));\n            }\n        } else if (segments[1].slice(0, 2) == \"\\xff\\xe0\") {\n            if (exif) {\n                segments[1] = exif;\n            }\n        } else if (segments[1].slice(0, 2) == \"\\xff\\xe1\" &&\n                   segments[1].slice(4, 10) == \"Exif\\x00\\x00\") {\n            if (exif) {\n                segments[1] = exif;\n            } else if (exif == null) {\n                segments = segments.slice(0).concat(segments.slice(2));\n            }\n        } else {\n            if (exif) {\n                segments = [segments[0], exif].concat(segments.slice(1));\n            }\n        }\n        \n        return segments.join(\"\");\n    }\n\n\n    function toHex(str) {\n        var hexStr = \"\";\n        for (var i = 0; i < str.length; i++) {\n            var h = str.charCodeAt(i);\n            var hex = ((h < 10) ? \"0\" : \"\") + h.toString(16);\n            hexStr += hex + \" \";\n        }\n        return hexStr;\n    }\n\n\n    var TYPES = {\n        \"Byte\": 1,\n        \"Ascii\": 2,\n        \"Short\": 3,\n        \"Long\": 4,\n        \"Rational\": 5,\n        \"Undefined\": 7,\n        \"SLong\": 9,\n        \"SRational\": 10\n    };\n\n\n    var TAGS = {\n        'Image': {\n            11: {\n                'name': 'ProcessingSoftware',\n                'type': 'Ascii'\n            },\n            254: {\n                'name': 'NewSubfileType',\n                'type': 'Long'\n            },\n            255: {\n                'name': 'SubfileType',\n                'type': 'Short'\n            },\n            256: {\n                'name': 'ImageWidth',\n                'type': 'Long'\n            },\n            257: {\n                'name': 'ImageLength',\n                'type': 'Long'\n            },\n            258: {\n                'name': 'BitsPerSample',\n                'type': 'Short'\n            },\n            259: {\n                'name': 'Compression',\n                'type': 'Short'\n            },\n            262: {\n                'name': 'PhotometricInterpretation',\n                'type': 'Short'\n            },\n            263: {\n                'name': 'Threshholding',\n                'type': 'Short'\n            },\n            264: {\n                'name': 'CellWidth',\n                'type': 'Short'\n            },\n            265: {\n                'name': 'CellLength',\n                'type': 'Short'\n            },\n            266: {\n                'name': 'FillOrder',\n                'type': 'Short'\n            },\n            269: {\n                'name': 'DocumentName',\n                'type': 'Ascii'\n            },\n            270: {\n                'name': 'ImageDescription',\n                'type': 'Ascii'\n            },\n            271: {\n                'name': 'Make',\n                'type': 'Ascii'\n            },\n            272: {\n                'name': 'Model',\n                'type': 'Ascii'\n            },\n            273: {\n                'name': 'StripOffsets',\n                'type': 'Long'\n            },\n            274: {\n                'name': 'Orientation',\n                'type': 'Short'\n            },\n            277: {\n                'name': 'SamplesPerPixel',\n                'type': 'Short'\n            },\n            278: {\n                'name': 'RowsPerStrip',\n                'type': 'Long'\n            },\n            279: {\n                'name': 'StripByteCounts',\n                'type': 'Long'\n            },\n            282: {\n                'name': 'XResolution',\n                'type': 'Rational'\n            },\n            283: {\n                'name': 'YResolution',\n                'type': 'Rational'\n            },\n            284: {\n                'name': 'PlanarConfiguration',\n                'type': 'Short'\n            },\n            290: {\n                'name': 'GrayResponseUnit',\n                'type': 'Short'\n            },\n            291: {\n                'name': 'GrayResponseCurve',\n                'type': 'Short'\n            },\n            292: {\n                'name': 'T4Options',\n                'type': 'Long'\n            },\n            293: {\n                'name': 'T6Options',\n                'type': 'Long'\n            },\n            296: {\n                'name': 'ResolutionUnit',\n                'type': 'Short'\n            },\n            301: {\n                'name': 'TransferFunction',\n                'type': 'Short'\n            },\n            305: {\n                'name': 'Software',\n                'type': 'Ascii'\n            },\n            306: {\n                'name': 'DateTime',\n                'type': 'Ascii'\n            },\n            315: {\n                'name': 'Artist',\n                'type': 'Ascii'\n            },\n            316: {\n                'name': 'HostComputer',\n                'type': 'Ascii'\n            },\n            317: {\n                'name': 'Predictor',\n                'type': 'Short'\n            },\n            318: {\n                'name': 'WhitePoint',\n                'type': 'Rational'\n            },\n            319: {\n                'name': 'PrimaryChromaticities',\n                'type': 'Rational'\n            },\n            320: {\n                'name': 'ColorMap',\n                'type': 'Short'\n            },\n            321: {\n                'name': 'HalftoneHints',\n                'type': 'Short'\n            },\n            322: {\n                'name': 'TileWidth',\n                'type': 'Short'\n            },\n            323: {\n                'name': 'TileLength',\n                'type': 'Short'\n            },\n            324: {\n                'name': 'TileOffsets',\n                'type': 'Short'\n            },\n            325: {\n                'name': 'TileByteCounts',\n                'type': 'Short'\n            },\n            330: {\n                'name': 'SubIFDs',\n                'type': 'Long'\n            },\n            332: {\n                'name': 'InkSet',\n                'type': 'Short'\n            },\n            333: {\n                'name': 'InkNames',\n                'type': 'Ascii'\n            },\n            334: {\n                'name': 'NumberOfInks',\n                'type': 'Short'\n            },\n            336: {\n                'name': 'DotRange',\n                'type': 'Byte'\n            },\n            337: {\n                'name': 'TargetPrinter',\n                'type': 'Ascii'\n            },\n            338: {\n                'name': 'ExtraSamples',\n                'type': 'Short'\n            },\n            339: {\n                'name': 'SampleFormat',\n                'type': 'Short'\n            },\n            340: {\n                'name': 'SMinSampleValue',\n                'type': 'Short'\n            },\n            341: {\n                'name': 'SMaxSampleValue',\n                'type': 'Short'\n            },\n            342: {\n                'name': 'TransferRange',\n                'type': 'Short'\n            },\n            343: {\n                'name': 'ClipPath',\n                'type': 'Byte'\n            },\n            344: {\n                'name': 'XClipPathUnits',\n                'type': 'Long'\n            },\n            345: {\n                'name': 'YClipPathUnits',\n                'type': 'Long'\n            },\n            346: {\n                'name': 'Indexed',\n                'type': 'Short'\n            },\n            347: {\n                'name': 'JPEGTables',\n                'type': 'Undefined'\n            },\n            351: {\n                'name': 'OPIProxy',\n                'type': 'Short'\n            },\n            512: {\n                'name': 'JPEGProc',\n                'type': 'Long'\n            },\n            513: {\n                'name': 'JPEGInterchangeFormat',\n                'type': 'Long'\n            },\n            514: {\n                'name': 'JPEGInterchangeFormatLength',\n                'type': 'Long'\n            },\n            515: {\n                'name': 'JPEGRestartInterval',\n                'type': 'Short'\n            },\n            517: {\n                'name': 'JPEGLosslessPredictors',\n                'type': 'Short'\n            },\n            518: {\n                'name': 'JPEGPointTransforms',\n                'type': 'Short'\n            },\n            519: {\n                'name': 'JPEGQTables',\n                'type': 'Long'\n            },\n            520: {\n                'name': 'JPEGDCTables',\n                'type': 'Long'\n            },\n            521: {\n                'name': 'JPEGACTables',\n                'type': 'Long'\n            },\n            529: {\n                'name': 'YCbCrCoefficients',\n                'type': 'Rational'\n            },\n            530: {\n                'name': 'YCbCrSubSampling',\n                'type': 'Short'\n            },\n            531: {\n                'name': 'YCbCrPositioning',\n                'type': 'Short'\n            },\n            532: {\n                'name': 'ReferenceBlackWhite',\n                'type': 'Rational'\n            },\n            700: {\n                'name': 'XMLPacket',\n                'type': 'Byte'\n            },\n            18246: {\n                'name': 'Rating',\n                'type': 'Short'\n            },\n            18249: {\n                'name': 'RatingPercent',\n                'type': 'Short'\n            },\n            32781: {\n                'name': 'ImageID',\n                'type': 'Ascii'\n            },\n            33421: {\n                'name': 'CFARepeatPatternDim',\n                'type': 'Short'\n            },\n            33422: {\n                'name': 'CFAPattern',\n                'type': 'Byte'\n            },\n            33423: {\n                'name': 'BatteryLevel',\n                'type': 'Rational'\n            },\n            33432: {\n                'name': 'Copyright',\n                'type': 'Ascii'\n            },\n            33434: {\n                'name': 'ExposureTime',\n                'type': 'Rational'\n            },\n            34377: {\n                'name': 'ImageResources',\n                'type': 'Byte'\n            },\n            34665: {\n                'name': 'ExifTag',\n                'type': 'Long'\n            },\n            34675: {\n                'name': 'InterColorProfile',\n                'type': 'Undefined'\n            },\n            34853: {\n                'name': 'GPSTag',\n                'type': 'Long'\n            },\n            34857: {\n                'name': 'Interlace',\n                'type': 'Short'\n            },\n            34858: {\n                'name': 'TimeZoneOffset',\n                'type': 'Long'\n            },\n            34859: {\n                'name': 'SelfTimerMode',\n                'type': 'Short'\n            },\n            37387: {\n                'name': 'FlashEnergy',\n                'type': 'Rational'\n            },\n            37388: {\n                'name': 'SpatialFrequencyResponse',\n                'type': 'Undefined'\n            },\n            37389: {\n                'name': 'Noise',\n                'type': 'Undefined'\n            },\n            37390: {\n                'name': 'FocalPlaneXResolution',\n                'type': 'Rational'\n            },\n            37391: {\n                'name': 'FocalPlaneYResolution',\n                'type': 'Rational'\n            },\n            37392: {\n                'name': 'FocalPlaneResolutionUnit',\n                'type': 'Short'\n            },\n            37393: {\n                'name': 'ImageNumber',\n                'type': 'Long'\n            },\n            37394: {\n                'name': 'SecurityClassification',\n                'type': 'Ascii'\n            },\n            37395: {\n                'name': 'ImageHistory',\n                'type': 'Ascii'\n            },\n            37397: {\n                'name': 'ExposureIndex',\n                'type': 'Rational'\n            },\n            37398: {\n                'name': 'TIFFEPStandardID',\n                'type': 'Byte'\n            },\n            37399: {\n                'name': 'SensingMethod',\n                'type': 'Short'\n            },\n            40091: {\n                'name': 'XPTitle',\n                'type': 'Byte'\n            },\n            40092: {\n                'name': 'XPComment',\n                'type': 'Byte'\n            },\n            40093: {\n                'name': 'XPAuthor',\n                'type': 'Byte'\n            },\n            40094: {\n                'name': 'XPKeywords',\n                'type': 'Byte'\n            },\n            40095: {\n                'name': 'XPSubject',\n                'type': 'Byte'\n            },\n            50341: {\n                'name': 'PrintImageMatching',\n                'type': 'Undefined'\n            },\n            50706: {\n                'name': 'DNGVersion',\n                'type': 'Byte'\n            },\n            50707: {\n                'name': 'DNGBackwardVersion',\n                'type': 'Byte'\n            },\n            50708: {\n                'name': 'UniqueCameraModel',\n                'type': 'Ascii'\n            },\n            50709: {\n                'name': 'LocalizedCameraModel',\n                'type': 'Byte'\n            },\n            50710: {\n                'name': 'CFAPlaneColor',\n                'type': 'Byte'\n            },\n            50711: {\n                'name': 'CFALayout',\n                'type': 'Short'\n            },\n            50712: {\n                'name': 'LinearizationTable',\n                'type': 'Short'\n            },\n            50713: {\n                'name': 'BlackLevelRepeatDim',\n                'type': 'Short'\n            },\n            50714: {\n                'name': 'BlackLevel',\n                'type': 'Rational'\n            },\n            50715: {\n                'name': 'BlackLevelDeltaH',\n                'type': 'SRational'\n            },\n            50716: {\n                'name': 'BlackLevelDeltaV',\n                'type': 'SRational'\n            },\n            50717: {\n                'name': 'WhiteLevel',\n                'type': 'Short'\n            },\n            50718: {\n                'name': 'DefaultScale',\n                'type': 'Rational'\n            },\n            50719: {\n                'name': 'DefaultCropOrigin',\n                'type': 'Short'\n            },\n            50720: {\n                'name': 'DefaultCropSize',\n                'type': 'Short'\n            },\n            50721: {\n                'name': 'ColorMatrix1',\n                'type': 'SRational'\n            },\n            50722: {\n                'name': 'ColorMatrix2',\n                'type': 'SRational'\n            },\n            50723: {\n                'name': 'CameraCalibration1',\n                'type': 'SRational'\n            },\n            50724: {\n                'name': 'CameraCalibration2',\n                'type': 'SRational'\n            },\n            50725: {\n                'name': 'ReductionMatrix1',\n                'type': 'SRational'\n            },\n            50726: {\n                'name': 'ReductionMatrix2',\n                'type': 'SRational'\n            },\n            50727: {\n                'name': 'AnalogBalance',\n                'type': 'Rational'\n            },\n            50728: {\n                'name': 'AsShotNeutral',\n                'type': 'Short'\n            },\n            50729: {\n                'name': 'AsShotWhiteXY',\n                'type': 'Rational'\n            },\n            50730: {\n                'name': 'BaselineExposure',\n                'type': 'SRational'\n            },\n            50731: {\n                'name': 'BaselineNoise',\n                'type': 'Rational'\n            },\n            50732: {\n                'name': 'BaselineSharpness',\n                'type': 'Rational'\n            },\n            50733: {\n                'name': 'BayerGreenSplit',\n                'type': 'Long'\n            },\n            50734: {\n                'name': 'LinearResponseLimit',\n                'type': 'Rational'\n            },\n            50735: {\n                'name': 'CameraSerialNumber',\n                'type': 'Ascii'\n            },\n            50736: {\n                'name': 'LensInfo',\n                'type': 'Rational'\n            },\n            50737: {\n                'name': 'ChromaBlurRadius',\n                'type': 'Rational'\n            },\n            50738: {\n                'name': 'AntiAliasStrength',\n                'type': 'Rational'\n            },\n            50739: {\n                'name': 'ShadowScale',\n                'type': 'SRational'\n            },\n            50740: {\n                'name': 'DNGPrivateData',\n                'type': 'Byte'\n            },\n            50741: {\n                'name': 'MakerNoteSafety',\n                'type': 'Short'\n            },\n            50778: {\n                'name': 'CalibrationIlluminant1',\n                'type': 'Short'\n            },\n            50779: {\n                'name': 'CalibrationIlluminant2',\n                'type': 'Short'\n            },\n            50780: {\n                'name': 'BestQualityScale',\n                'type': 'Rational'\n            },\n            50781: {\n                'name': 'RawDataUniqueID',\n                'type': 'Byte'\n            },\n            50827: {\n                'name': 'OriginalRawFileName',\n                'type': 'Byte'\n            },\n            50828: {\n                'name': 'OriginalRawFileData',\n                'type': 'Undefined'\n            },\n            50829: {\n                'name': 'ActiveArea',\n                'type': 'Short'\n            },\n            50830: {\n                'name': 'MaskedAreas',\n                'type': 'Short'\n            },\n            50831: {\n                'name': 'AsShotICCProfile',\n                'type': 'Undefined'\n            },\n            50832: {\n                'name': 'AsShotPreProfileMatrix',\n                'type': 'SRational'\n            },\n            50833: {\n                'name': 'CurrentICCProfile',\n                'type': 'Undefined'\n            },\n            50834: {\n                'name': 'CurrentPreProfileMatrix',\n                'type': 'SRational'\n            },\n            50879: {\n                'name': 'ColorimetricReference',\n                'type': 'Short'\n            },\n            50931: {\n                'name': 'CameraCalibrationSignature',\n                'type': 'Byte'\n            },\n            50932: {\n                'name': 'ProfileCalibrationSignature',\n                'type': 'Byte'\n            },\n            50934: {\n                'name': 'AsShotProfileName',\n                'type': 'Byte'\n            },\n            50935: {\n                'name': 'NoiseReductionApplied',\n                'type': 'Rational'\n            },\n            50936: {\n                'name': 'ProfileName',\n                'type': 'Byte'\n            },\n            50937: {\n                'name': 'ProfileHueSatMapDims',\n                'type': 'Long'\n            },\n            50938: {\n                'name': 'ProfileHueSatMapData1',\n                'type': 'Float'\n            },\n            50939: {\n                'name': 'ProfileHueSatMapData2',\n                'type': 'Float'\n            },\n            50940: {\n                'name': 'ProfileToneCurve',\n                'type': 'Float'\n            },\n            50941: {\n                'name': 'ProfileEmbedPolicy',\n                'type': 'Long'\n            },\n            50942: {\n                'name': 'ProfileCopyright',\n                'type': 'Byte'\n            },\n            50964: {\n                'name': 'ForwardMatrix1',\n                'type': 'SRational'\n            },\n            50965: {\n                'name': 'ForwardMatrix2',\n                'type': 'SRational'\n            },\n            50966: {\n                'name': 'PreviewApplicationName',\n                'type': 'Byte'\n            },\n            50967: {\n                'name': 'PreviewApplicationVersion',\n                'type': 'Byte'\n            },\n            50968: {\n                'name': 'PreviewSettingsName',\n                'type': 'Byte'\n            },\n            50969: {\n                'name': 'PreviewSettingsDigest',\n                'type': 'Byte'\n            },\n            50970: {\n                'name': 'PreviewColorSpace',\n                'type': 'Long'\n            },\n            50971: {\n                'name': 'PreviewDateTime',\n                'type': 'Ascii'\n            },\n            50972: {\n                'name': 'RawImageDigest',\n                'type': 'Undefined'\n            },\n            50973: {\n                'name': 'OriginalRawFileDigest',\n                'type': 'Undefined'\n            },\n            50974: {\n                'name': 'SubTileBlockSize',\n                'type': 'Long'\n            },\n            50975: {\n                'name': 'RowInterleaveFactor',\n                'type': 'Long'\n            },\n            50981: {\n                'name': 'ProfileLookTableDims',\n                'type': 'Long'\n            },\n            50982: {\n                'name': 'ProfileLookTableData',\n                'type': 'Float'\n            },\n            51008: {\n                'name': 'OpcodeList1',\n                'type': 'Undefined'\n            },\n            51009: {\n                'name': 'OpcodeList2',\n                'type': 'Undefined'\n            },\n            51022: {\n                'name': 'OpcodeList3',\n                'type': 'Undefined'\n            }\n        },\n        'Exif': {\n            33434: {\n                'name': 'ExposureTime',\n                'type': 'Rational'\n            },\n            33437: {\n                'name': 'FNumber',\n                'type': 'Rational'\n            },\n            34850: {\n                'name': 'ExposureProgram',\n                'type': 'Short'\n            },\n            34852: {\n                'name': 'SpectralSensitivity',\n                'type': 'Ascii'\n            },\n            34855: {\n                'name': 'ISOSpeedRatings',\n                'type': 'Short'\n            },\n            34856: {\n                'name': 'OECF',\n                'type': 'Undefined'\n            },\n            34864: {\n                'name': 'SensitivityType',\n                'type': 'Short'\n            },\n            34865: {\n                'name': 'StandardOutputSensitivity',\n                'type': 'Long'\n            },\n            34866: {\n                'name': 'RecommendedExposureIndex',\n                'type': 'Long'\n            },\n            34867: {\n                'name': 'ISOSpeed',\n                'type': 'Long'\n            },\n            34868: {\n                'name': 'ISOSpeedLatitudeyyy',\n                'type': 'Long'\n            },\n            34869: {\n                'name': 'ISOSpeedLatitudezzz',\n                'type': 'Long'\n            },\n            36864: {\n                'name': 'ExifVersion',\n                'type': 'Undefined'\n            },\n            36867: {\n                'name': 'DateTimeOriginal',\n                'type': 'Ascii'\n            },\n            36868: {\n                'name': 'DateTimeDigitized',\n                'type': 'Ascii'\n            },\n            37121: {\n                'name': 'ComponentsConfiguration',\n                'type': 'Undefined'\n            },\n            37122: {\n                'name': 'CompressedBitsPerPixel',\n                'type': 'Rational'\n            },\n            37377: {\n                'name': 'ShutterSpeedValue',\n                'type': 'SRational'\n            },\n            37378: {\n                'name': 'ApertureValue',\n                'type': 'Rational'\n            },\n            37379: {\n                'name': 'BrightnessValue',\n                'type': 'SRational'\n            },\n            37380: {\n                'name': 'ExposureBiasValue',\n                'type': 'SRational'\n            },\n            37381: {\n                'name': 'MaxApertureValue',\n                'type': 'Rational'\n            },\n            37382: {\n                'name': 'SubjectDistance',\n                'type': 'Rational'\n            },\n            37383: {\n                'name': 'MeteringMode',\n                'type': 'Short'\n            },\n            37384: {\n                'name': 'LightSource',\n                'type': 'Short'\n            },\n            37385: {\n                'name': 'Flash',\n                'type': 'Short'\n            },\n            37386: {\n                'name': 'FocalLength',\n                'type': 'Rational'\n            },\n            37396: {\n                'name': 'SubjectArea',\n                'type': 'Short'\n            },\n            37500: {\n                'name': 'MakerNote',\n                'type': 'Undefined'\n            },\n            37510: {\n                'name': 'UserComment',\n                'type': 'Ascii'\n            },\n            37520: {\n                'name': 'SubSecTime',\n                'type': 'Ascii'\n            },\n            37521: {\n                'name': 'SubSecTimeOriginal',\n                'type': 'Ascii'\n            },\n            37522: {\n                'name': 'SubSecTimeDigitized',\n                'type': 'Ascii'\n            },\n            40960: {\n                'name': 'FlashpixVersion',\n                'type': 'Undefined'\n            },\n            40961: {\n                'name': 'ColorSpace',\n                'type': 'Short'\n            },\n            40962: {\n                'name': 'PixelXDimension',\n                'type': 'Long'\n            },\n            40963: {\n                'name': 'PixelYDimension',\n                'type': 'Long'\n            },\n            40964: {\n                'name': 'RelatedSoundFile',\n                'type': 'Ascii'\n            },\n            40965: {\n                'name': 'InteroperabilityTag',\n                'type': 'Long'\n            },\n            41483: {\n                'name': 'FlashEnergy',\n                'type': 'Rational'\n            },\n            41484: {\n                'name': 'SpatialFrequencyResponse',\n                'type': 'Undefined'\n            },\n            41486: {\n                'name': 'FocalPlaneXResolution',\n                'type': 'Rational'\n            },\n            41487: {\n                'name': 'FocalPlaneYResolution',\n                'type': 'Rational'\n            },\n            41488: {\n                'name': 'FocalPlaneResolutionUnit',\n                'type': 'Short'\n            },\n            41492: {\n                'name': 'SubjectLocation',\n                'type': 'Short'\n            },\n            41493: {\n                'name': 'ExposureIndex',\n                'type': 'Rational'\n            },\n            41495: {\n                'name': 'SensingMethod',\n                'type': 'Short'\n            },\n            41728: {\n                'name': 'FileSource',\n                'type': 'Undefined'\n            },\n            41729: {\n                'name': 'SceneType',\n                'type': 'Undefined'\n            },\n            41730: {\n                'name': 'CFAPattern',\n                'type': 'Undefined'\n            },\n            41985: {\n                'name': 'CustomRendered',\n                'type': 'Short'\n            },\n            41986: {\n                'name': 'ExposureMode',\n                'type': 'Short'\n            },\n            41987: {\n                'name': 'WhiteBalance',\n                'type': 'Short'\n            },\n            41988: {\n                'name': 'DigitalZoomRatio',\n                'type': 'Rational'\n            },\n            41989: {\n                'name': 'FocalLengthIn35mmFilm',\n                'type': 'Short'\n            },\n            41990: {\n                'name': 'SceneCaptureType',\n                'type': 'Short'\n            },\n            41991: {\n                'name': 'GainControl',\n                'type': 'Short'\n            },\n            41992: {\n                'name': 'Contrast',\n                'type': 'Short'\n            },\n            41993: {\n                'name': 'Saturation',\n                'type': 'Short'\n            },\n            41994: {\n                'name': 'Sharpness',\n                'type': 'Short'\n            },\n            41995: {\n                'name': 'DeviceSettingDescription',\n                'type': 'Undefined'\n            },\n            41996: {\n                'name': 'SubjectDistanceRange',\n                'type': 'Short'\n            },\n            42016: {\n                'name': 'ImageUniqueID',\n                'type': 'Ascii'\n            },\n            42032: {\n                'name': 'CameraOwnerName',\n                'type': 'Ascii'\n            },\n            42033: {\n                'name': 'BodySerialNumber',\n                'type': 'Ascii'\n            },\n            42034: {\n                'name': 'LensSpecification',\n                'type': 'Rational'\n            },\n            42035: {\n                'name': 'LensMake',\n                'type': 'Ascii'\n            },\n            42036: {\n                'name': 'LensModel',\n                'type': 'Ascii'\n            },\n            42037: {\n                'name': 'LensSerialNumber',\n                'type': 'Ascii'\n            },\n            42240: {\n                'name': 'Gamma',\n                'type': 'Rational'\n            }\n        },\n        'GPS': {\n            0: {\n                'name': 'GPSVersionID',\n                'type': 'Byte'\n            },\n            1: {\n                'name': 'GPSLatitudeRef',\n                'type': 'Ascii'\n            },\n            2: {\n                'name': 'GPSLatitude',\n                'type': 'Rational'\n            },\n            3: {\n                'name': 'GPSLongitudeRef',\n                'type': 'Ascii'\n            },\n            4: {\n                'name': 'GPSLongitude',\n                'type': 'Rational'\n            },\n            5: {\n                'name': 'GPSAltitudeRef',\n                'type': 'Byte'\n            },\n            6: {\n                'name': 'GPSAltitude',\n                'type': 'Rational'\n            },\n            7: {\n                'name': 'GPSTimeStamp',\n                'type': 'Rational'\n            },\n            8: {\n                'name': 'GPSSatellites',\n                'type': 'Ascii'\n            },\n            9: {\n                'name': 'GPSStatus',\n                'type': 'Ascii'\n            },\n            10: {\n                'name': 'GPSMeasureMode',\n                'type': 'Ascii'\n            },\n            11: {\n                'name': 'GPSDOP',\n                'type': 'Rational'\n            },\n            12: {\n                'name': 'GPSSpeedRef',\n                'type': 'Ascii'\n            },\n            13: {\n                'name': 'GPSSpeed',\n                'type': 'Rational'\n            },\n            14: {\n                'name': 'GPSTrackRef',\n                'type': 'Ascii'\n            },\n            15: {\n                'name': 'GPSTrack',\n                'type': 'Rational'\n            },\n            16: {\n                'name': 'GPSImgDirectionRef',\n                'type': 'Ascii'\n            },\n            17: {\n                'name': 'GPSImgDirection',\n                'type': 'Rational'\n            },\n            18: {\n                'name': 'GPSMapDatum',\n                'type': 'Ascii'\n            },\n            19: {\n                'name': 'GPSDestLatitudeRef',\n                'type': 'Ascii'\n            },\n            20: {\n                'name': 'GPSDestLatitude',\n                'type': 'Rational'\n            },\n            21: {\n                'name': 'GPSDestLongitudeRef',\n                'type': 'Ascii'\n            },\n            22: {\n                'name': 'GPSDestLongitude',\n                'type': 'Rational'\n            },\n            23: {\n                'name': 'GPSDestBearingRef',\n                'type': 'Ascii'\n            },\n            24: {\n                'name': 'GPSDestBearing',\n                'type': 'Rational'\n            },\n            25: {\n                'name': 'GPSDestDistanceRef',\n                'type': 'Ascii'\n            },\n            26: {\n                'name': 'GPSDestDistance',\n                'type': 'Rational'\n            },\n            27: {\n                'name': 'GPSProcessingMethod',\n                'type': 'Undefined'\n            },\n            28: {\n                'name': 'GPSAreaInformation',\n                'type': 'Undefined'\n            },\n            29: {\n                'name': 'GPSDateStamp',\n                'type': 'Ascii'\n            },\n            30: {\n                'name': 'GPSDifferential',\n                'type': 'Short'\n            },\n            31: {\n                'name': 'GPSHPositioningError',\n                'type': 'Rational'\n            }\n        },\n        'Interop': {\n            1: {\n                'name': 'InteroperabilityIndex',\n                'type': 'Ascii'\n            }\n        },\n    };\n    TAGS[\"0th\"] = TAGS[\"Image\"];\n    TAGS[\"1st\"] = TAGS[\"Image\"];\n    that.TAGS = TAGS;\n\n    \n    that.ImageIFD = {\n        ProcessingSoftware:11,\n        NewSubfileType:254,\n        SubfileType:255,\n        ImageWidth:256,\n        ImageLength:257,\n        BitsPerSample:258,\n        Compression:259,\n        PhotometricInterpretation:262,\n        Threshholding:263,\n        CellWidth:264,\n        CellLength:265,\n        FillOrder:266,\n        DocumentName:269,\n        ImageDescription:270,\n        Make:271,\n        Model:272,\n        StripOffsets:273,\n        Orientation:274,\n        SamplesPerPixel:277,\n        RowsPerStrip:278,\n        StripByteCounts:279,\n        XResolution:282,\n        YResolution:283,\n        PlanarConfiguration:284,\n        GrayResponseUnit:290,\n        GrayResponseCurve:291,\n        T4Options:292,\n        T6Options:293,\n        ResolutionUnit:296,\n        TransferFunction:301,\n        Software:305,\n        DateTime:306,\n        Artist:315,\n        HostComputer:316,\n        Predictor:317,\n        WhitePoint:318,\n        PrimaryChromaticities:319,\n        ColorMap:320,\n        HalftoneHints:321,\n        TileWidth:322,\n        TileLength:323,\n        TileOffsets:324,\n        TileByteCounts:325,\n        SubIFDs:330,\n        InkSet:332,\n        InkNames:333,\n        NumberOfInks:334,\n        DotRange:336,\n        TargetPrinter:337,\n        ExtraSamples:338,\n        SampleFormat:339,\n        SMinSampleValue:340,\n        SMaxSampleValue:341,\n        TransferRange:342,\n        ClipPath:343,\n        XClipPathUnits:344,\n        YClipPathUnits:345,\n        Indexed:346,\n        JPEGTables:347,\n        OPIProxy:351,\n        JPEGProc:512,\n        JPEGInterchangeFormat:513,\n        JPEGInterchangeFormatLength:514,\n        JPEGRestartInterval:515,\n        JPEGLosslessPredictors:517,\n        JPEGPointTransforms:518,\n        JPEGQTables:519,\n        JPEGDCTables:520,\n        JPEGACTables:521,\n        YCbCrCoefficients:529,\n        YCbCrSubSampling:530,\n        YCbCrPositioning:531,\n        ReferenceBlackWhite:532,\n        XMLPacket:700,\n        Rating:18246,\n        RatingPercent:18249,\n        ImageID:32781,\n        CFARepeatPatternDim:33421,\n        CFAPattern:33422,\n        BatteryLevel:33423,\n        Copyright:33432,\n        ExposureTime:33434,\n        ImageResources:34377,\n        ExifTag:34665,\n        InterColorProfile:34675,\n        GPSTag:34853,\n        Interlace:34857,\n        TimeZoneOffset:34858,\n        SelfTimerMode:34859,\n        FlashEnergy:37387,\n        SpatialFrequencyResponse:37388,\n        Noise:37389,\n        FocalPlaneXResolution:37390,\n        FocalPlaneYResolution:37391,\n        FocalPlaneResolutionUnit:37392,\n        ImageNumber:37393,\n        SecurityClassification:37394,\n        ImageHistory:37395,\n        ExposureIndex:37397,\n        TIFFEPStandardID:37398,\n        SensingMethod:37399,\n        XPTitle:40091,\n        XPComment:40092,\n        XPAuthor:40093,\n        XPKeywords:40094,\n        XPSubject:40095,\n        PrintImageMatching:50341,\n        DNGVersion:50706,\n        DNGBackwardVersion:50707,\n        UniqueCameraModel:50708,\n        LocalizedCameraModel:50709,\n        CFAPlaneColor:50710,\n        CFALayout:50711,\n        LinearizationTable:50712,\n        BlackLevelRepeatDim:50713,\n        BlackLevel:50714,\n        BlackLevelDeltaH:50715,\n        BlackLevelDeltaV:50716,\n        WhiteLevel:50717,\n        DefaultScale:50718,\n        DefaultCropOrigin:50719,\n        DefaultCropSize:50720,\n        ColorMatrix1:50721,\n        ColorMatrix2:50722,\n        CameraCalibration1:50723,\n        CameraCalibration2:50724,\n        ReductionMatrix1:50725,\n        ReductionMatrix2:50726,\n        AnalogBalance:50727,\n        AsShotNeutral:50728,\n        AsShotWhiteXY:50729,\n        BaselineExposure:50730,\n        BaselineNoise:50731,\n        BaselineSharpness:50732,\n        BayerGreenSplit:50733,\n        LinearResponseLimit:50734,\n        CameraSerialNumber:50735,\n        LensInfo:50736,\n        ChromaBlurRadius:50737,\n        AntiAliasStrength:50738,\n        ShadowScale:50739,\n        DNGPrivateData:50740,\n        MakerNoteSafety:50741,\n        CalibrationIlluminant1:50778,\n        CalibrationIlluminant2:50779,\n        BestQualityScale:50780,\n        RawDataUniqueID:50781,\n        OriginalRawFileName:50827,\n        OriginalRawFileData:50828,\n        ActiveArea:50829,\n        MaskedAreas:50830,\n        AsShotICCProfile:50831,\n        AsShotPreProfileMatrix:50832,\n        CurrentICCProfile:50833,\n        CurrentPreProfileMatrix:50834,\n        ColorimetricReference:50879,\n        CameraCalibrationSignature:50931,\n        ProfileCalibrationSignature:50932,\n        AsShotProfileName:50934,\n        NoiseReductionApplied:50935,\n        ProfileName:50936,\n        ProfileHueSatMapDims:50937,\n        ProfileHueSatMapData1:50938,\n        ProfileHueSatMapData2:50939,\n        ProfileToneCurve:50940,\n        ProfileEmbedPolicy:50941,\n        ProfileCopyright:50942,\n        ForwardMatrix1:50964,\n        ForwardMatrix2:50965,\n        PreviewApplicationName:50966,\n        PreviewApplicationVersion:50967,\n        PreviewSettingsName:50968,\n        PreviewSettingsDigest:50969,\n        PreviewColorSpace:50970,\n        PreviewDateTime:50971,\n        RawImageDigest:50972,\n        OriginalRawFileDigest:50973,\n        SubTileBlockSize:50974,\n        RowInterleaveFactor:50975,\n        ProfileLookTableDims:50981,\n        ProfileLookTableData:50982,\n        OpcodeList1:51008,\n        OpcodeList2:51009,\n        OpcodeList3:51022,\n        NoiseProfile:51041,\n    };\n\n    \n    that.ExifIFD = {\n        ExposureTime:33434,\n        FNumber:33437,\n        ExposureProgram:34850,\n        SpectralSensitivity:34852,\n        ISOSpeedRatings:34855,\n        OECF:34856,\n        SensitivityType:34864,\n        StandardOutputSensitivity:34865,\n        RecommendedExposureIndex:34866,\n        ISOSpeed:34867,\n        ISOSpeedLatitudeyyy:34868,\n        ISOSpeedLatitudezzz:34869,\n        ExifVersion:36864,\n        DateTimeOriginal:36867,\n        DateTimeDigitized:36868,\n        ComponentsConfiguration:37121,\n        CompressedBitsPerPixel:37122,\n        ShutterSpeedValue:37377,\n        ApertureValue:37378,\n        BrightnessValue:37379,\n        ExposureBiasValue:37380,\n        MaxApertureValue:37381,\n        SubjectDistance:37382,\n        MeteringMode:37383,\n        LightSource:37384,\n        Flash:37385,\n        FocalLength:37386,\n        SubjectArea:37396,\n        MakerNote:37500,\n        UserComment:37510,\n        SubSecTime:37520,\n        SubSecTimeOriginal:37521,\n        SubSecTimeDigitized:37522,\n        FlashpixVersion:40960,\n        ColorSpace:40961,\n        PixelXDimension:40962,\n        PixelYDimension:40963,\n        RelatedSoundFile:40964,\n        InteroperabilityTag:40965,\n        FlashEnergy:41483,\n        SpatialFrequencyResponse:41484,\n        FocalPlaneXResolution:41486,\n        FocalPlaneYResolution:41487,\n        FocalPlaneResolutionUnit:41488,\n        SubjectLocation:41492,\n        ExposureIndex:41493,\n        SensingMethod:41495,\n        FileSource:41728,\n        SceneType:41729,\n        CFAPattern:41730,\n        CustomRendered:41985,\n        ExposureMode:41986,\n        WhiteBalance:41987,\n        DigitalZoomRatio:41988,\n        FocalLengthIn35mmFilm:41989,\n        SceneCaptureType:41990,\n        GainControl:41991,\n        Contrast:41992,\n        Saturation:41993,\n        Sharpness:41994,\n        DeviceSettingDescription:41995,\n        SubjectDistanceRange:41996,\n        ImageUniqueID:42016,\n        CameraOwnerName:42032,\n        BodySerialNumber:42033,\n        LensSpecification:42034,\n        LensMake:42035,\n        LensModel:42036,\n        LensSerialNumber:42037,\n        Gamma:42240,\n    };\n\n\n    that.GPSIFD = {\n        GPSVersionID:0,\n        GPSLatitudeRef:1,\n        GPSLatitude:2,\n        GPSLongitudeRef:3,\n        GPSLongitude:4,\n        GPSAltitudeRef:5,\n        GPSAltitude:6,\n        GPSTimeStamp:7,\n        GPSSatellites:8,\n        GPSStatus:9,\n        GPSMeasureMode:10,\n        GPSDOP:11,\n        GPSSpeedRef:12,\n        GPSSpeed:13,\n        GPSTrackRef:14,\n        GPSTrack:15,\n        GPSImgDirectionRef:16,\n        GPSImgDirection:17,\n        GPSMapDatum:18,\n        GPSDestLatitudeRef:19,\n        GPSDestLatitude:20,\n        GPSDestLongitudeRef:21,\n        GPSDestLongitude:22,\n        GPSDestBearingRef:23,\n        GPSDestBearing:24,\n        GPSDestDistanceRef:25,\n        GPSDestDistance:26,\n        GPSProcessingMethod:27,\n        GPSAreaInformation:28,\n        GPSDateStamp:29,\n        GPSDifferential:30,\n        GPSHPositioningError:31,\n    };\n\n\n    that.InteropIFD = {\n        InteroperabilityIndex:1,\n    };\n\n    that.GPSHelper = {\n        degToDmsRational:function (degFloat) {\n            var minFloat = degFloat % 1 * 60;\n            var secFloat = minFloat % 1 * 60;\n            var deg = Math.floor(degFloat);\n            var min = Math.floor(minFloat);\n            var sec = Math.round(secFloat * 100);\n\n            return [[deg, 1], [min, 1], [sec, 100]];\n        }\n    };\n    \n    \n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = that;\n        }\n        exports.piexif = that;\n    } else {\n        window.piexif = that;\n    }\n\n})();\n\n/*!\n * bootstrap-fileinput v5.1.3\n * http://plugins.krajee.com/file-input\n *\n * Author: Kartik Visweswaran\n * Copyright: 2014 - 2020, Kartik Visweswaran, Krajee.com\n *\n * Licensed under the BSD-3-Clause\n * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md\n */\n(function (factory) {\n  \"use strict\";\n  if (typeof define === \"function\" && define.amd) {\n    define([\"jquery\"], factory);\n  } else {\n    if (typeof module === \"object\" && module.exports) {\n      //noinspection NpmUsedModulesInstalled\n      module.exports = factory(require(\"jquery\"));\n    } else {\n      factory(window.jQuery);\n    }\n  }\n})(function ($) {\n  \"use strict\";\n\n  $.fn.fileinputLocales = {};\n  $.fn.fileinputThemes = {};\n\n  String.prototype.setTokens = function (replacePairs) {\n    var str = this.toString(),\n      key,\n      re;\n    for (key in replacePairs) {\n      if (replacePairs.hasOwnProperty(key)) {\n        re = new RegExp(\"{\" + key + \"}\", \"g\");\n        str = str.replace(re, replacePairs[key]);\n      }\n    }\n    return str;\n  };\n\n  if (!Array.prototype.flatMap) {\n    // polyfill flatMap\n    Array.prototype.flatMap = function (lambda) {\n      return [].concat(this.map(lambda));\n    };\n  }\n\n  var $h, FileInput;\n\n  // fileinput helper object for all global variables and internal helper methods\n  $h = {\n    FRAMES: \".kv-preview-thumb\",\n    SORT_CSS: \"file-sortable\",\n    INIT_FLAG: \"init-\",\n    OBJECT_PARAMS:\n      '<param name=\"controller\" value=\"true\" />\\n' +\n      '<param name=\"allowFullScreen\" value=\"true\" />\\n' +\n      '<param name=\"allowScriptAccess\" value=\"always\" />\\n' +\n      '<param name=\"autoPlay\" value=\"false\" />\\n' +\n      '<param name=\"autoStart\" value=\"false\" />\\n' +\n      '<param name=\"quality\" value=\"high\" />\\n',\n    DEFAULT_PREVIEW:\n      '<div class=\"file-preview-other\">\\n' +\n      '<span class=\"{previewFileIconClass}\">{previewFileIcon}</span>\\n' +\n      \"</div>\",\n    MODAL_ID: \"kvFileinputModal\",\n    MODAL_EVENTS: [\"show\", \"shown\", \"hide\", \"hidden\", \"loaded\"],\n    logMessages: {\n      ajaxError: \"{status}: {error}. Error Details: {text}.\",\n      badDroppedFiles: \"Error scanning dropped files!\",\n      badExifParser: \"Error loading the piexif.js library. {details}\",\n      badInputType:\n        'The input \"type\" must be set to \"file\" for initializing the \"bootstrap-fileinput\" plugin.',\n      exifWarning:\n        'To avoid this warning, either set \"autoOrientImage\" to \"false\" OR ensure you have loaded ' +\n        'the \"piexif.js\" library correctly on your page before the \"fileinput.js\" script.',\n      invalidChunkSize:\n        'Invalid upload chunk size: \"{chunkSize}\". Resumable uploads are disabled.',\n      invalidThumb: 'Invalid thumb frame with id: \"{id}\".',\n      noResumableSupport:\n        \"The browser does not support resumable or chunk uploads.\",\n      noUploadUrl:\n        'The \"uploadUrl\" is not set. Ajax uploads and resumable uploads have been disabled.',\n      retryStatus:\n        \"Retrying upload for chunk # {chunk} for {filename}... retry # {retry}.\",\n      chunkQueueError:\n        \"Could not push task to ajax pool for chunk index # {index}.\",\n      resumableMaxRetriesReached:\n        \"Maximum resumable ajax retries ({n}) reached.\",\n      resumableRetryError:\n        \"Could not retry the resumable request (try # {n})... aborting.\",\n      resumableAborting: \"Aborting / cancelling the resumable request.\",\n    },\n    objUrl: window.URL || window.webkitURL,\n    now: function () {\n      return new Date().getTime();\n    },\n    round: function (num) {\n      num = parseFloat(num);\n      return isNaN(num) ? 0 : Math.floor(Math.round(num));\n    },\n    getArray: function (obj) {\n      var i,\n        arr = [],\n        len = (obj && obj.length) || 0;\n      for (i = 0; i < len; i++) {\n        arr.push(obj[i]);\n      }\n      return arr;\n    },\n    getFileRelativePath: function (file) {\n      /** @namespace file.relativePath */\n      /** @namespace file.webkitRelativePath */\n      return String(\n        file.newPath ||\n          file.relativePath ||\n          file.webkitRelativePath ||\n          $h.getFileName(file) ||\n          null\n      );\n    },\n    getFileId: function (file, generateFileId) {\n      var relativePath = $h.getFileRelativePath(file);\n      if (typeof generateFileId === \"function\") {\n        return generateFileId(file);\n      }\n      if (!file) {\n        return null;\n      }\n      if (!relativePath) {\n        return null;\n      }\n      return (\n        file.size + \"_\" + encodeURIComponent(relativePath).replace(/%/g, \"_\")\n      );\n    },\n    getFrameSelector: function (id, selector) {\n      selector = selector || \"\";\n      return '[id=\"' + id + '\"]' + selector;\n    },\n    getZoomSelector: function (id, selector) {\n      return $h.getFrameSelector(\"zoom-\" + id, selector);\n    },\n    getFrameElement: function ($element, id, selector) {\n      return $element.find($h.getFrameSelector(id, selector));\n    },\n    getZoomElement: function ($element, id, selector) {\n      return $element.find($h.getZoomSelector(id, selector));\n    },\n    getElapsed: function (seconds) {\n      var delta = seconds,\n        out = \"\",\n        result = {},\n        structure = {\n          year: 31536000,\n          month: 2592000,\n          week: 604800, // uncomment row to ignore\n          day: 86400, // feel free to add your own row\n          hour: 3600,\n          minute: 60,\n          second: 1,\n        };\n      $h.getObjectKeys(structure).forEach(function (key) {\n        result[key] = Math.floor(delta / structure[key]);\n        delta -= result[key] * structure[key];\n      });\n      $.each(result, function (key, value) {\n        if (value > 0) {\n          out += (out ? \" \" : \"\") + value + key.substring(0, 1);\n        }\n      });\n      return out;\n    },\n    debounce: function (func, delay) {\n      var inDebounce;\n      return function () {\n        var args = arguments,\n          context = this;\n        clearTimeout(inDebounce);\n        inDebounce = setTimeout(function () {\n          func.apply(context, args);\n        }, delay);\n      };\n    },\n    stopEvent: function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    },\n    getFileName: function (file) {\n      /** @namespace file.fileName */\n      return file ? file.fileName || file.name || \"\" : \"\"; // some confusion in different versions of Firefox\n    },\n    createObjectURL: function (data) {\n      if ($h.objUrl && $h.objUrl.createObjectURL && data) {\n        return $h.objUrl.createObjectURL(data);\n      }\n      return \"\";\n    },\n    revokeObjectURL: function (data) {\n      if ($h.objUrl && $h.objUrl.revokeObjectURL && data) {\n        $h.objUrl.revokeObjectURL(data);\n      }\n    },\n    compare: function (input, str, exact) {\n      return input !== undefined && (exact ? input === str : input.match(str));\n    },\n    isIE: function (ver) {\n      var div, status;\n      // check for IE versions < 11\n      if (navigator.appName !== \"Microsoft Internet Explorer\") {\n        return false;\n      }\n      if (ver === 10) {\n        return new RegExp(\"msie\\\\s\" + ver, \"i\").test(navigator.userAgent);\n      }\n      div = document.createElement(\"div\");\n      div.innerHTML = \"<!--[if IE \" + ver + \"]> <i></i> <![endif]-->\";\n      status = div.getElementsByTagName(\"i\").length;\n      document.body.appendChild(div);\n      div.parentNode.removeChild(div);\n      return status;\n    },\n    canOrientImage: function ($el) {\n      var $img = $(document.createElement(\"img\"))\n          .css({ width: \"1px\", height: \"1px\" })\n          .insertAfter($el),\n        flag = $img.css(\"image-orientation\");\n      $img.remove();\n      return !!flag;\n    },\n    canAssignFilesToInput: function () {\n      var input = document.createElement(\"input\");\n      try {\n        input.type = \"file\";\n        input.files = null;\n        return true;\n      } catch (err) {\n        return false;\n      }\n    },\n    getDragDropFolders: function (items) {\n      var i,\n        item,\n        len = items ? items.length : 0,\n        folders = 0;\n      if (len > 0 && items[0].webkitGetAsEntry()) {\n        for (i = 0; i < len; i++) {\n          item = items[i].webkitGetAsEntry();\n          if (item && item.isDirectory) {\n            folders++;\n          }\n        }\n      }\n      return folders;\n    },\n    initModal: function ($modal) {\n      var $body = $(\"body\");\n      if ($body.length) {\n        $modal.appendTo($body);\n      }\n    },\n    isFunction: function (v) {\n      return typeof v === \"function\";\n    },\n    isEmpty: function (value, trim) {\n      return (\n        value === undefined ||\n        value === null ||\n        (!$h.isFunction(value) &&\n          (value.length === 0 || (trim && $.trim(value) === \"\")))\n      );\n    },\n    isArray: function (a) {\n      return (\n        Array.isArray(a) ||\n        Object.prototype.toString.call(a) === \"[object Array]\"\n      );\n    },\n    ifSet: function (needle, haystack, def) {\n      def = def || \"\";\n      return haystack && typeof haystack === \"object\" && needle in haystack\n        ? haystack[needle]\n        : def;\n    },\n    cleanArray: function (arr) {\n      if (!(arr instanceof Array)) {\n        arr = [];\n      }\n      return arr.filter(function (e) {\n        return e !== undefined && e !== null;\n      });\n    },\n    spliceArray: function (arr, index, reverseOrder) {\n      var i,\n        j = 0,\n        out = [],\n        newArr;\n      if (!(arr instanceof Array)) {\n        return [];\n      }\n      newArr = $.extend(true, [], arr);\n      if (reverseOrder) {\n        newArr.reverse();\n      }\n      for (i = 0; i < newArr.length; i++) {\n        if (i !== index) {\n          out[j] = newArr[i];\n          j++;\n        }\n      }\n      if (reverseOrder) {\n        out.reverse();\n      }\n      return out;\n    },\n    getNum: function (num, def) {\n      def = def || 0;\n      if (typeof num === \"number\") {\n        return num;\n      }\n      if (typeof num === \"string\") {\n        num = parseFloat(num);\n      }\n      return isNaN(num) ? def : num;\n    },\n    hasFileAPISupport: function () {\n      return !!(window.File && window.FileReader);\n    },\n    hasDragDropSupport: function () {\n      var div = document.createElement(\"div\");\n      /** @namespace div.draggable */\n      /** @namespace div.ondragstart */\n      /** @namespace div.ondrop */\n      return (\n        !$h.isIE(9) &&\n        (div.draggable !== undefined ||\n          (div.ondragstart !== undefined && div.ondrop !== undefined))\n      );\n    },\n    hasFileUploadSupport: function () {\n      return $h.hasFileAPISupport() && window.FormData;\n    },\n    hasBlobSupport: function () {\n      try {\n        return !!window.Blob && Boolean(new Blob());\n      } catch (e) {\n        return false;\n      }\n    },\n    hasArrayBufferViewSupport: function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n      } catch (e) {\n        return false;\n      }\n    },\n    hasResumableUploadSupport: function () {\n      /** @namespace Blob.prototype.webkitSlice */\n      /** @namespace Blob.prototype.mozSlice */\n      return (\n        $h.hasFileUploadSupport() &&\n        $h.hasBlobSupport() &&\n        $h.hasArrayBufferViewSupport() &&\n        (!!Blob.prototype.webkitSlice ||\n          !!Blob.prototype.mozSlice ||\n          !!Blob.prototype.slice ||\n          false)\n      );\n    },\n    dataURI2Blob: function (dataURI) {\n      var BlobBuilder =\n          window.BlobBuilder ||\n          window.WebKitBlobBuilder ||\n          window.MozBlobBuilder ||\n          window.MSBlobBuilder,\n        canBlob = $h.hasBlobSupport(),\n        byteStr,\n        arrayBuffer,\n        intArray,\n        i,\n        mimeStr,\n        bb,\n        canProceed =\n          (canBlob || BlobBuilder) &&\n          window.atob &&\n          window.ArrayBuffer &&\n          window.Uint8Array;\n      if (!canProceed) {\n        return null;\n      }\n      if (dataURI.split(\",\")[0].indexOf(\"base64\") >= 0) {\n        byteStr = atob(dataURI.split(\",\")[1]);\n      } else {\n        byteStr = decodeURIComponent(dataURI.split(\",\")[1]);\n      }\n      arrayBuffer = new ArrayBuffer(byteStr.length);\n      intArray = new Uint8Array(arrayBuffer);\n      for (i = 0; i < byteStr.length; i += 1) {\n        intArray[i] = byteStr.charCodeAt(i);\n      }\n      mimeStr = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n      if (canBlob) {\n        return new Blob(\n          [$h.hasArrayBufferViewSupport() ? intArray : arrayBuffer],\n          { type: mimeStr }\n        );\n      }\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mimeStr);\n    },\n    arrayBuffer2String: function (buffer) {\n      if (window.TextDecoder) {\n        return new TextDecoder(\"utf-8\").decode(buffer);\n      }\n      var array = Array.prototype.slice.apply(new Uint8Array(buffer)),\n        out = \"\",\n        i = 0,\n        len,\n        c,\n        char2,\n        char3;\n      len = array.length;\n      while (i < len) {\n        c = array[i++];\n        switch (\n          c >> 4 // jshint ignore:line\n        ) {\n          case 0:\n          case 1:\n          case 2:\n          case 3:\n          case 4:\n          case 5:\n          case 6:\n          case 7:\n            // 0xxxxxxx\n            out += String.fromCharCode(c);\n            break;\n          case 12:\n          case 13:\n            // 110x xxxx   10xx xxxx\n            char2 = array[i++];\n            out += String.fromCharCode(((c & 0x1f) << 6) | (char2 & 0x3f)); // jshint ignore:line\n            break;\n          case 14:\n            // 1110 xxxx  10xx xxxx  10xx xxxx\n            char2 = array[i++];\n            char3 = array[i++];\n            out += String.fromCharCode(\n              ((c & 0x0f) << 12) | // jshint ignore:line\n                ((char2 & 0x3f) << 6) | // jshint ignore:line\n                ((char3 & 0x3f) << 0)\n            ); // jshint ignore:line\n            break;\n        }\n      }\n      return out;\n    },\n    isHtml: function (str) {\n      var a = document.createElement(\"div\");\n      a.innerHTML = str;\n      for (var c = a.childNodes, i = c.length; i--; ) {\n        if (c[i].nodeType === 1) {\n          return true;\n        }\n      }\n      return false;\n    },\n    isSvg: function (str) {\n      return (\n        str.match(/^\\s*<\\?xml/i) &&\n        (str.match(/<!DOCTYPE svg/i) || str.match(/<svg/i))\n      );\n    },\n    getMimeType: function (signature, contents, type) {\n      switch (signature) {\n        case \"ffd8ffe0\":\n        case \"ffd8ffe1\":\n        case \"ffd8ffe2\":\n          return \"image/jpeg\";\n        case \"89504e47\":\n          return \"image/png\";\n        case \"47494638\":\n          return \"image/gif\";\n        case \"49492a00\":\n          return \"image/tiff\";\n        case \"52494646\":\n          return \"image/webp\";\n        case \"66747970\":\n          return \"video/3gp\";\n        case \"4f676753\":\n          return \"video/ogg\";\n        case \"1a45dfa3\":\n          return \"video/mkv\";\n        case \"000001ba\":\n        case \"000001b3\":\n          return \"video/mpeg\";\n        case \"3026b275\":\n          return \"video/wmv\";\n        case \"25504446\":\n          return \"application/pdf\";\n        case \"25215053\":\n          return \"application/ps\";\n        case \"504b0304\":\n        case \"504b0506\":\n        case \"504b0508\":\n          return \"application/zip\";\n        case \"377abcaf\":\n          return \"application/7z\";\n        case \"75737461\":\n          return \"application/tar\";\n        case \"7801730d\":\n          return \"application/dmg\";\n        default:\n          switch (signature.substring(0, 6)) {\n            case \"435753\":\n              return \"application/x-shockwave-flash\";\n            case \"494433\":\n              return \"audio/mp3\";\n            case \"425a68\":\n              return \"application/bzip\";\n            default:\n              switch (signature.substring(0, 4)) {\n                case \"424d\":\n                  return \"image/bmp\";\n                case \"fffb\":\n                  return \"audio/mp3\";\n                case \"4d5a\":\n                  return \"application/exe\";\n                case \"1f9d\":\n                case \"1fa0\":\n                  return \"application/zip\";\n                case \"1f8b\":\n                  return \"application/gzip\";\n                default:\n                  return contents && !contents.match(/[^\\u0000-\\u007f]/)\n                    ? \"application/text-plain\"\n                    : type;\n              }\n          }\n      }\n    },\n    addCss: function ($el, css) {\n      $el.removeClass(css).addClass(css);\n    },\n    getElement: function (options, param, value) {\n      return $h.isEmpty(options) || $h.isEmpty(options[param])\n        ? value\n        : $(options[param]);\n    },\n    createElement: function (str, tag) {\n      tag = tag || \"div\";\n      return $($.parseHTML(\"<\" + tag + \">\" + str + \"</\" + tag + \">\"));\n    },\n    uniqId: function () {\n      return (\n        new Date().getTime() + Math.floor(Math.random() * Math.pow(10, 15))\n      ).toString(36);\n    },\n    cspBuffer: {\n      CSP_ATTRIB: \"data-csp-01928735\", // a randomly named temporary attribute to store the CSP elem id\n      domElementsStyles: {},\n      stash: function (htmlString) {\n        var self = this,\n          outerDom = $.parseHTML(\"<div>\" + htmlString + \"</div>\"),\n          $el = $(outerDom);\n        $el.find(\"[style]\").each(function (key, elem) {\n          var $elem = $(elem),\n            styleString = $elem.attr(\"style\"),\n            id = $h.uniqId(),\n            styles = {};\n          if (styleString && styleString.length) {\n            if (styleString.indexOf(\";\") === -1) {\n              styleString += \";\";\n            }\n            styleString\n              .slice(0, styleString.length - 1)\n              .split(\";\")\n              .map(function (str) {\n                str = str.split(\":\");\n                if (str[0]) {\n                  styles[str[0]] = str[1] ? str[1] : \"\";\n                }\n              });\n            self.domElementsStyles[id] = styles;\n            $elem.removeAttr(\"style\").attr(self.CSP_ATTRIB, id);\n          }\n        });\n        $el.filter(\"*\").removeAttr(\"style\"); // make sure all style attr are removed\n        var values = Object.values\n          ? Object.values(outerDom)\n          : Object.keys(outerDom).map(function (itm) {\n              return outerDom[itm];\n            });\n        return values\n          .flatMap(function (elem) {\n            return elem.innerHTML;\n          })\n          .join(\"\");\n      },\n      apply: function (domElement) {\n        var self = this,\n          $el = $(domElement);\n        $el.find(\"[\" + self.CSP_ATTRIB + \"]\").each(function (key, elem) {\n          var $elem = $(elem),\n            id = $elem.attr(self.CSP_ATTRIB),\n            styles = self.domElementsStyles[id];\n          if (styles) {\n            $elem.css(styles);\n          }\n          $elem.removeAttr(self.CSP_ATTRIB);\n        });\n        self.domElementsStyles = {};\n      },\n    },\n    setHtml: function ($elem, htmlString) {\n      var buf = $h.cspBuffer;\n      $elem.html(buf.stash(htmlString));\n      buf.apply($elem);\n      return $elem;\n    },\n    htmlEncode: function (str, undefVal) {\n      if (str === undefined) {\n        return undefVal || null;\n      }\n      return str\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&apos;\");\n    },\n    replaceTags: function (str, tags) {\n      var out = str;\n      if (!tags) {\n        return out;\n      }\n      $.each(tags, function (key, value) {\n        if (typeof value === \"function\") {\n          value = value();\n        }\n        out = out.split(key).join(value);\n      });\n      return out;\n    },\n    cleanMemory: function ($thumb) {\n      var data = $thumb.is(\"img\")\n        ? $thumb.attr(\"src\")\n        : $thumb.find(\"source\").attr(\"src\");\n      $h.revokeObjectURL(data);\n    },\n    findFileName: function (filePath) {\n      var sepIndex = filePath.lastIndexOf(\"/\");\n      if (sepIndex === -1) {\n        sepIndex = filePath.lastIndexOf(\"\\\\\");\n      }\n      return filePath.split(filePath.substring(sepIndex, sepIndex + 1)).pop();\n    },\n    checkFullScreen: function () {\n      return (\n        document.fullscreenElement ||\n        document.mozFullScreenElement ||\n        document.webkitFullscreenElement ||\n        document.msFullscreenElement\n      );\n    },\n    toggleFullScreen: function (maximize) {\n      var doc = document,\n        de = doc.documentElement,\n        isFullScreen = $h.checkFullScreen();\n      if (de && maximize && !isFullScreen) {\n        if (de.requestFullscreen) {\n          de.requestFullscreen();\n        } else {\n          if (de.msRequestFullscreen) {\n            de.msRequestFullscreen();\n          } else {\n            if (de.mozRequestFullScreen) {\n              de.mozRequestFullScreen();\n            } else {\n              if (de.webkitRequestFullscreen) {\n                de.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n              }\n            }\n          }\n        }\n      } else {\n        if (isFullScreen) {\n          if (doc.exitFullscreen) {\n            doc.exitFullscreen();\n          } else {\n            if (doc.msExitFullscreen) {\n              doc.msExitFullscreen();\n            } else {\n              if (doc.mozCancelFullScreen) {\n                doc.mozCancelFullScreen();\n              } else {\n                if (doc.webkitExitFullscreen) {\n                  doc.webkitExitFullscreen();\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    moveArray: function (arr, oldIndex, newIndex, reverseOrder) {\n      var newArr = $.extend(true, [], arr);\n      if (reverseOrder) {\n        newArr.reverse();\n      }\n      if (newIndex >= newArr.length) {\n        var k = newIndex - newArr.length;\n        while (k-- + 1) {\n          newArr.push(undefined);\n        }\n      }\n      newArr.splice(newIndex, 0, newArr.splice(oldIndex, 1)[0]);\n      if (reverseOrder) {\n        newArr.reverse();\n      }\n      return newArr;\n    },\n    closeButton: function (css) {\n      css = css ? \"btn-close \" + css : \"btn-close\";\n      return (\n        '<button type=\"button\" class=\"' + css + '\" aria-label=\"Close\"></button>'\n      );\n    },\n    getRotation: function (value) {\n      switch (value) {\n        case 2:\n          return \"rotateY(180deg)\";\n        case 3:\n          return \"rotate(180deg)\";\n        case 4:\n          return \"rotate(180deg) rotateY(180deg)\";\n        case 5:\n          return \"rotate(270deg) rotateY(180deg)\";\n        case 6:\n          return \"rotate(90deg)\";\n        case 7:\n          return \"rotate(90deg) rotateY(180deg)\";\n        case 8:\n          return \"rotate(270deg)\";\n        default:\n          return \"\";\n      }\n    },\n    setTransform: function (el, val) {\n      if (!el) {\n        return;\n      }\n      el.style.transform = val;\n      el.style.webkitTransform = val;\n      el.style[\"-moz-transform\"] = val;\n      el.style[\"-ms-transform\"] = val;\n      el.style[\"-o-transform\"] = val;\n    },\n    getObjectKeys: function (obj) {\n      var keys = [];\n      if (obj) {\n        $.each(obj, function (key) {\n          keys.push(key);\n        });\n      }\n      return keys;\n    },\n    getObjectSize: function (obj) {\n      return $h.getObjectKeys(obj).length;\n    },\n    /**\n     * Small dependency injection for the task manager\n     * https://gist.github.com/fearphage/4341799\n     */\n    whenAll: function (array) {\n      var s = [].slice,\n        resolveValues =\n          arguments.length === 1 && $h.isArray(array)\n            ? array\n            : s.call(arguments),\n        deferred = $.Deferred(),\n        i,\n        failed = 0,\n        value,\n        length = resolveValues.length,\n        remaining = length,\n        rejectContexts,\n        rejectValues,\n        resolveContexts,\n        updateFunc;\n      rejectContexts = rejectValues = resolveContexts = Array(length);\n      updateFunc = function (index, contexts, values) {\n        return function () {\n          if (values !== resolveValues) {\n            failed++;\n          }\n          deferred.notifyWith(\n            (contexts[index] = this),\n            (values[index] = s.call(arguments))\n          );\n          if (!--remaining) {\n            deferred[(!failed ? \"resolve\" : \"reject\") + \"With\"](\n              contexts,\n              values\n            );\n          }\n        };\n      };\n      for (i = 0; i < length; i++) {\n        if ((value = resolveValues[i]) && $.isFunction(value.promise)) {\n          value\n            .promise()\n            .done(updateFunc(i, resolveContexts, resolveValues))\n            .fail(updateFunc(i, rejectContexts, rejectValues));\n        } else {\n          deferred.notifyWith(this, value);\n          --remaining;\n        }\n      }\n      if (!remaining) {\n        deferred.resolveWith(resolveContexts, resolveValues);\n      }\n      return deferred.promise();\n    },\n  };\n  FileInput = function (element, options) {\n    var self = this;\n    self.$element = $(element);\n    self.$parent = self.$element.parent();\n    if (!self._validate()) {\n      return;\n    }\n    self.isPreviewable = $h.hasFileAPISupport();\n    self.isIE9 = $h.isIE(9);\n    self.isIE10 = $h.isIE(10);\n    if (self.isPreviewable || self.isIE9) {\n      self._init(options);\n      self._listen();\n    }\n    self.$element.removeClass(\"file-loading\");\n  };\n\n  FileInput.prototype = {\n    constructor: FileInput,\n    _cleanup: function () {\n      var self = this;\n      self.reader = null;\n      self.clearFileStack();\n      self.fileBatchCompleted = true;\n      self.isError = false;\n      self.isDuplicateError = false;\n      self.isPersistentError = false;\n      self.cancelling = false;\n      self.paused = false;\n      self.lastProgress = 0;\n      self._initAjax();\n    },\n    _isAborted: function () {\n      var self = this;\n      return self.cancelling || self.paused;\n    },\n    _initAjax: function () {\n      var self = this,\n        tm = (self.taskManager = {\n          pool: {},\n          addPool: function (id) {\n            return (tm.pool[id] = new tm.TasksPool(id));\n          },\n          getPool: function (id) {\n            return tm.pool[id];\n          },\n          addTask: function (id, logic) {\n            // add standalone task directly from task manager\n            return new tm.Task(id, logic);\n          },\n          TasksPool: function (id) {\n            var tp = this;\n            tp.id = id;\n            tp.cancelled = false;\n            tp.cancelledDeferrer = $.Deferred();\n            tp.tasks = {};\n            tp.addTask = function (id, logic) {\n              return (tp.tasks[id] = new tm.Task(id, logic));\n            };\n            tp.size = function () {\n              return $h.getObjectSize(tp.tasks);\n            };\n            tp.run = function (maxThreads) {\n              var i = 0,\n                failed = false,\n                task,\n                tasksList = $h.getObjectKeys(tp.tasks).map(function (key) {\n                  return tp.tasks[key];\n                }),\n                tasksDone = [],\n                deferred = $.Deferred(),\n                enqueue,\n                callback;\n\n              if (tp.cancelled) {\n                tp.cancelledDeferrer.resolve();\n                return deferred.reject();\n              }\n              // if run all at once\n              if (!maxThreads) {\n                var tasksDeferredList = $h\n                  .getObjectKeys(tp.tasks)\n                  .map(function (key) {\n                    return tp.tasks[key].deferred;\n                  });\n                // when all are done\n                $h.whenAll(tasksDeferredList)\n                  .done(function () {\n                    var argv = $h.getArray(arguments);\n                    if (!tp.cancelled) {\n                      deferred.resolve.apply(null, argv);\n                      tp.cancelledDeferrer.reject();\n                    } else {\n                      deferred.reject.apply(null, argv);\n                      tp.cancelledDeferrer.resolve();\n                    }\n                  })\n                  .fail(function () {\n                    var argv = $h.getArray(arguments);\n                    deferred.reject.apply(null, argv);\n                    if (!tp.cancelled) {\n                      tp.cancelledDeferrer.reject();\n                    } else {\n                      tp.cancelledDeferrer.resolve();\n                    }\n                  });\n                // run all tasks\n                $.each(tp.tasks, function (id) {\n                  task = tp.tasks[id];\n                  task.run();\n                });\n                return deferred;\n              }\n              enqueue = function (task) {\n                $.when(task.deferred)\n                  .fail(function () {\n                    failed = true;\n                    callback.apply(null, arguments);\n                  })\n                  .always(callback);\n              };\n              callback = function () {\n                var argv = $h.getArray(arguments);\n                // notify a task just ended\n                deferred.notify(argv);\n                tasksDone.push(argv);\n                if (tp.cancelled) {\n                  deferred.reject.apply(null, tasksDone);\n                  tp.cancelledDeferrer.resolve();\n                  return;\n                }\n                if (tasksDone.length === tp.size()) {\n                  if (failed) {\n                    deferred.reject.apply(null, tasksDone);\n                  } else {\n                    deferred.resolve.apply(null, tasksDone);\n                  }\n                }\n                // if there are any tasks remaining\n                if (tasksList.length) {\n                  task = tasksList.shift();\n                  enqueue(task);\n                  task.run();\n                }\n              };\n              // run the first \"maxThreads\" tasks\n              while (tasksList.length && i++ < maxThreads) {\n                task = tasksList.shift();\n                enqueue(task);\n                task.run();\n              }\n              return deferred;\n            };\n            tp.cancel = function () {\n              tp.cancelled = true;\n              return tp.cancelledDeferrer;\n            };\n          },\n          Task: function (id, logic) {\n            var tk = this;\n            tk.id = id;\n            tk.deferred = $.Deferred();\n            tk.logic = logic;\n            tk.context = null;\n            tk.run = function () {\n              var argv = $h.getArray(arguments);\n              argv.unshift(tk.deferred); // add deferrer as first argument\n              logic.apply(tk.context, argv); // run task\n              return tk.deferred; // return deferrer\n            };\n            tk.runWithContext = function (context) {\n              tk.context = context;\n              return tk.run();\n            };\n          },\n        });\n      self.ajaxQueue = [];\n      self.ajaxRequests = [];\n      self.ajaxAborted = false;\n    },\n    _init: function (options, refreshMode) {\n      var self = this,\n        f,\n        $el = self.$element,\n        $cont,\n        t,\n        tmp;\n      self.options = options;\n      self.canOrientImage = $h.canOrientImage($el);\n      $.each(options, function (key, value) {\n        switch (key) {\n          case \"minFileCount\":\n          case \"maxFileCount\":\n          case \"maxTotalFileCount\":\n          case \"minFileSize\":\n          case \"maxFileSize\":\n          case \"maxFilePreviewSize\":\n          case \"resizeImageQuality\":\n          case \"resizeIfSizeMoreThan\":\n          case \"progressUploadThreshold\":\n          case \"initialPreviewCount\":\n          case \"zoomModalHeight\":\n          case \"minImageHeight\":\n          case \"maxImageHeight\":\n          case \"minImageWidth\":\n          case \"maxImageWidth\":\n            self[key] = $h.getNum(value);\n            break;\n          default:\n            self[key] = value;\n            break;\n        }\n      });\n      if (\n        self.maxTotalFileCount > 0 &&\n        self.maxTotalFileCount < self.maxFileCount\n      ) {\n        self.maxTotalFileCount = self.maxFileCount;\n      }\n      if (self.rtl) {\n        // swap buttons for rtl\n        tmp = self.previewZoomButtonIcons.prev;\n        self.previewZoomButtonIcons.prev = self.previewZoomButtonIcons.next;\n        self.previewZoomButtonIcons.next = tmp;\n      }\n      // validate chunk threads to not exceed maxAjaxThreads\n      if (\n        !isNaN(self.maxAjaxThreads) &&\n        self.maxAjaxThreads < self.resumableUploadOptions.maxThreads\n      ) {\n        self.resumableUploadOptions.maxThreads = self.maxAjaxThreads;\n      }\n      self._initFileManager();\n      if (typeof self.autoOrientImage === \"function\") {\n        self.autoOrientImage = self.autoOrientImage();\n      }\n      if (typeof self.autoOrientImageInitial === \"function\") {\n        self.autoOrientImageInitial = self.autoOrientImageInitial();\n      }\n      if (!refreshMode) {\n        self._cleanup();\n      }\n      self.duplicateErrors = [];\n      self.$form = $el.closest(\"form\");\n      self._initTemplateDefaults();\n      self.uploadFileAttr = !$h.isEmpty($el.attr(\"name\"))\n        ? $el.attr(\"name\")\n        : \"file_data\";\n      t = self._getLayoutTemplate(\"progress\");\n      self.progressTemplate = t.replace(\"{class}\", self.progressClass);\n      self.progressInfoTemplate = t.replace(\"{class}\", self.progressInfoClass);\n      self.progressPauseTemplate = t.replace(\n        \"{class}\",\n        self.progressPauseClass\n      );\n      self.progressCompleteTemplate = t.replace(\n        \"{class}\",\n        self.progressCompleteClass\n      );\n      self.progressErrorTemplate = t.replace(\n        \"{class}\",\n        self.progressErrorClass\n      );\n      self.isDisabled = $el.attr(\"disabled\") || $el.attr(\"readonly\");\n      if (self.isDisabled) {\n        $el.attr(\"disabled\", true);\n      }\n      self.isClickable =\n        self.browseOnZoneClick &&\n        self.showPreview &&\n        (self.dropZoneEnabled || !$h.isEmpty(self.defaultPreviewContent));\n      self.isAjaxUpload =\n        $h.hasFileUploadSupport() && !$h.isEmpty(self.uploadUrl);\n      self.dropZoneEnabled = $h.hasDragDropSupport() && self.dropZoneEnabled;\n      if (!self.isAjaxUpload) {\n        self.dropZoneEnabled =\n          self.dropZoneEnabled && $h.canAssignFilesToInput();\n      }\n      self.slug =\n        typeof options.slugCallback === \"function\"\n          ? options.slugCallback\n          : self._slugDefault;\n      self.mainTemplate = self.showCaption\n        ? self._getLayoutTemplate(\"main1\")\n        : self._getLayoutTemplate(\"main2\");\n      self.captionTemplate = self._getLayoutTemplate(\"caption\");\n      self.previewGenericTemplate = self._getPreviewTemplate(\"generic\");\n      if (\n        !self.imageCanvas &&\n        self.resizeImage &&\n        (self.maxImageWidth || self.maxImageHeight)\n      ) {\n        self.imageCanvas = document.createElement(\"canvas\");\n        self.imageCanvasContext = self.imageCanvas.getContext(\"2d\");\n      }\n      if ($h.isEmpty($el.attr(\"id\"))) {\n        $el.attr(\"id\", $h.uniqId());\n      }\n      self.namespace = \".fileinput_\" + $el.attr(\"id\").replace(/-/g, \"_\");\n      if (self.$container === undefined) {\n        self.$container = self._createContainer();\n      } else {\n        self._refreshContainer();\n      }\n      $cont = self.$container;\n      self.$dropZone = $cont.find(\".file-drop-zone\");\n      self.$progress = $cont.find(\".kv-upload-progress\");\n      self.$btnUpload = $cont.find(\".fileinput-upload\");\n      self.$captionContainer = $h.getElement(\n        options,\n        \"elCaptionContainer\",\n        $cont.find(\".file-caption\")\n      );\n      self.$caption = $h.getElement(\n        options,\n        \"elCaptionText\",\n        $cont.find(\".file-caption-name\")\n      );\n      self.$captionLabel = $h.getElement(\n        options,\n        \"elCaptionLabelText\",\n        $cont.find(\".file-caption-label\")\n      );\n      if (!$h.isEmpty(self.msgPlaceholder)) {\n        f = $el.attr(\"multiple\") ? self.filePlural : self.fileSingle;\n        self.$caption.attr(\n          \"placeholder\",\n          self.msgPlaceholder.replace(\"{files}\", f)\n        );\n      }\n      self.$caption.attr(\"id\", \"fileinput-\" + $el.attr(\"id\"));\n      var origLabel = document.querySelector(\n        'label[for=\"' + $el.attr(\"id\") + '\"]'\n      );\n      if (origLabel !== null) {\n        self.$captionLabel.html(origLabel.innerHTML);\n      }\n      self.$captionLabel.attr(\"for\", \"fileinput-\" + $el.attr(\"id\"));\n      self.$captionIcon = self.$captionContainer.find(\".file-caption-icon\");\n      self.$previewContainer = $h.getElement(\n        options,\n        \"elPreviewContainer\",\n        $cont.find(\".file-preview\")\n      );\n      self.$preview = $h.getElement(\n        options,\n        \"elPreviewImage\",\n        $cont.find(\".file-preview-thumbnails\")\n      );\n      self.$previewStatus = $h.getElement(\n        options,\n        \"elPreviewStatus\",\n        $cont.find(\".file-preview-status\")\n      );\n      self.$errorContainer = $h.getElement(\n        options,\n        \"elErrorContainer\",\n        self.$previewContainer.find(\".kv-fileinput-error\")\n      );\n      self._validateDisabled();\n      if (!$h.isEmpty(self.msgErrorClass)) {\n        $h.addCss(self.$errorContainer, self.msgErrorClass);\n      }\n      if (!refreshMode) {\n        self._resetErrors();\n        self.$errorContainer.hide();\n        self.previewInitId = \"thumb-\" + $el.attr(\"id\");\n        self._initPreviewCache();\n        self._initPreview(true);\n        self._initPreviewActions();\n        if (self.$parent.hasClass(\"file-loading\")) {\n          self.$container.insertBefore(self.$parent);\n          self.$parent.remove();\n        }\n      } else {\n        if (!self._errorsExist()) {\n          self.$errorContainer.hide();\n        }\n      }\n      self._setFileDropZoneTitle();\n      if ($el.attr(\"disabled\")) {\n        self.disable();\n      }\n      self._initZoom();\n      if (self.hideThumbnailContent) {\n        $h.addCss(self.$preview, \"hide-content\");\n      }\n    },\n    _initFileManager: function () {\n      var self = this;\n      self.uploadStartTime = $h.now();\n      self.fileManager = {\n        stack: {},\n        filesProcessed: [],\n        errors: [],\n        loadedImages: {},\n        totalImages: 0,\n        totalFiles: null,\n        totalSize: null,\n        uploadedSize: 0,\n        stats: {},\n        initStats: function (id) {\n          var data = { started: $h.now() };\n          if (id) {\n            self.fileManager.stats[id] = data;\n          } else {\n            self.fileManager.stats = data;\n          }\n        },\n        getUploadStats: function (id, loaded, total) {\n          var fm = self.fileManager,\n            started = id\n              ? (fm.stats[id] && fm.stats[id].started) || $h.now()\n              : self.uploadStartTime;\n          var elapsed = ($h.now() - started) / 1000,\n            speeds = [\n              \"B/s\",\n              \"KB/s\",\n              \"MB/s\",\n              \"GB/s\",\n              \"TB/s\",\n              \"PB/s\",\n              \"EB/s\",\n              \"ZB/s\",\n              \"YB/s\",\n            ],\n            bps = elapsed ? loaded / elapsed : 0,\n            bitrate = self._getSize(bps, speeds),\n            pendingBytes = total - loaded,\n            out = {\n              fileId: id,\n              started: started,\n              elapsed: elapsed,\n              loaded: loaded,\n              total: total,\n              bps: bps,\n              bitrate: bitrate,\n              pendingBytes: pendingBytes,\n            };\n          if (id) {\n            fm.stats[id] = out;\n          } else {\n            fm.stats = out;\n          }\n          return out;\n        },\n        exists: function (id) {\n          return $.inArray(id, self.fileManager.getIdList()) !== -1;\n        },\n        count: function () {\n          return self.fileManager.getIdList().length;\n        },\n        total: function () {\n          var fm = self.fileManager;\n          if (!fm.totalFiles) {\n            fm.totalFiles = fm.count();\n          }\n          return fm.totalFiles;\n        },\n        getTotalSize: function () {\n          var fm = self.fileManager;\n          if (fm.totalSize) {\n            return fm.totalSize;\n          }\n          fm.totalSize = 0;\n          $.each(self.fileManager.stack, function (id, f) {\n            var size = parseFloat(f.size);\n            fm.totalSize += isNaN(size) ? 0 : size;\n          });\n          return fm.totalSize;\n        },\n        add: function (file, id) {\n          if (!id) {\n            id = self.fileManager.getId(file);\n          }\n          if (!id) {\n            return;\n          }\n          self.fileManager.stack[id] = {\n            file: file,\n            name: $h.getFileName(file),\n            relativePath: $h.getFileRelativePath(file),\n            size: file.size,\n            nameFmt: self._getFileName(file, \"\"),\n            sizeFmt: self._getSize(file.size),\n          };\n        },\n        remove: function ($thumb) {\n          var id = $thumb.attr(\"data-fileid\");\n          if (id) {\n            self.fileManager.removeFile(id);\n          }\n        },\n        removeFile: function (id) {\n          delete self.fileManager.stack[id];\n          delete self.fileManager.loadedImages[id];\n        },\n        move: function (idFrom, idTo) {\n          var result = {},\n            stack = self.fileManager.stack;\n          if ((!idFrom && !idTo) || idFrom === idTo) {\n            return;\n          }\n          $.each(stack, function (k, v) {\n            if (k !== idFrom) {\n              result[k] = v;\n            }\n            if (k === idTo) {\n              result[idFrom] = stack[idFrom];\n            }\n          });\n          self.fileManager.stack = result;\n        },\n        list: function () {\n          var files = [];\n          $.each(self.fileManager.stack, function (k, v) {\n            if (v && v.file) {\n              files.push(v.file);\n            }\n          });\n          return files;\n        },\n        isPending: function (id) {\n          return (\n            $.inArray(id, self.fileManager.filesProcessed) === -1 &&\n            self.fileManager.exists(id)\n          );\n        },\n        isProcessed: function () {\n          var filesProcessed = true,\n            fm = self.fileManager;\n          $.each(fm.stack, function (id) {\n            if (fm.isPending(id)) {\n              filesProcessed = false;\n            }\n          });\n          return filesProcessed;\n        },\n        clear: function () {\n          var fm = self.fileManager;\n          self.isDuplicateError = false;\n          self.isPersistentError = false;\n          fm.totalFiles = null;\n          fm.totalSize = null;\n          fm.uploadedSize = 0;\n          fm.stack = {};\n          fm.errors = [];\n          fm.filesProcessed = [];\n          fm.stats = {};\n          fm.clearImages();\n        },\n        clearImages: function () {\n          self.fileManager.loadedImages = {};\n          self.fileManager.totalImages = 0;\n        },\n        addImage: function (id, config) {\n          self.fileManager.loadedImages[id] = config;\n        },\n        removeImage: function (id) {\n          delete self.fileManager.loadedImages[id];\n        },\n        getImageIdList: function () {\n          return $h.getObjectKeys(self.fileManager.loadedImages);\n        },\n        getImageCount: function () {\n          return self.fileManager.getImageIdList().length;\n        },\n        getId: function (file) {\n          return self._getFileId(file);\n        },\n        getIndex: function (id) {\n          return self.fileManager.getIdList().indexOf(id);\n        },\n        getThumb: function (id) {\n          var $thumb = null;\n          self._getThumbs().each(function () {\n            var $t = $(this);\n            if ($t.attr(\"data-fileid\") === id) {\n              $thumb = $t;\n            }\n          });\n          return $thumb;\n        },\n        getThumbIndex: function ($thumb) {\n          var id = $thumb.attr(\"data-fileid\");\n          return self.fileManager.getIndex(id);\n        },\n        getIdList: function () {\n          return $h.getObjectKeys(self.fileManager.stack);\n        },\n        getFile: function (id) {\n          return self.fileManager.stack[id] || null;\n        },\n        getFileName: function (id, fmt) {\n          var file = self.fileManager.getFile(id);\n          if (!file) {\n            return \"\";\n          }\n          return fmt ? file.nameFmt || \"\" : file.name || \"\";\n        },\n        getFirstFile: function () {\n          var ids = self.fileManager.getIdList(),\n            id = ids && ids.length ? ids[0] : null;\n          return self.fileManager.getFile(id);\n        },\n        setFile: function (id, file) {\n          if (self.fileManager.getFile(id)) {\n            self.fileManager.stack[id].file = file;\n          } else {\n            self.fileManager.add(file, id);\n          }\n        },\n        setProcessed: function (id) {\n          self.fileManager.filesProcessed.push(id);\n        },\n        getProgress: function () {\n          var total = self.fileManager.total(),\n            filesProcessed = self.fileManager.filesProcessed.length;\n          if (!total) {\n            return 0;\n          }\n          return Math.ceil((filesProcessed / total) * 100);\n        },\n        setProgress: function (id, pct) {\n          var f = self.fileManager.getFile(id);\n          if (!isNaN(pct) && f) {\n            f.progress = pct;\n          }\n        },\n      };\n    },\n    _setUploadData: function (fd, config) {\n      var self = this;\n      $.each(config, function (key, value) {\n        var param = self.uploadParamNames[key] || key;\n        if ($h.isArray(value)) {\n          fd.append(param, value[0], value[1]);\n        } else {\n          fd.append(param, value);\n        }\n      });\n    },\n    _initResumableUpload: function () {\n      var self = this,\n        opts = self.resumableUploadOptions,\n        logs = $h.logMessages,\n        rm,\n        fm = self.fileManager;\n      if (!self.enableResumableUpload) {\n        return;\n      }\n      if (opts.fallback !== false && typeof opts.fallback !== \"function\") {\n        opts.fallback = function (s) {\n          s._log(logs.noResumableSupport);\n          s.enableResumableUpload = false;\n        };\n      }\n      if (!$h.hasResumableUploadSupport() && opts.fallback !== false) {\n        opts.fallback(self);\n        return;\n      }\n      if (!self.uploadUrl && self.enableResumableUpload) {\n        self._log(logs.noUploadUrl);\n        self.enableResumableUpload = false;\n        return;\n      }\n      opts.chunkSize = parseFloat(opts.chunkSize);\n      if (opts.chunkSize <= 0 || isNaN(opts.chunkSize)) {\n        self._log(logs.invalidChunkSize, { chunkSize: opts.chunkSize });\n        self.enableResumableUpload = false;\n        return;\n      }\n      rm = self.resumableManager = {\n        init: function (id, f, index) {\n          rm.logs = [];\n          rm.stack = [];\n          rm.error = \"\";\n          rm.id = id;\n          rm.file = f.file;\n          rm.fileName = f.name;\n          rm.fileIndex = index;\n          rm.completed = false;\n          rm.lastProgress = 0;\n          if (self.showPreview) {\n            rm.$thumb = fm.getThumb(id) || null;\n            rm.$progress = rm.$btnDelete = null;\n            if (rm.$thumb && rm.$thumb.length) {\n              rm.$progress = rm.$thumb.find(\".file-thumb-progress\");\n              rm.$btnDelete = rm.$thumb.find(\".kv-file-remove\");\n            }\n          }\n          rm.chunkSize = opts.chunkSize * 1024;\n          rm.chunkCount = rm.getTotalChunks();\n        },\n        setAjaxError: function (jqXHR, textStatus, errorThrown, isTest) {\n          if (jqXHR.responseJSON && jqXHR.responseJSON.error) {\n            errorThrown = jqXHR.responseJSON.error.toString();\n          }\n          if (!isTest) {\n            rm.error = errorThrown;\n          }\n          if (opts.showErrorLog) {\n            self._log(logs.ajaxError, {\n              status: jqXHR.status,\n              error: errorThrown,\n              text: jqXHR.responseText || \"\",\n            });\n          }\n        },\n        reset: function () {\n          rm.stack = [];\n          rm.chunksProcessed = {};\n        },\n        setProcessed: function (status) {\n          var id = rm.id,\n            msg,\n            $thumb = rm.$thumb,\n            $prog = rm.$progress,\n            hasThumb = $thumb && $thumb.length,\n            params = {\n              id: hasThumb ? $thumb.attr(\"id\") : \"\",\n              index: fm.getIndex(id),\n              fileId: id,\n            };\n          rm.completed = true;\n          rm.lastProgress = 0;\n          if (hasThumb) {\n            $thumb.removeClass(\"file-uploading\");\n          }\n          if (status === \"success\") {\n            fm.uploadedSize += rm.file.size;\n            if (self.showPreview) {\n              self._setProgress(101, $prog);\n              self._setThumbStatus($thumb, \"Success\");\n              self._initUploadSuccess(rm.chunksProcessed[id].data, $thumb);\n            }\n            fm.removeFile(id);\n            delete rm.chunksProcessed[id];\n            self._raise(\"fileuploaded\", [\n              params.id,\n              params.index,\n              params.fileId,\n            ]);\n            if (fm.isProcessed()) {\n              self._setProgress(101);\n            }\n          } else {\n            if (status !== \"cancel\") {\n              if (self.showPreview) {\n                self._setThumbStatus($thumb, \"Error\");\n                self._setPreviewError($thumb, true);\n                self._setProgress(101, $prog, self.msgProgressError);\n                self._setProgress(101, self.$progress, self.msgProgressError);\n                self.cancelling = true;\n              }\n              if (\n                !self.$errorContainer.find(\n                  'li[data-file-id=\"' + params.fileId + '\"]'\n                ).length\n              ) {\n                msg = self.msgResumableUploadRetriesExceeded.setTokens({\n                  file: rm.fileName,\n                  max: opts.maxRetries,\n                  error: rm.error,\n                });\n                self._showFileError(msg, params);\n              }\n            }\n          }\n          if (fm.isProcessed()) {\n            rm.reset();\n          }\n        },\n        check: function () {\n          var status = true;\n          $.each(rm.logs, function (index, value) {\n            if (!value) {\n              status = false;\n              return false;\n            }\n          });\n        },\n        processedResumables: function () {\n          var logs = rm.logs,\n            i,\n            count = 0;\n          if (!logs || !logs.length) {\n            return 0;\n          }\n          for (i = 0; i < logs.length; i++) {\n            if (logs[i] === true) {\n              count++;\n            }\n          }\n          return count;\n        },\n        getUploadedSize: function () {\n          var size = rm.processedResumables() * rm.chunkSize;\n          return size > rm.file.size ? rm.file.size : size;\n        },\n        getTotalChunks: function () {\n          var chunkSize = parseFloat(rm.chunkSize);\n          if (!isNaN(chunkSize) && chunkSize > 0) {\n            return Math.ceil(rm.file.size / chunkSize);\n          }\n          return 0;\n        },\n        getProgress: function () {\n          var chunksProcessed = rm.processedResumables(),\n            total = rm.chunkCount;\n          if (total === 0) {\n            return 0;\n          }\n          return Math.ceil((chunksProcessed / total) * 100);\n        },\n        checkAborted: function (intervalId) {\n          if (self._isAborted()) {\n            clearInterval(intervalId);\n            self.unlock();\n          }\n        },\n        upload: function () {\n          var ids = fm.getIdList(),\n            flag = \"new\",\n            intervalId;\n          intervalId = setInterval(function () {\n            var id;\n            rm.checkAborted(intervalId);\n            if (flag === \"new\") {\n              self.lock();\n              flag = \"processing\";\n              id = ids.shift();\n              fm.initStats(id);\n              if (fm.stack[id]) {\n                rm.init(id, fm.stack[id], fm.getIndex(id));\n                rm.processUpload();\n              }\n            }\n            if (!fm.isPending(id) && rm.completed) {\n              flag = \"new\";\n            }\n            if (fm.isProcessed()) {\n              var $initThumbs = self.$preview.find(\".file-preview-initial\");\n              if ($initThumbs.length) {\n                $h.addCss($initThumbs, $h.SORT_CSS);\n                self._initSortable();\n              }\n              clearInterval(intervalId);\n              self._clearFileInput();\n              self.unlock();\n              setTimeout(function () {\n                var data = self.previewCache.data;\n                if (data) {\n                  self.initialPreview = data.content;\n                  self.initialPreviewConfig = data.config;\n                  self.initialPreviewThumbTags = data.tags;\n                }\n                self._raise(\"filebatchuploadcomplete\", [\n                  self.initialPreview,\n                  self.initialPreviewConfig,\n                  self.initialPreviewThumbTags,\n                  self._getExtraData(),\n                ]);\n              }, self.processDelay);\n            }\n          }, self.processDelay);\n        },\n        uploadResumable: function () {\n          var i,\n            pool,\n            tm = self.taskManager,\n            total = rm.chunkCount;\n          pool = tm.addPool(rm.id);\n          for (i = 0; i < total; i++) {\n            rm.logs[i] = !!(\n              rm.chunksProcessed[rm.id] && rm.chunksProcessed[rm.id][i]\n            );\n            if (!rm.logs[i]) {\n              rm.pushAjax(i, 0);\n            }\n          }\n          pool\n            .run(opts.maxThreads)\n            .done(function () {\n              rm.setProcessed(\"success\");\n            })\n            .fail(function () {\n              rm.setProcessed(pool.cancelled ? \"cancel\" : \"error\");\n            });\n        },\n        processUpload: function () {\n          var fd,\n            f,\n            id = rm.id,\n            fnBefore,\n            fnSuccess,\n            fnError,\n            fnComplete,\n            outData;\n          if (!opts.testUrl) {\n            rm.uploadResumable();\n            return;\n          }\n          fd = new FormData();\n          f = fm.stack[id];\n          self._setUploadData(fd, {\n            fileId: id,\n            fileName: f.fileName,\n            fileSize: f.size,\n            fileRelativePath: f.relativePath,\n            chunkSize: rm.chunkSize,\n            chunkCount: rm.chunkCount,\n          });\n          fnBefore = function (jqXHR) {\n            outData = self._getOutData(fd, jqXHR);\n            self._raise(\"filetestbeforesend\", [id, fm, rm, outData]);\n          };\n          fnSuccess = function (data, textStatus, jqXHR) {\n            outData = self._getOutData(fd, jqXHR, data);\n            var pNames = self.uploadParamNames,\n              chunksUploaded = pNames.chunksUploaded || \"chunksUploaded\",\n              params = [id, fm, rm, outData];\n            if (!data[chunksUploaded] || !$h.isArray(data[chunksUploaded])) {\n              self._raise(\"filetesterror\", params);\n            } else {\n              if (!rm.chunksProcessed[id]) {\n                rm.chunksProcessed[id] = {};\n              }\n              $.each(data[chunksUploaded], function (key, index) {\n                rm.logs[index] = true;\n                rm.chunksProcessed[id][index] = true;\n              });\n              rm.chunksProcessed[id].data = data;\n              self._raise(\"filetestsuccess\", params);\n            }\n            rm.uploadResumable();\n          };\n          fnError = function (jqXHR, textStatus, errorThrown) {\n            outData = self._getOutData(fd, jqXHR);\n            self._raise(\"filetestajaxerror\", [id, fm, rm, outData]);\n            rm.setAjaxError(jqXHR, textStatus, errorThrown, true);\n            rm.uploadResumable();\n          };\n          fnComplete = function () {\n            self._raise(\"filetestcomplete\", [id, fm, rm, self._getOutData(fd)]);\n          };\n          self._ajaxSubmit(\n            fnBefore,\n            fnSuccess,\n            fnComplete,\n            fnError,\n            fd,\n            id,\n            rm.fileIndex,\n            opts.testUrl\n          );\n        },\n        pushAjax: function (index, retry) {\n          var tm = self.taskManager,\n            pool = tm.getPool(rm.id);\n          pool.addTask(pool.size() + 1, function (deferrer) {\n            // use fifo chunk stack\n            var arr = rm.stack.shift(),\n              index;\n            index = arr[0];\n            if (\n              !rm.chunksProcessed[rm.id] ||\n              !rm.chunksProcessed[rm.id][index]\n            ) {\n              rm.sendAjax(index, arr[1], deferrer);\n            } else {\n              self._log(logs.chunkQueueError, { index: index });\n            }\n          });\n          rm.stack.push([index, retry]);\n        },\n        sendAjax: function (index, retry, deferrer) {\n          var f,\n            chunkSize = rm.chunkSize,\n            id = rm.id,\n            file = rm.file,\n            $thumb = rm.$thumb,\n            msgs = $h.logMessages,\n            $btnDelete = rm.$btnDelete,\n            logError = function (msg, tokens) {\n              if (tokens) {\n                msg = msg.setTokens(tokens);\n              }\n              msg = \"Error processing resumable ajax request. \" + msg;\n              self._log(msg);\n              deferrer.reject(msg);\n            };\n          if (rm.chunksProcessed[id] && rm.chunksProcessed[id][index]) {\n            return;\n          }\n          if (retry > opts.maxRetries) {\n            logError(msgs.resumableMaxRetriesReached, { n: opts.maxRetries });\n            rm.setProcessed(\"error\");\n            return;\n          }\n          var fd,\n            outData,\n            fnBefore,\n            fnSuccess,\n            fnError,\n            fnComplete,\n            slice = file.slice\n              ? \"slice\"\n              : file.mozSlice\n              ? \"mozSlice\"\n              : file.webkitSlice\n              ? \"webkitSlice\"\n              : \"slice\",\n            blob = file[slice](chunkSize * index, chunkSize * (index + 1));\n          fd = new FormData();\n          f = fm.stack[id];\n          self._setUploadData(fd, {\n            chunkCount: rm.chunkCount,\n            chunkIndex: index,\n            chunkSize: chunkSize,\n            chunkSizeStart: chunkSize * index,\n            fileBlob: [blob, rm.fileName],\n            fileId: id,\n            fileName: rm.fileName,\n            fileRelativePath: f.relativePath,\n            fileSize: file.size,\n            retryCount: retry,\n          });\n          if (rm.$progress && rm.$progress.length) {\n            rm.$progress.show();\n          }\n          fnBefore = function (jqXHR) {\n            outData = self._getOutData(fd, jqXHR);\n            if (self.showPreview) {\n              if (!$thumb.hasClass(\"file-preview-success\")) {\n                self._setThumbStatus($thumb, \"Loading\");\n                $h.addCss($thumb, \"file-uploading\");\n              }\n              $btnDelete.attr(\"disabled\", true);\n            }\n            self._raise(\"filechunkbeforesend\", [\n              id,\n              index,\n              retry,\n              fm,\n              rm,\n              outData,\n            ]);\n          };\n          fnSuccess = function (data, textStatus, jqXHR) {\n            if (self._isAborted()) {\n              logError(msgs.resumableAborting);\n              return;\n            }\n            outData = self._getOutData(fd, jqXHR, data);\n            var paramNames = self.uploadParamNames,\n              chunkIndex = paramNames.chunkIndex || \"chunkIndex\",\n              params = [id, index, retry, fm, rm, outData];\n            if (data.error) {\n              if (opts.showErrorLog) {\n                self._log(logs.retryStatus, {\n                  retry: retry + 1,\n                  filename: rm.fileName,\n                  chunk: index,\n                });\n              }\n              rm.pushAjax(index, retry + 1);\n              rm.error = data.error;\n              self._raise(\"filechunkerror\", params);\n            } else {\n              rm.logs[data[chunkIndex]] = true;\n              if (!rm.chunksProcessed[id]) {\n                rm.chunksProcessed[id] = {};\n              }\n              rm.chunksProcessed[id][data[chunkIndex]] = true;\n              rm.chunksProcessed[id].data = data;\n              deferrer.resolve.call(null, data);\n              self._raise(\"filechunksuccess\", params);\n              rm.check();\n            }\n          };\n          fnError = function (jqXHR, textStatus, errorThrown) {\n            if (self._isAborted()) {\n              logError(msgs.resumableAborting);\n              return;\n            }\n            outData = self._getOutData(fd, jqXHR);\n            rm.setAjaxError(jqXHR, textStatus, errorThrown);\n            self._raise(\"filechunkajaxerror\", [\n              id,\n              index,\n              retry,\n              fm,\n              rm,\n              outData,\n            ]);\n            rm.pushAjax(index, retry + 1); // push another task\n            logError(msgs.resumableRetryError, { n: retry - 1 }); // resolve the current task\n          };\n          fnComplete = function () {\n            if (!self._isAborted()) {\n              self._raise(\"filechunkcomplete\", [\n                id,\n                index,\n                retry,\n                fm,\n                rm,\n                self._getOutData(fd),\n              ]);\n            }\n          };\n          self._ajaxSubmit(\n            fnBefore,\n            fnSuccess,\n            fnComplete,\n            fnError,\n            fd,\n            id,\n            rm.fileIndex\n          );\n        },\n      };\n      rm.reset();\n    },\n    _initTemplateDefaults: function () {\n      var self = this,\n        tMain1,\n        tMain2,\n        tPreview,\n        tFileIcon,\n        tClose,\n        tCaption,\n        tBtnDefault,\n        tBtnLink,\n        tBtnBrowse,\n        tModalMain,\n        tModal,\n        tProgress,\n        tSize,\n        tFooter,\n        tActions,\n        tActionDelete,\n        tActionUpload,\n        tActionDownload,\n        tActionZoom,\n        tActionDrag,\n        tIndicator,\n        tTagBef,\n        tTagBef1,\n        tTagBef2,\n        tTagAft,\n        tGeneric,\n        tHtml,\n        tImage,\n        tText,\n        tOffice,\n        tGdocs,\n        tVideo,\n        tAudio,\n        tFlash,\n        tObject,\n        tPdf,\n        tOther,\n        tStyle,\n        tZoomCache,\n        vDefaultDim,\n        tStats,\n        tModalLabel,\n        renderObject = function (type, mime) {\n          return (\n            '<object class=\"kv-preview-data file-preview-' +\n            type +\n            '\" title=\"{caption}\" ' +\n            'data=\"{data}\" type=\"' +\n            mime +\n            '\"' +\n            tStyle +\n            \">\\n\" +\n            $h.DEFAULT_PREVIEW +\n            \"\\n</object>\\n\"\n          );\n        };\n      tMain1 =\n        \"{preview}\\n\" +\n        '<div class=\"kv-upload-progress kv-hidden\"></div><div class=\"clearfix\"></div>\\n' +\n        '<div class=\"input-group {class}\">\\n' +\n        \"  {caption}\\n\" +\n        \"  {remove}\\n\" +\n        \"  {cancel}\\n\" +\n        \"  {pause}\\n\" +\n        \"  {upload}\\n\" +\n        \"  {browse}\\n\" +\n        \"</div>\";\n      tMain2 =\n        '{preview}\\n<div class=\"kv-upload-progress kv-hidden\"></div>\\n<div class=\"clearfix\"></div>\\n' +\n        \"{remove}\\n{cancel}\\n{upload}\\n{browse}\\n\";\n      tPreview =\n        '<div class=\"file-preview {class}\">\\n' +\n        \"  {close}\" +\n        '  <div class=\"{dropClass} clearfix\">\\n' +\n        '    <div class=\"file-preview-thumbnails clearfix\">\\n' +\n        \"    </div>\\n\" +\n        '    <div class=\"file-preview-status text-center text-success\"></div>\\n' +\n        '    <div class=\"kv-fileinput-error\"></div>\\n' +\n        \"  </div>\\n\" +\n        \"</div>\";\n      tClose = $h.closeButton(\"fileinput-remove\");\n      tFileIcon = '<i class=\"glyphicon glyphicon-file\"></i>';\n      // noinspection HtmlUnknownAttribute\n      tCaption =\n        '<div class=\"file-caption form-control {class}\">\\n' +\n        '  <span class=\"file-caption-icon\"></span>\\n' +\n        '  <label class=\"visually-hidden file-caption-label\"></label>\\n' +\n        '  <input class=\"file-caption-name\">\\n' +\n        \"</div>\";\n      //noinspection HtmlUnknownAttribute\n      tBtnDefault =\n        '<button type=\"{type}\" tabindex=\"0\" title=\"{title}\" class=\"{css}\" ' +\n        \"{status}>{icon} {label}</button>\";\n      //noinspection HtmlUnknownTarget,HtmlUnknownAttribute\n      tBtnLink =\n        '<a href=\"{href}\" tabindex=\"0\" title=\"{title}\" class=\"{css}\" {status}>{icon} {label}</a>';\n      //noinspection HtmlUnknownAttribute\n      tBtnBrowse =\n        '<div tabindex=\"0\" class=\"{css}\" {status}>{icon} {label}</div>';\n      tModalLabel = $h.MODAL_ID + \"Label\";\n      tModalMain =\n        '<div id=\"' +\n        $h.MODAL_ID +\n        '\" class=\"file-zoom-dialog modal fade\" ' +\n        'tabindex=\"-1\" aria-labelledby=\"' +\n        tModalLabel +\n        '\"></div>';\n      tModal =\n        '<div class=\"modal-dialog modal-lg{rtl}\" role=\"document\">\\n' +\n        '  <div class=\"modal-content\">\\n' +\n        '    <div class=\"modal-header\">\\n' +\n        '      <h5 class=\"modal-title\" id=\"' +\n        tModalLabel +\n        '\">{heading}</h5>\\n' +\n        '      <span class=\"kv-zoom-title\"></span>\\n' +\n        '      <div class=\"kv-zoom-actions\">{toggleheader}{fullscreen}{borderless}{close}</div>\\n' +\n        \"    </div>\\n\" +\n        '    <div class=\"modal-body\">\\n' +\n        '      <div class=\"floating-buttons\"></div>\\n' +\n        '      <div class=\"kv-zoom-body file-zoom-content {zoomFrameClass}\"></div>\\n' +\n        \"{prev} {next}\\n\" +\n        \"    </div>\\n\" +\n        \"  </div>\\n\" +\n        \"</div>\\n\";\n      tProgress =\n        '<div class=\"progress\">\\n' +\n        '    <div class=\"{class}\" role=\"progressbar\"' +\n        ' aria-valuenow=\"{percent}\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:{percent}%;\">\\n' +\n        \"        {status}\\n\" +\n        \"     </div>\\n\" +\n        \"</div>{stats}\";\n      tStats =\n        '<div class=\"text-info file-upload-stats\">' +\n        '<span class=\"pending-time\">{pendingTime}</span> ' +\n        '<span class=\"upload-speed\">{uploadSpeed}</span>' +\n        \"</div>\";\n      tSize = \" <samp>({sizeText})</samp>\";\n      tFooter =\n        '<div class=\"file-thumbnail-footer\">\\n' +\n        '    <div class=\"file-footer-caption\" title=\"{caption}\">\\n' +\n        '        <div class=\"file-caption-info\">{caption}</div>\\n' +\n        '        <div class=\"file-size-info\">{size}</div>\\n' +\n        \"    </div>\\n\" +\n        \"    {progress}\\n{indicator}\\n{actions}\\n\" +\n        \"</div>\";\n      tActions =\n        '<div class=\"file-actions\">\\n' +\n        '    <div class=\"file-footer-buttons\">\\n' +\n        \"        {download} {upload} {delete} {zoom} {other}\" +\n        \"    </div>\\n\" +\n        \"</div>\\n\" +\n        \"{drag}\\n\" +\n        '<div class=\"clearfix\"></div>';\n      //noinspection HtmlUnknownAttribute\n      tActionDelete =\n        '<button type=\"button\" class=\"kv-file-remove {removeClass}\" ' +\n        'title=\"{removeTitle}\" {dataUrl}{dataKey}>{removeIcon}</button>\\n';\n      tActionUpload =\n        '<button type=\"button\" class=\"kv-file-upload {uploadClass}\" title=\"{uploadTitle}\">' +\n        \"{uploadIcon}</button>\";\n      tActionDownload =\n        '<a class=\"kv-file-download {downloadClass}\" title=\"{downloadTitle}\" ' +\n        'href=\"{downloadUrl}\" download=\"{caption}\" target=\"_blank\">{downloadIcon}</a>';\n      tActionZoom =\n        '<button type=\"button\" class=\"kv-file-zoom {zoomClass}\" ' +\n        'title=\"{zoomTitle}\">{zoomIcon}</button>';\n      tActionDrag =\n        '<span class=\"file-drag-handle {dragClass}\" title=\"{dragTitle}\">{dragIcon}</span>';\n      tIndicator =\n        '<div class=\"file-upload-indicator\" title=\"{indicatorTitle}\">{indicator}</div>';\n      tTagBef =\n        '<div class=\"file-preview-frame {frameClass}\" id=\"{previewId}\" data-fileindex=\"{fileindex}\"' +\n        ' data-fileid=\"{fileid}\" data-template=\"{template}\"';\n      tTagBef1 = tTagBef + '><div class=\"kv-file-content\">\\n';\n      tTagBef2 = tTagBef + ' title=\"{caption}\"><div class=\"kv-file-content\">\\n';\n      tTagAft = \"</div>{footer}\\n{zoomCache}</div>\\n\";\n      tGeneric = \"{content}\\n\";\n      tStyle = \" {style}\";\n      tHtml = renderObject(\"html\", \"text/html\");\n      tText = renderObject(\"text\", \"text/plain;charset=UTF-8\");\n      tPdf = renderObject(\"pdf\", \"application/pdf\");\n      tImage =\n        '<img src=\"{data}\" class=\"file-preview-image kv-preview-data\" title=\"{title}\" alt=\"{alt}\"' +\n        tStyle +\n        \">\\n\";\n      tOffice =\n        '<iframe class=\"kv-preview-data file-preview-office\" ' +\n        'src=\"https://view.officeapps.live.com/op/embed.aspx?src={data}\"' +\n        tStyle +\n        \"></iframe>\";\n      tGdocs =\n        '<iframe class=\"kv-preview-data file-preview-gdocs\" ' +\n        'src=\"https://docs.google.com/gview?url={data}&embedded=true\"' +\n        tStyle +\n        \"></iframe>\";\n      tVideo =\n        '<video class=\"kv-preview-data file-preview-video\" controls' +\n        tStyle +\n        \">\\n\" +\n        '<source src=\"{data}\" type=\"{type}\">\\n' +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</video>\\n\";\n      tAudio =\n        '<!--suppress ALL --><audio class=\"kv-preview-data file-preview-audio\" controls' +\n        tStyle +\n        '>\\n<source src=\"{data}\" ' +\n        'type=\"{type}\">\\n' +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</audio>\\n\";\n      tFlash =\n        '<embed class=\"kv-preview-data file-preview-flash\" src=\"{data}\" type=\"application/x-shockwave-flash\"' +\n        tStyle +\n        \">\\n\";\n      tObject =\n        '<object class=\"kv-preview-data file-preview-object file-object {typeCss}\" ' +\n        'data=\"{data}\" type=\"{type}\"' +\n        tStyle +\n        \">\\n\" +\n        '<param name=\"movie\" value=\"{caption}\" />\\n' +\n        $h.OBJECT_PARAMS +\n        \" \" +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</object>\\n\";\n      tOther =\n        '<div class=\"kv-preview-data file-preview-other-frame\"' +\n        tStyle +\n        \">\\n\" +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</div>\\n\";\n      tZoomCache = '<div class=\"kv-zoom-cache\">{zoomContent}</div>';\n      vDefaultDim = { width: \"100%\", height: \"100%\", \"min-height\": \"480px\" };\n      if (self._isPdfRendered()) {\n        tPdf = self.pdfRendererTemplate.replace(\n          \"{renderer}\",\n          self._encodeURI(self.pdfRendererUrl)\n        );\n      }\n      self.defaults = {\n        layoutTemplates: {\n          main1: tMain1,\n          main2: tMain2,\n          preview: tPreview,\n          close: tClose,\n          fileIcon: tFileIcon,\n          caption: tCaption,\n          modalMain: tModalMain,\n          modal: tModal,\n          progress: tProgress,\n          stats: tStats,\n          size: tSize,\n          footer: tFooter,\n          indicator: tIndicator,\n          actions: tActions,\n          actionDelete: tActionDelete,\n          actionUpload: tActionUpload,\n          actionDownload: tActionDownload,\n          actionZoom: tActionZoom,\n          actionDrag: tActionDrag,\n          btnDefault: tBtnDefault,\n          btnLink: tBtnLink,\n          btnBrowse: tBtnBrowse,\n          zoomCache: tZoomCache,\n        },\n        previewMarkupTags: {\n          tagBefore1: tTagBef1,\n          tagBefore2: tTagBef2,\n          tagAfter: tTagAft,\n        },\n        previewContentTemplates: {\n          generic: tGeneric,\n          html: tHtml,\n          image: tImage,\n          text: tText,\n          office: tOffice,\n          gdocs: tGdocs,\n          video: tVideo,\n          audio: tAudio,\n          flash: tFlash,\n          object: tObject,\n          pdf: tPdf,\n          other: tOther,\n        },\n        allowedPreviewTypes: [\n          \"image\",\n          \"html\",\n          \"text\",\n          \"video\",\n          \"audio\",\n          \"flash\",\n          \"pdf\",\n          \"object\",\n        ],\n        previewTemplates: {},\n        previewSettings: {\n          image: {\n            width: \"auto\",\n            height: \"auto\",\n            \"max-width\": \"100%\",\n            \"max-height\": \"100%\",\n          },\n          html: { width: \"213px\", height: \"160px\" },\n          text: { width: \"213px\", height: \"160px\" },\n          office: { width: \"213px\", height: \"160px\" },\n          gdocs: { width: \"213px\", height: \"160px\" },\n          video: { width: \"213px\", height: \"160px\" },\n          audio: { width: \"100%\", height: \"30px\" },\n          flash: { width: \"213px\", height: \"160px\" },\n          object: { width: \"213px\", height: \"160px\" },\n          pdf: { width: \"100%\", height: \"160px\", position: \"relative\" },\n          other: { width: \"213px\", height: \"160px\" },\n        },\n        previewSettingsSmall: {\n          image: {\n            width: \"auto\",\n            height: \"auto\",\n            \"max-width\": \"100%\",\n            \"max-height\": \"100%\",\n          },\n          html: { width: \"100%\", height: \"160px\" },\n          text: { width: \"100%\", height: \"160px\" },\n          office: { width: \"100%\", height: \"160px\" },\n          gdocs: { width: \"100%\", height: \"160px\" },\n          video: { width: \"100%\", height: \"auto\" },\n          audio: { width: \"100%\", height: \"30px\" },\n          flash: { width: \"100%\", height: \"auto\" },\n          object: { width: \"100%\", height: \"auto\" },\n          pdf: { width: \"100%\", height: \"160px\" },\n          other: { width: \"100%\", height: \"160px\" },\n        },\n        previewZoomSettings: {\n          image: {\n            width: \"auto\",\n            height: \"auto\",\n            \"max-width\": \"100%\",\n            \"max-height\": \"100%\",\n          },\n          html: vDefaultDim,\n          text: vDefaultDim,\n          office: {\n            width: \"100%\",\n            height: \"100%\",\n            \"max-width\": \"100%\",\n            \"min-height\": \"480px\",\n          },\n          gdocs: {\n            width: \"100%\",\n            height: \"100%\",\n            \"max-width\": \"100%\",\n            \"min-height\": \"480px\",\n          },\n          video: { width: \"auto\", height: \"100%\", \"max-width\": \"100%\" },\n          audio: { width: \"100%\", height: \"30px\" },\n          flash: { width: \"auto\", height: \"480px\" },\n          object: {\n            width: \"auto\",\n            height: \"100%\",\n            \"max-width\": \"100%\",\n            \"min-height\": \"480px\",\n          },\n          pdf: vDefaultDim,\n          other: { width: \"auto\", height: \"100%\", \"min-height\": \"480px\" },\n        },\n        mimeTypeAliases: {\n          \"video/quicktime\": \"video/mp4\",\n        },\n        fileTypeSettings: {\n          image: function (vType, vName) {\n            return (\n              ($h.compare(vType, \"image.*\") &&\n                !$h.compare(vType, /(tiff?|wmf)$/i)) ||\n              $h.compare(vName, /\\.(gif|png|jpe?g)$/i)\n            );\n          },\n          html: function (vType, vName) {\n            return (\n              $h.compare(vType, \"text/html\") ||\n              $h.compare(vName, /\\.(htm|html)$/i)\n            );\n          },\n          office: function (vType, vName) {\n            return (\n              $h.compare(vType, /(word|excel|powerpoint|office)$/i) ||\n              $h.compare(vName, /\\.(docx?|xlsx?|pptx?|pps|potx?)$/i)\n            );\n          },\n          gdocs: function (vType, vName) {\n            return (\n              $h.compare(\n                vType,\n                /(word|excel|powerpoint|office|iwork-pages|tiff?)$/i\n              ) ||\n              $h.compare(\n                vName,\n                /\\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i\n              )\n            );\n          },\n          text: function (vType, vName) {\n            return (\n              $h.compare(vType, \"text.*\") ||\n              $h.compare(vName, /\\.(xml|javascript)$/i) ||\n              $h.compare(vName, /\\.(txt|md|nfo|ini|json|php|js|css)$/i)\n            );\n          },\n          video: function (vType, vName) {\n            return (\n              $h.compare(vType, \"video.*\") &&\n              ($h.compare(vType, /(ogg|mp4|mp?g|mov|webm|3gp)$/i) ||\n                $h.compare(vName, /\\.(og?|mp4|webm|mp?g|mov|3gp)$/i))\n            );\n          },\n          audio: function (vType, vName) {\n            return (\n              $h.compare(vType, \"audio.*\") &&\n              ($h.compare(vName, /(ogg|mp3|mp?g|wav)$/i) ||\n                $h.compare(vName, /\\.(og?|mp3|mp?g|wav)$/i))\n            );\n          },\n          flash: function (vType, vName) {\n            return (\n              $h.compare(vType, \"application/x-shockwave-flash\", true) ||\n              $h.compare(vName, /\\.(swf)$/i)\n            );\n          },\n          pdf: function (vType, vName) {\n            return (\n              $h.compare(vType, \"application/pdf\", true) ||\n              $h.compare(vName, /\\.(pdf)$/i)\n            );\n          },\n          object: function () {\n            return true;\n          },\n          other: function () {\n            return true;\n          },\n        },\n        fileActionSettings: {\n          showRemove: true,\n          showUpload: true,\n          showDownload: true,\n          showZoom: true,\n          showDrag: true,\n          removeIcon: '<i class=\"glyphicon glyphicon-trash\"></i>',\n          removeClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          removeErrorClass: \"btn btn-sm btn-kv btn-danger\",\n          removeTitle: \"Remove file\",\n          uploadIcon: '<i class=\"glyphicon glyphicon-upload\"></i>',\n          uploadClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          uploadTitle: \"Upload file\",\n          uploadRetryIcon: '<i class=\"glyphicon glyphicon-repeat\"></i>',\n          uploadRetryTitle: \"Retry upload\",\n          downloadIcon: '<i class=\"glyphicon glyphicon-download\"></i>',\n          downloadClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          downloadTitle: \"Download file\",\n          zoomIcon: '<i class=\"glyphicon glyphicon-zoom-in\"></i>',\n          zoomClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          zoomTitle: \"View Details\",\n          dragIcon: '<i class=\"glyphicon glyphicon-move\"></i>',\n          dragClass: \"text-info\",\n          dragTitle: \"Move / Rearrange\",\n          dragSettings: {},\n          indicatorNew:\n            '<i class=\"glyphicon glyphicon-plus-sign text-warning\"></i>',\n          indicatorSuccess:\n            '<i class=\"glyphicon glyphicon-ok-sign text-success\"></i>',\n          indicatorError:\n            '<i class=\"glyphicon glyphicon-exclamation-sign text-danger\"></i>',\n          indicatorLoading:\n            '<i class=\"glyphicon glyphicon-hourglass text-body-secondary\"></i>',\n          indicatorPaused:\n            '<i class=\"glyphicon glyphicon-pause text-primary\"></i>',\n          indicatorNewTitle: \"Not uploaded yet\",\n          indicatorSuccessTitle: \"Uploaded\",\n          indicatorErrorTitle: \"Upload Error\",\n          indicatorLoadingTitle: \"Uploading &hellip;\",\n          indicatorPausedTitle: \"Upload Paused\",\n        },\n      };\n      $.each(self.defaults, function (key, setting) {\n        if (key === \"allowedPreviewTypes\") {\n          if (self.allowedPreviewTypes === undefined) {\n            self.allowedPreviewTypes = setting;\n          }\n          return;\n        }\n        self[key] = $.extend(true, {}, setting, self[key]);\n      });\n      self._initPreviewTemplates();\n    },\n    _initPreviewTemplates: function () {\n      var self = this,\n        tags = self.previewMarkupTags,\n        tagBef,\n        tagAft = tags.tagAfter;\n      $.each(self.previewContentTemplates, function (key, value) {\n        if ($h.isEmpty(self.previewTemplates[key])) {\n          tagBef = tags.tagBefore2;\n          if (key === \"generic\" || key === \"image\") {\n            tagBef = tags.tagBefore1;\n          }\n          if (self._isPdfRendered() && key === \"pdf\") {\n            tagBef = tagBef.replace(\n              \"kv-file-content\",\n              \"kv-file-content kv-pdf-rendered\"\n            );\n          }\n          self.previewTemplates[key] = tagBef + value + tagAft;\n        }\n      });\n    },\n    _initPreviewCache: function () {\n      var self = this;\n      self.previewCache = {\n        data: {},\n        init: function () {\n          var content = self.initialPreview;\n          if (content.length > 0 && !$h.isArray(content)) {\n            content = content.split(self.initialPreviewDelimiter);\n          }\n          self.previewCache.data = {\n            content: content,\n            config: self.initialPreviewConfig,\n            tags: self.initialPreviewThumbTags,\n          };\n        },\n        count: function (skipNull) {\n          if (!self.previewCache.data || !self.previewCache.data.content) {\n            return 0;\n          }\n          if (skipNull) {\n            var chk = self.previewCache.data.content.filter(function (n) {\n              return n !== null;\n            });\n            return chk.length;\n          }\n          return self.previewCache.data.content.length;\n        },\n        get: function (i, isDisabled) {\n          var ind = $h.INIT_FLAG + i,\n            data = self.previewCache.data,\n            config = data.config[i],\n            content = data.content[i],\n            out,\n            $tmp,\n            cat,\n            ftr,\n            fname,\n            ftype,\n            frameClass,\n            asData = $h.ifSet(\n              \"previewAsData\",\n              config,\n              self.initialPreviewAsData\n            ),\n            a = config\n              ? { title: config.title || null, alt: config.alt || null }\n              : { title: null, alt: null },\n            parseTemplate = function (\n              cat,\n              dat,\n              fname,\n              ftype,\n              ftr,\n              ind,\n              fclass,\n              t\n            ) {\n              var fc =\n                  \" file-preview-initial \" +\n                  $h.SORT_CSS +\n                  (fclass ? \" \" + fclass : \"\"),\n                id = self.previewInitId + \"-\" + ind,\n                fileId = (config && config.fileId) || id;\n              /** @namespace config.zoomData */\n              return self._generatePreviewTemplate(\n                cat,\n                dat,\n                fname,\n                ftype,\n                id,\n                fileId,\n                false,\n                null,\n                fc,\n                ftr,\n                ind,\n                t,\n                a,\n                (config && config.zoomData) || dat\n              );\n            };\n          if (!content || !content.length) {\n            return \"\";\n          }\n          isDisabled = isDisabled === undefined ? true : isDisabled;\n          cat = $h.ifSet(\n            \"type\",\n            config,\n            self.initialPreviewFileType || \"generic\"\n          );\n          fname = $h.ifSet(\"filename\", config, $h.ifSet(\"caption\", config));\n          ftype = $h.ifSet(\"filetype\", config, cat);\n          ftr = self.previewCache.footer(\n            i,\n            isDisabled,\n            (config && config.size) || null\n          );\n          frameClass = $h.ifSet(\"frameClass\", config);\n          if (asData) {\n            out = parseTemplate(\n              cat,\n              content,\n              fname,\n              ftype,\n              ftr,\n              ind,\n              frameClass\n            );\n          } else {\n            out = parseTemplate(\n              \"generic\",\n              content,\n              fname,\n              ftype,\n              ftr,\n              ind,\n              frameClass,\n              cat\n            ).setTokens({ content: data.content[i] });\n          }\n          if (data.tags.length && data.tags[i]) {\n            out = $h.replaceTags(out, data.tags[i]);\n          }\n          /** @namespace config.frameAttr */\n          if (!$h.isEmpty(config) && !$h.isEmpty(config.frameAttr)) {\n            $tmp = $h.createElement(out);\n            $tmp.find(\".file-preview-initial\").attr(config.frameAttr);\n            out = $tmp.html();\n            $tmp.remove();\n          }\n          return out;\n        },\n        clean: function (data) {\n          data.content = $h.cleanArray(data.content);\n          data.config = $h.cleanArray(data.config);\n          data.tags = $h.cleanArray(data.tags);\n          self.previewCache.data = data;\n        },\n        add: function (content, config, tags, append) {\n          var data = self.previewCache.data,\n            index;\n          if (!content || !content.length) {\n            return 0;\n          }\n          index = content.length - 1;\n          if (!$h.isArray(content)) {\n            content = content.split(self.initialPreviewDelimiter);\n          }\n          if (append && data.content) {\n            index = data.content.push(content[0]) - 1;\n            data.config[index] = config;\n            data.tags[index] = tags;\n          } else {\n            data.content = content;\n            data.config = config;\n            data.tags = tags;\n          }\n          self.previewCache.clean(data);\n          return index;\n        },\n        set: function (content, config, tags, append) {\n          var data = self.previewCache.data,\n            i,\n            chk;\n          if (!content || !content.length) {\n            return;\n          }\n          if (!$h.isArray(content)) {\n            content = content.split(self.initialPreviewDelimiter);\n          }\n          chk = content.filter(function (n) {\n            return n !== null;\n          });\n          if (!chk.length) {\n            return;\n          }\n          if (data.content === undefined) {\n            data.content = [];\n          }\n          if (data.config === undefined) {\n            data.config = [];\n          }\n          if (data.tags === undefined) {\n            data.tags = [];\n          }\n          if (append) {\n            for (i = 0; i < content.length; i++) {\n              if (content[i]) {\n                data.content.push(content[i]);\n              }\n            }\n            for (i = 0; i < config.length; i++) {\n              if (config[i]) {\n                data.config.push(config[i]);\n              }\n            }\n            for (i = 0; i < tags.length; i++) {\n              if (tags[i]) {\n                data.tags.push(tags[i]);\n              }\n            }\n          } else {\n            data.content = content;\n            data.config = config;\n            data.tags = tags;\n          }\n          self.previewCache.clean(data);\n        },\n        unset: function (index) {\n          var chk = self.previewCache.count(),\n            rev = self.reversePreviewOrder;\n          if (!chk) {\n            return;\n          }\n          if (chk === 1) {\n            self.previewCache.data.content = [];\n            self.previewCache.data.config = [];\n            self.previewCache.data.tags = [];\n            self.initialPreview = [];\n            self.initialPreviewConfig = [];\n            self.initialPreviewThumbTags = [];\n            return;\n          }\n          self.previewCache.data.content = $h.spliceArray(\n            self.previewCache.data.content,\n            index,\n            rev\n          );\n          self.previewCache.data.config = $h.spliceArray(\n            self.previewCache.data.config,\n            index,\n            rev\n          );\n          self.previewCache.data.tags = $h.spliceArray(\n            self.previewCache.data.tags,\n            index,\n            rev\n          );\n          var data = $.extend(true, {}, self.previewCache.data);\n          self.previewCache.clean(data);\n        },\n        out: function () {\n          var html = \"\",\n            caption,\n            len = self.previewCache.count(),\n            i,\n            content;\n          if (len === 0) {\n            return { content: \"\", caption: \"\" };\n          }\n          for (i = 0; i < len; i++) {\n            content = self.previewCache.get(i);\n            html = self.reversePreviewOrder ? content + html : html + content;\n          }\n          caption = self._getMsgSelected(len);\n          return { content: html, caption: caption };\n        },\n        footer: function (i, isDisabled, size) {\n          var data = self.previewCache.data || {};\n          if ($h.isEmpty(data.content)) {\n            return \"\";\n          }\n          if ($h.isEmpty(data.config) || $h.isEmpty(data.config[i])) {\n            data.config[i] = {};\n          }\n          isDisabled = isDisabled === undefined ? true : isDisabled;\n          var config = data.config[i],\n            caption = $h.ifSet(\"caption\", config),\n            a,\n            width = $h.ifSet(\"width\", config, \"auto\"),\n            url = $h.ifSet(\"url\", config, false),\n            key = $h.ifSet(\"key\", config, null),\n            fileId = $h.ifSet(\"fileId\", config, null),\n            fs = self.fileActionSettings,\n            initPreviewShowDel = self.initialPreviewShowDelete || false,\n            downloadInitialUrl = !self.initialPreviewDownloadUrl\n              ? \"\"\n              : self.initialPreviewDownloadUrl +\n                \"?key=\" +\n                key +\n                (fileId ? \"&fileId=\" + fileId : \"\"),\n            dUrl = config.downloadUrl || downloadInitialUrl,\n            dFil = config.filename || config.caption || \"\",\n            initPreviewShowDwl = !!dUrl,\n            sDel = $h.ifSet(\"showRemove\", config, initPreviewShowDel),\n            sDwl = $h.ifSet(\n              \"showDownload\",\n              config,\n              $h.ifSet(\"showDownload\", fs, initPreviewShowDwl)\n            ),\n            sZm = $h.ifSet(\"showZoom\", config, $h.ifSet(\"showZoom\", fs, true)),\n            sDrg = $h.ifSet(\"showDrag\", config, $h.ifSet(\"showDrag\", fs, true)),\n            dis = url === false && isDisabled;\n          sDwl = sDwl && config.downloadUrl !== false && !!dUrl;\n          a = self._renderFileActions(\n            config,\n            false,\n            sDwl,\n            sDel,\n            sZm,\n            sDrg,\n            dis,\n            url,\n            key,\n            true,\n            dUrl,\n            dFil\n          );\n          return self._getLayoutTemplate(\"footer\").setTokens({\n            progress: self._renderThumbProgress(),\n            actions: a,\n            caption: caption,\n            size: self._getSize(size),\n            width: width,\n            indicator: \"\",\n          });\n        },\n      };\n      self.previewCache.init();\n    },\n    _isPdfRendered: function () {\n      var self = this,\n        useLib = self.usePdfRenderer,\n        flag = typeof useLib === \"function\" ? useLib() : !!useLib;\n      return flag && self.pdfRendererUrl;\n    },\n    _handler: function ($el, event, callback) {\n      var self = this,\n        ns = self.namespace,\n        ev = event.split(\" \").join(ns + \" \") + ns;\n      if (!$el || !$el.length) {\n        return;\n      }\n      $el.off(ev).on(ev, callback);\n    },\n    _encodeURI: function (vUrl) {\n      var self = this;\n      return self.encodeUrl ? encodeURI(vUrl) : vUrl;\n    },\n    _log: function (msg, tokens) {\n      var self = this,\n        id = self.$element.attr(\"id\");\n      if (!self.showConsoleLogs) {\n        return;\n      }\n      if (id) {\n        msg = '\"' + id + '\": ' + msg;\n      }\n      msg = \"bootstrap-fileinput: \" + msg;\n      if (typeof tokens === \"object\") {\n        msg = msg.setTokens(tokens);\n      }\n      if (window.console && typeof window.console.log !== \"undefined\") {\n        window.console.log(msg);\n      } else {\n        window.alert(msg);\n      }\n    },\n    _validate: function () {\n      var self = this,\n        status = self.$element.attr(\"type\") === \"file\";\n      if (!status) {\n        self._log($h.logMessages.badInputType);\n      }\n      return status;\n    },\n    _errorsExist: function () {\n      var self = this,\n        $err,\n        $errList = self.$errorContainer.find(\"li\");\n      if ($errList.length) {\n        return true;\n      }\n      $err = $h.createElement(self.$errorContainer.html());\n      $err.find(\".kv-error-close\").remove();\n      $err.find(\"ul\").remove();\n      return !!$.trim($err.text()).length;\n    },\n    _errorHandler: function (evt, caption) {\n      var self = this,\n        err = evt.target.error,\n        showError = function (msg) {\n          self._showError(msg.replace(\"{name}\", caption));\n        };\n      /** @namespace err.NOT_FOUND_ERR */\n      /** @namespace err.SECURITY_ERR */\n      /** @namespace err.NOT_READABLE_ERR */\n      if (err.code === err.NOT_FOUND_ERR) {\n        showError(self.msgFileNotFound);\n      } else {\n        if (err.code === err.SECURITY_ERR) {\n          showError(self.msgFileSecured);\n        } else {\n          if (err.code === err.NOT_READABLE_ERR) {\n            showError(self.msgFileNotReadable);\n          } else {\n            if (err.code === err.ABORT_ERR) {\n              showError(self.msgFilePreviewAborted);\n            } else {\n              showError(self.msgFilePreviewError);\n            }\n          }\n        }\n      }\n    },\n    _addError: function (msg) {\n      var self = this,\n        $error = self.$errorContainer;\n      if (msg && $error.length) {\n        $h.setHtml($error, self.errorCloseButton + msg);\n        self._handler($error.find(\".kv-error-close\"), \"click\", function () {\n          setTimeout(function () {\n            if (self.showPreview && !self.getFrames().length) {\n              self.clear();\n            }\n            $error.fadeOut(\"slow\");\n          }, self.processDelay);\n        });\n      }\n    },\n    _setValidationError: function (css) {\n      var self = this;\n      css = (css ? css + \" \" : \"\") + \"has-error\";\n      self.$container.removeClass(css).addClass(\"has-error\");\n      $h.addCss(self.$captionContainer, \"is-invalid\");\n    },\n    _resetErrors: function (fade) {\n      var self = this,\n        $error = self.$errorContainer;\n      if (self.isPersistentError) {\n        return;\n      }\n      self.isError = false;\n      self.$container.removeClass(\"has-error\");\n      self.$captionContainer.removeClass(\"is-invalid\");\n      $error.html(\"\");\n      if (fade) {\n        $error.fadeOut(\"slow\");\n      } else {\n        $error.hide();\n      }\n    },\n    _showFolderError: function (folders) {\n      var self = this,\n        $error = self.$errorContainer,\n        msg;\n      if (!folders) {\n        return;\n      }\n      if (!self.isAjaxUpload) {\n        self._clearFileInput();\n      }\n      msg = self.msgFoldersNotAllowed.replace(\"{n}\", folders);\n      self._addError(msg);\n      self._setValidationError();\n      $error.fadeIn(self.fadeDelay);\n      self._raise(\"filefoldererror\", [folders, msg]);\n    },\n    _showFileError: function (msg, params, event) {\n      var self = this,\n        $error = self.$errorContainer,\n        ev = event || \"fileuploaderror\",\n        fId = (params && params.fileId) || \"\",\n        e =\n          params && params.id\n            ? '<li data-thumb-id=\"' +\n              params.id +\n              '\" data-file-id=\"' +\n              fId +\n              '\">' +\n              msg +\n              \"</li>\"\n            : \"<li>\" + msg + \"</li>\";\n\n      if ($error.find(\"ul\").length === 0) {\n        self._addError(\"<ul>\" + e + \"</ul>\");\n      } else {\n        $error.find(\"ul\").append(e);\n      }\n      $error.fadeIn(self.fadeDelay);\n      self._raise(ev, [params, msg]);\n      self._setValidationError(\"file-input-new\");\n      return true;\n    },\n    _showError: function (msg, params, event) {\n      var self = this,\n        $error = self.$errorContainer,\n        ev = event || \"fileerror\";\n      params = params || {};\n      params.reader = self.reader;\n      self._addError(msg);\n      $error.fadeIn(self.fadeDelay);\n      self._raise(ev, [params, msg]);\n      if (!self.isAjaxUpload) {\n        self._clearFileInput();\n      }\n      self._setValidationError(\"file-input-new\");\n      self.$btnUpload.attr(\"disabled\", true);\n      return true;\n    },\n    _noFilesError: function (params) {\n      var self = this,\n        label = self.minFileCount > 1 ? self.filePlural : self.fileSingle,\n        msg = self.msgFilesTooLess\n          .replace(\"{n}\", self.minFileCount)\n          .replace(\"{files}\", label),\n        $error = self.$errorContainer;\n      msg = \"<li>\" + msg + \"</li>\";\n      if ($error.find(\"ul\").length === 0) {\n        self._addError(\"<ul>\" + msg + \"</ul>\");\n      } else {\n        $error.find(\"ul\").append(msg);\n      }\n      self.isError = true;\n      self._updateFileDetails(0);\n      $error.fadeIn(self.fadeDelay);\n      self._raise(\"fileerror\", [params, msg]);\n      self._clearFileInput();\n      self._setValidationError();\n    },\n    _parseError: function (operation, jqXHR, errorThrown, fileName) {\n      /** @namespace jqXHR.responseJSON */\n      var self = this,\n        errMsg = $.trim(errorThrown + \"\"),\n        textPre,\n        errText,\n        text;\n      errText =\n        jqXHR.responseJSON && jqXHR.responseJSON.error\n          ? jqXHR.responseJSON.error.toString()\n          : \"\";\n      text = errText ? errText : jqXHR.responseText;\n      if (self.cancelling && self.msgUploadAborted) {\n        errMsg = self.msgUploadAborted;\n      }\n      if (self.showAjaxErrorDetails && text) {\n        if (errText) {\n          errMsg = $.trim(errText + \"\");\n        } else {\n          text = $.trim(text.replace(/\\n\\s*\\n/g, \"\\n\"));\n          textPre = text.length ? \"<pre>\" + text + \"</pre>\" : \"\";\n          errMsg += errMsg ? textPre : text;\n        }\n      }\n      if (!errMsg) {\n        errMsg = self.msgAjaxError.replace(\"{operation}\", operation);\n      }\n      self.cancelling = false;\n      return fileName ? \"<b>\" + fileName + \": </b>\" + errMsg : errMsg;\n    },\n    _parseFileType: function (type, name) {\n      var self = this,\n        isValid,\n        vType,\n        cat,\n        i,\n        types = self.allowedPreviewTypes || [];\n      if (type === \"application/text-plain\") {\n        return \"text\";\n      }\n      for (i = 0; i < types.length; i++) {\n        cat = types[i];\n        isValid = self.fileTypeSettings[cat];\n        vType = isValid(type, name) ? cat : \"\";\n        if (!$h.isEmpty(vType)) {\n          return vType;\n        }\n      }\n      return \"other\";\n    },\n    _getPreviewIcon: function (fname) {\n      var self = this,\n        ext,\n        out = null;\n      if (fname && fname.indexOf(\".\") > -1) {\n        ext = fname.split(\".\").pop();\n        if (self.previewFileIconSettings) {\n          out =\n            self.previewFileIconSettings[ext] ||\n            self.previewFileIconSettings[ext.toLowerCase()] ||\n            null;\n        }\n        if (self.previewFileExtSettings) {\n          $.each(self.previewFileExtSettings, function (key, func) {\n            if (self.previewFileIconSettings[key] && func(ext)) {\n              out = self.previewFileIconSettings[key];\n              //noinspection UnnecessaryReturnStatementJS\n              return;\n            }\n          });\n        }\n      }\n      return out || self.previewFileIcon;\n    },\n    _parseFilePreviewIcon: function (content, fname) {\n      var self = this,\n        icn = self._getPreviewIcon(fname),\n        out = content;\n      if (out.indexOf(\"{previewFileIcon}\") > -1) {\n        out = out.setTokens({\n          previewFileIconClass: self.previewFileIconClass,\n          previewFileIcon: icn,\n        });\n      }\n      return out;\n    },\n    _raise: function (event, params) {\n      var self = this,\n        e = $.Event(event);\n      if (params !== undefined) {\n        self.$element.trigger(e, params);\n      } else {\n        self.$element.trigger(e);\n      }\n      if (e.isDefaultPrevented() || e.result === false) {\n        return false;\n      }\n      switch (event) {\n        // ignore these events\n        case \"filebatchuploadcomplete\":\n        case \"filebatchuploadsuccess\":\n        case \"fileuploaded\":\n        case \"fileclear\":\n        case \"filecleared\":\n        case \"filereset\":\n        case \"fileerror\":\n        case \"filefoldererror\":\n        case \"fileuploaderror\":\n        case \"filebatchuploaderror\":\n        case \"filedeleteerror\":\n        case \"filecustomerror\":\n        case \"filesuccessremove\":\n          break;\n        // receive data response via `filecustomerror` event`\n        default:\n          if (!self.ajaxAborted) {\n            self.ajaxAborted = e.result;\n          }\n          break;\n      }\n      return true;\n    },\n    _listenFullScreen: function (isFullScreen) {\n      var self = this,\n        $modal = self.$modal,\n        $btnFull,\n        $btnBord;\n      if (!$modal || !$modal.length) {\n        return;\n      }\n      $btnFull = $modal && $modal.find(\".btn-fullscreen\");\n      $btnBord = $modal && $modal.find(\".btn-borderless\");\n      if (!$btnFull.length || !$btnBord.length) {\n        return;\n      }\n      $btnFull.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n      $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n      if (isFullScreen) {\n        $btnFull.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n      } else {\n        $btnBord.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n      }\n      if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n        self._maximizeZoomDialog();\n      } else {\n        if (isFullScreen) {\n          self._maximizeZoomDialog();\n        } else {\n          $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n        }\n      }\n    },\n    _listen: function () {\n      var self = this,\n        $el = self.$element,\n        $form = self.$form,\n        $cont = self.$container,\n        fullScreenEv,\n        $cap,\n        fn,\n        pastefn;\n      self._handler($el, \"click\", function (e) {\n        if ($el.hasClass(\"file-no-browse\")) {\n          if ($el.data(\"zoneClicked\")) {\n            $el.data(\"zoneClicked\", false);\n          } else {\n            e.preventDefault();\n          }\n        }\n      });\n      self._handler($el, \"change\", $.proxy(self._change, self));\n      if (self.showBrowse) {\n        self._handler(self.$btnFile, \"click\", $.proxy(self._browse, self));\n      }\n      $cap = $cont.find(\".file-caption-name\");\n      fn = function (event) {\n        return daIgnoreAllButTab(event);\n      };\n      pastefn = function () {\n        return false;\n      };\n      self._handler(\n        $cont.find(\".fileinput-remove:not([disabled])\"),\n        \"click\",\n        $.proxy(self.clear, self)\n      );\n      self._handler(\n        $cont.find(\".fileinput-cancel\"),\n        \"click\",\n        $.proxy(self.cancel, self)\n      );\n      self._handler(\n        $cont.find(\".fileinput-pause\"),\n        \"click\",\n        $.proxy(self.pause, self)\n      );\n      self._handler($cap, \"keydown\", fn);\n      self._handler($cap, \"paste\", pastefn);\n      self._initDragDrop();\n      self._handler($form, \"reset\", $.proxy(self.clear, self));\n      if (!self.isAjaxUpload) {\n        self._handler($form, \"submit\", $.proxy(self._submitForm, self));\n      }\n      self._handler(\n        self.$container.find(\".fileinput-upload\"),\n        \"click\",\n        $.proxy(self._uploadClick, self)\n      );\n      self._handler($(window), \"resize\", function () {\n        self._listenFullScreen(\n          screen.width === window.innerWidth &&\n            screen.height === window.innerHeight\n        );\n      });\n      fullScreenEv =\n        \"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange\";\n      self._handler($(document), fullScreenEv, function () {\n        self._listenFullScreen($h.checkFullScreen());\n      });\n      self._autoFitContent();\n      self._initClickable();\n      self._refreshPreview();\n    },\n    _autoFitContent: function () {\n      var width =\n          window.innerWidth ||\n          document.documentElement.clientWidth ||\n          document.body.clientWidth,\n        self = this,\n        config =\n          width < 400\n            ? self.previewSettingsSmall || self.defaults.previewSettingsSmall\n            : self.previewSettings || self.defaults.previewSettings,\n        sel;\n      $.each(config, function (cat, settings) {\n        sel = \".file-preview-frame .file-preview-\" + cat;\n        self.$preview\n          .find(sel + \".kv-preview-data,\" + sel + \" .kv-preview-data\")\n          .css(settings);\n      });\n    },\n    _scanDroppedItems: function (item, files, path) {\n      path = path || \"\";\n      var self = this,\n        i,\n        dirReader,\n        readDir,\n        errorHandler = function (e) {\n          self._log($h.logMessages.badDroppedFiles);\n          self._log(e);\n        };\n      if (item.isFile) {\n        item.file(function (file) {\n          if (path) {\n            file.newPath = path + file.name;\n          }\n          files.push(file);\n        }, errorHandler);\n      } else {\n        if (item.isDirectory) {\n          dirReader = item.createReader();\n          readDir = function () {\n            dirReader.readEntries(function (entries) {\n              if (entries && entries.length > 0) {\n                for (i = 0; i < entries.length; i++) {\n                  self._scanDroppedItems(\n                    entries[i],\n                    files,\n                    path + item.name + \"/\"\n                  );\n                }\n                // recursively call readDir() again, since browser can only handle first 100 entries.\n                readDir();\n              }\n              return null;\n            }, errorHandler);\n          };\n          readDir();\n        }\n      }\n    },\n    _initDragDrop: function () {\n      var self = this,\n        $zone = self.$dropZone;\n      if (self.dropZoneEnabled && self.showPreview) {\n        self._handler(\n          $zone,\n          \"dragenter dragover\",\n          $.proxy(self._zoneDragEnter, self)\n        );\n        self._handler($zone, \"dragleave\", $.proxy(self._zoneDragLeave, self));\n        self._handler($zone, \"drop\", $.proxy(self._zoneDrop, self));\n        self._handler(\n          $(document),\n          \"dragenter dragover drop\",\n          self._zoneDragDropInit\n        );\n      }\n    },\n    _zoneDragDropInit: function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    },\n    _zoneDragEnter: function (e) {\n      var self = this,\n        dt = e.originalEvent.dataTransfer,\n        hasFiles = $.inArray(\"Files\", dt.types) > -1;\n      self._zoneDragDropInit(e);\n      if (self.isDisabled || !hasFiles) {\n        dt.effectAllowed = \"none\";\n        dt.dropEffect = \"none\";\n        return;\n      }\n      dt.dropEffect = \"copy\";\n      if (\n        self._raise(\"fileDragEnter\", { sourceEvent: e, files: dt.types.Files })\n      ) {\n        $h.addCss(self.$dropZone, \"file-highlighted\");\n      }\n    },\n    _zoneDragLeave: function (e) {\n      var self = this;\n      self._zoneDragDropInit(e);\n      if (self.isDisabled) {\n        return;\n      }\n      if (self._raise(\"fileDragLeave\", { sourceEvent: e })) {\n        self.$dropZone.removeClass(\"file-highlighted\");\n      }\n    },\n    _zoneDrop: function (e) {\n      /** @namespace e.originalEvent.dataTransfer */\n      var self = this,\n        i,\n        $el = self.$element,\n        dt = e.originalEvent.dataTransfer,\n        files = dt.files,\n        items = dt.items,\n        folders = $h.getDragDropFolders(items),\n        processFiles = function () {\n          if (!self.isAjaxUpload) {\n            self.changeTriggered = true;\n            $el.get(0).files = files;\n            setTimeout(function () {\n              self.changeTriggered = false;\n              $el.trigger(\"change\" + self.namespace);\n            }, self.processDelay);\n          } else {\n            self._change(e, files);\n          }\n          self.$dropZone.removeClass(\"file-highlighted\");\n        };\n      e.preventDefault();\n      if (self.isDisabled || $h.isEmpty(files)) {\n        return;\n      }\n      if (!self._raise(\"fileDragDrop\", { sourceEvent: e, files: files })) {\n        return;\n      }\n      if (folders > 0) {\n        if (!self.isAjaxUpload) {\n          self._showFolderError(folders);\n          return;\n        }\n        files = [];\n        for (i = 0; i < items.length; i++) {\n          var item = items[i].webkitGetAsEntry();\n          if (item) {\n            self._scanDroppedItems(item, files);\n          }\n        }\n        setTimeout(function () {\n          processFiles();\n        }, 500);\n      } else {\n        processFiles();\n      }\n    },\n    _uploadClick: function (e) {\n      var self = this,\n        $btn = self.$container.find(\".fileinput-upload\"),\n        $form,\n        isEnabled =\n          !$btn.hasClass(\"disabled\") && $h.isEmpty($btn.attr(\"disabled\"));\n      if (e && e.isDefaultPrevented()) {\n        return;\n      }\n      if (!self.isAjaxUpload) {\n        if (isEnabled && $btn.attr(\"type\") !== \"submit\") {\n          $form = $btn.closest(\"form\");\n          // downgrade to normal form submit if possible\n          if ($form.length) {\n            $form.trigger(\"submit\");\n          }\n          e.preventDefault();\n        }\n        return;\n      }\n      e.preventDefault();\n      if (isEnabled) {\n        self.upload();\n      }\n    },\n    _submitForm: function () {\n      var self = this;\n      return self._isFileSelectionValid() && !self._abort({});\n    },\n    _clearPreview: function () {\n      var self = this,\n        $thumbs = self.showUploadedThumbs\n          ? self.getFrames(\":not(.file-preview-success)\")\n          : self.getFrames();\n      $thumbs.each(function () {\n        var $thumb = $(this);\n        $thumb.remove();\n      });\n      if (!self.getFrames().length || !self.showPreview) {\n        self._resetUpload();\n      }\n      self._validateDefaultPreview();\n    },\n    _initSortable: function () {\n      var self = this,\n        $el = self.$preview,\n        settings,\n        selector = \".\" + $h.SORT_CSS,\n        $cont,\n        $body = $(\"body\"),\n        $html = $(\"html\"),\n        rev = self.reversePreviewOrder,\n        Sortable = window.Sortable,\n        beginGrab,\n        endGrab;\n      if (!Sortable || $el.find(selector).length === 0) {\n        return;\n      }\n      $cont = $body.length ? $body : $html.length ? $html : self.$container;\n      beginGrab = function () {\n        $cont.addClass(\"file-grabbing\");\n      };\n      endGrab = function () {\n        $cont.removeClass(\"file-grabbing\");\n      };\n      settings = {\n        handle: \".drag-handle-init\",\n        dataIdAttr: \"data-fileid\",\n        animation: 600,\n        draggable: selector,\n        scroll: false,\n        forceFallback: true,\n        onChoose: beginGrab,\n        onStart: beginGrab,\n        onUnchoose: endGrab,\n        onEnd: endGrab,\n        onSort: function (e) {\n          var oldIndex = e.oldIndex,\n            newIndex = e.newIndex,\n            i = 0,\n            len = self.initialPreviewConfig.length,\n            exceedsLast = len > 0 && newIndex >= len,\n            $item = $(e.item),\n            $first;\n          if (exceedsLast) {\n            newIndex = len - 1;\n          }\n          self.initialPreview = $h.moveArray(\n            self.initialPreview,\n            oldIndex,\n            newIndex,\n            rev\n          );\n          self.initialPreviewConfig = $h.moveArray(\n            self.initialPreviewConfig,\n            oldIndex,\n            newIndex,\n            rev\n          );\n          self.previewCache.init();\n          self.getFrames(\".file-preview-initial\").each(function () {\n            $(this).attr(\"data-fileindex\", $h.INIT_FLAG + i);\n            i++;\n          });\n          if (exceedsLast) {\n            $first = self.getFrames(\":not(.file-preview-initial):first\");\n            if ($first.length) {\n              $item.slideUp(function () {\n                $item.insertBefore($first).slideDown();\n              });\n            }\n          }\n          self._raise(\"filesorted\", {\n            previewId: $item.attr(\"id\"),\n            oldIndex: oldIndex,\n            newIndex: newIndex,\n            stack: self.initialPreviewConfig,\n          });\n        },\n      };\n      $.extend(true, settings, self.fileActionSettings.dragSettings);\n      if (self.sortable) {\n        self.sortable.destroy();\n      }\n      self.sortable = Sortable.create($el[0], settings);\n    },\n    _setPreviewContent: function (content) {\n      var self = this;\n      $h.setHtml(self.$preview, content);\n      self._autoFitContent();\n    },\n    _initPreviewImageOrientations: function () {\n      var self = this,\n        i = 0,\n        canOrientImage = self.canOrientImage;\n      if (!self.autoOrientImageInitial && !canOrientImage) {\n        return;\n      }\n      self.getFrames(\".file-preview-initial\").each(function () {\n        var $thumb = $(this),\n          $img,\n          $zoomImg,\n          id,\n          config = self.initialPreviewConfig[i];\n        /** @namespace config.exif */\n        if (config && config.exif && config.exif.Orientation) {\n          id = $thumb.attr(\"id\");\n          $img = $thumb.find(\">.kv-file-content img\");\n          $zoomImg = self._getZoom(id, \" >.kv-file-content img\");\n          if (canOrientImage) {\n            $img.css(\n              \"image-orientation\",\n              self.autoOrientImageInitial ? \"from-image\" : \"none\"\n            );\n          } else {\n            self.setImageOrientation(\n              $img,\n              $zoomImg,\n              config.exif.Orientation,\n              $thumb\n            );\n          }\n        }\n        i++;\n      });\n    },\n    _initPreview: function (isInit) {\n      var self = this,\n        cap = self.initialCaption || \"\",\n        out;\n      if (!self.previewCache.count(true)) {\n        self._clearPreview();\n        if (isInit) {\n          self._setCaption(cap);\n        } else {\n          self._initCaption();\n        }\n        return;\n      }\n      out = self.previewCache.out();\n      cap = isInit && self.initialCaption ? self.initialCaption : out.caption;\n      self._setPreviewContent(out.content);\n      self._setInitThumbAttr();\n      self._setCaption(cap);\n      self._initSortable();\n      if (!$h.isEmpty(out.content)) {\n        self.$container.removeClass(\"file-input-new\");\n      }\n      self._initPreviewImageOrientations();\n    },\n    _getZoomButton: function (type) {\n      var self = this,\n        label = self.previewZoomButtonIcons[type],\n        css = self.previewZoomButtonClasses[type],\n        title = ' title=\"' + (self.previewZoomButtonTitles[type] || \"\") + '\" ',\n        params =\n          title +\n          (type === \"close\" ? ' data-dismiss=\"modal\" aria-hidden=\"true\"' : \"\");\n      if (\n        type === \"fullscreen\" ||\n        type === \"borderless\" ||\n        type === \"toggleheader\"\n      ) {\n        params +=\n          ' data-toggle=\"button\" aria-pressed=\"false\" autocomplete=\"off\"';\n      }\n      return (\n        '<button type=\"button\" class=\"' +\n        css +\n        \" btn-\" +\n        type +\n        '\"' +\n        params +\n        \">\" +\n        label +\n        \"</button>\"\n      );\n    },\n    _getModalContent: function () {\n      var self = this;\n      return self._getLayoutTemplate(\"modal\").setTokens({\n        rtl: self.rtl ? \" kv-rtl\" : \"\",\n        zoomFrameClass: self.frameClass,\n        heading: self.msgZoomModalHeading,\n        prev: self._getZoomButton(\"prev\"),\n        next: self._getZoomButton(\"next\"),\n        toggleheader: self._getZoomButton(\"toggleheader\"),\n        fullscreen: self._getZoomButton(\"fullscreen\"),\n        borderless: self._getZoomButton(\"borderless\"),\n        close: self._getZoomButton(\"close\"),\n      });\n    },\n    _listenModalEvent: function (event) {\n      var self = this,\n        $modal = self.$modal,\n        getParams = function (e) {\n          return {\n            sourceEvent: e,\n            previewId: $modal.data(\"previewId\"),\n            modal: $modal,\n          };\n        };\n      $modal.on(event + \".bs.modal\", function (e) {\n        var $btnFull = $modal.find(\".btn-fullscreen\"),\n          $btnBord = $modal.find(\".btn-borderless\");\n        if ($modal.data(\"fileinputPluginId\") === self.$element.attr(\"id\")) {\n          self._raise(\"filezoom\" + event, getParams(e));\n        }\n        if (event === \"shown\") {\n          $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n          $btnFull.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n          if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n            self._maximizeZoomDialog();\n            if ($h.checkFullScreen()) {\n              $btnFull.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n            } else {\n              $btnBord.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n            }\n          }\n        }\n      });\n    },\n    _initZoom: function () {\n      var self = this,\n        $dialog,\n        modalMain = self._getLayoutTemplate(\"modalMain\"),\n        modalId = \"#\" + $h.MODAL_ID;\n      if (!self.showPreview) {\n        return;\n      }\n      self.$modal = $(modalId);\n      if (!self.$modal || !self.$modal.length) {\n        $dialog = $h\n          .createElement($h.cspBuffer.stash(modalMain))\n          .insertAfter(self.$container);\n        self.$modal = $(modalId).insertBefore($dialog);\n        $h.cspBuffer.apply(self.$modal);\n        $dialog.remove();\n      }\n      $h.initModal(self.$modal);\n      self.$modal.html($h.cspBuffer.stash(self._getModalContent()));\n      $h.cspBuffer.apply(self.$modal);\n      $.each($h.MODAL_EVENTS, function (key, event) {\n        self._listenModalEvent(event);\n      });\n    },\n    _initZoomButtons: function () {\n      var self = this,\n        previewId = self.$modal.data(\"previewId\") || \"\",\n        $first,\n        $last,\n        thumbs = self.getFrames().toArray(),\n        len = thumbs.length,\n        $prev = self.$modal.find(\".btn-prev\"),\n        $next = self.$modal.find(\".btn-next\");\n      if (thumbs.length < 2) {\n        $prev.hide();\n        $next.hide();\n        return;\n      } else {\n        $prev.show();\n        $next.show();\n      }\n      if (!len) {\n        return;\n      }\n      $first = $(thumbs[0]);\n      $last = $(thumbs[len - 1]);\n      $prev.removeAttr(\"disabled\");\n      $next.removeAttr(\"disabled\");\n      if ($first.length && $first.attr(\"id\") === previewId) {\n        $prev.attr(\"disabled\", true);\n      }\n      if ($last.length && $last.attr(\"id\") === previewId) {\n        $next.attr(\"disabled\", true);\n      }\n    },\n    _maximizeZoomDialog: function () {\n      var self = this,\n        $modal = self.$modal,\n        $head = $modal.find(\".modal-header:visible\"),\n        $foot = $modal.find(\".modal-footer:visible\"),\n        $body = $modal.find(\".modal-body\"),\n        h = $(window).height(),\n        diff = 0;\n      $modal.addClass(\"file-zoom-fullscreen\");\n      if ($head && $head.length) {\n        h -= $head.outerHeight(true);\n      }\n      if ($foot && $foot.length) {\n        h -= $foot.outerHeight(true);\n      }\n      if ($body && $body.length) {\n        diff = $body.outerHeight(true) - $body.height();\n        h -= diff;\n      }\n      $modal.find(\".kv-zoom-body\").height(h);\n    },\n    _resizeZoomDialog: function (fullScreen) {\n      var self = this,\n        $modal = self.$modal,\n        $btnFull = $modal.find(\".btn-fullscreen\"),\n        $btnBord = $modal.find(\".btn-borderless\");\n      if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n        $h.toggleFullScreen(false);\n        if (!fullScreen) {\n          if (!$btnFull.hasClass(\"active\")) {\n            $modal.removeClass(\"file-zoom-fullscreen\");\n            self.$modal\n              .find(\".kv-zoom-body\")\n              .css(\"height\", self.zoomModalHeight);\n          } else {\n            $btnFull.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n          }\n        } else {\n          if (!$btnFull.hasClass(\"active\")) {\n            $modal.removeClass(\"file-zoom-fullscreen\");\n            self._resizeZoomDialog(true);\n            if ($btnBord.hasClass(\"active\")) {\n              $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n            }\n          }\n        }\n      } else {\n        if (!fullScreen) {\n          self._maximizeZoomDialog();\n          return;\n        }\n        $h.toggleFullScreen(true);\n      }\n      $modal.focus();\n    },\n    _setZoomContent: function ($frame, animate) {\n      var self = this,\n        $content,\n        tmplt,\n        body,\n        title,\n        $body,\n        $dataEl,\n        config,\n        previewId = $frame.attr(\"id\"),\n        $zoomPreview = self._getZoom(previewId),\n        $modal = self.$modal,\n        $tmp,\n        $btnFull = $modal.find(\".btn-fullscreen\"),\n        $btnBord = $modal.find(\".btn-borderless\"),\n        cap,\n        size,\n        $btnTogh = $modal.find(\".btn-toggleheader\");\n      tmplt = $zoomPreview.attr(\"data-template\") || \"generic\";\n      $content = $zoomPreview.find(\".kv-file-content\");\n      body = $content.length ? $content.html() : \"\";\n      cap = $frame.data(\"caption\") || \"\";\n      size = $frame.data(\"size\") || \"\";\n      title = cap + \" \" + size;\n      $modal\n        .find(\".kv-zoom-title\")\n        .attr(\"title\", $(\"<div/>\").html(title).text())\n        .html(title);\n      $body = $modal.find(\".kv-zoom-body\");\n      $modal.removeClass(\"kv-single-content\");\n      if (animate) {\n        $tmp = $body.addClass(\"file-thumb-loading\").clone().insertAfter($body);\n        $h.setHtml($body, body).hide();\n        $tmp.fadeOut(\"fast\", function () {\n          $body.fadeIn(\"fast\", function () {\n            $body.removeClass(\"file-thumb-loading\");\n          });\n          $tmp.remove();\n        });\n      } else {\n        $h.setHtml($body, body);\n      }\n      config = self.previewZoomSettings[tmplt];\n      if (config) {\n        $dataEl = $body.find(\".kv-preview-data\");\n        $h.addCss($dataEl, \"file-zoom-detail\");\n        $.each(config, function (key, value) {\n          $dataEl.css(key, value);\n          if (\n            ($dataEl.attr(\"width\") && key === \"width\") ||\n            ($dataEl.attr(\"height\") && key === \"height\")\n          ) {\n            $dataEl.removeAttr(key);\n          }\n        });\n      }\n      $modal.data(\"previewId\", previewId);\n      self._handler($modal.find(\".btn-prev\"), \"click\", function () {\n        self._zoomSlideShow(\"prev\", previewId);\n      });\n      self._handler($modal.find(\".btn-next\"), \"click\", function () {\n        self._zoomSlideShow(\"next\", previewId);\n      });\n      self._handler($btnFull, \"click\", function () {\n        self._resizeZoomDialog(true);\n      });\n      self._handler($btnBord, \"click\", function () {\n        self._resizeZoomDialog(false);\n      });\n      self._handler($btnTogh, \"click\", function () {\n        var $header = $modal.find(\".modal-header\"),\n          $floatBar = $modal.find(\".modal-body .floating-buttons\"),\n          ht,\n          $actions = $header.find(\".kv-zoom-actions\"),\n          resize = function (height) {\n            var $body = self.$modal.find(\".kv-zoom-body\"),\n              h = self.zoomModalHeight;\n            if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n              h = $body.outerHeight(true);\n              if (!height) {\n                h = h - $header.outerHeight(true);\n              }\n            }\n            $body.css(\"height\", height ? h + height : h);\n          };\n        if ($header.is(\":visible\")) {\n          ht = $header.outerHeight(true);\n          $header.slideUp(\"slow\", function () {\n            $actions.find(\".btn\").appendTo($floatBar);\n            resize(ht);\n          });\n        } else {\n          $floatBar.find(\".btn\").appendTo($actions);\n          $header.slideDown(\"slow\", function () {\n            resize();\n          });\n        }\n        $modal.focus();\n      });\n      self._handler($modal, \"keydown\", function (e) {\n        var key = e.which || e.keyCode,\n          $prev = $(this).find(\".btn-prev\"),\n          $next = $(this).find(\".btn-next\"),\n          vId = $(this).data(\"previewId\"),\n          vPrevKey = self.rtl ? 39 : 37,\n          vNextKey = self.rtl ? 37 : 39;\n        if (key === vPrevKey && $prev.length && !$prev.attr(\"disabled\")) {\n          self._zoomSlideShow(\"prev\", vId);\n        }\n        if (key === vNextKey && $next.length && !$next.attr(\"disabled\")) {\n          self._zoomSlideShow(\"next\", vId);\n        }\n      });\n    },\n    _showModal: function ($frame) {\n      var self = this,\n        $modal = self.$modal;\n      if (!$frame || !$frame.length) {\n        return;\n      }\n      $h.initModal($modal);\n      $h.setHtml($modal, self._getModalContent());\n      self._setZoomContent($frame);\n      $modal.data(\"fileinputPluginId\", self.$element.attr(\"id\"));\n      $modal.modal(\"show\");\n      self._initZoomButtons();\n    },\n    _zoomPreview: function ($btn) {\n      var self = this,\n        $frame;\n      if (!$btn.length) {\n        throw \"Cannot zoom to detailed preview!\";\n      }\n      $frame = $btn.closest($h.FRAMES);\n      self._showModal($frame);\n    },\n    _zoomSlideShow: function (dir, previewId) {\n      var self = this,\n        $btn = self.$modal.find(\".kv-zoom-actions .btn-\" + dir),\n        $targFrame,\n        i,\n        $thumb,\n        thumbsData = self.getFrames().toArray(),\n        thumbs = [],\n        len = thumbsData.length,\n        out;\n      if ($btn.attr(\"disabled\")) {\n        return;\n      }\n      for (i = 0; i < len; i++) {\n        $thumb = $(thumbsData[i]);\n        if (\n          $thumb &&\n          $thumb.length &&\n          $thumb.find(\".kv-file-zoom:visible\").length\n        ) {\n          thumbs.push(thumbsData[i]);\n        }\n      }\n      len = thumbs.length;\n      for (i = 0; i < len; i++) {\n        if ($(thumbs[i]).attr(\"id\") === previewId) {\n          out = dir === \"prev\" ? i - 1 : i + 1;\n          break;\n        }\n      }\n      if (out < 0 || out >= len || !thumbs[out]) {\n        return;\n      }\n      $targFrame = $(thumbs[out]);\n      if ($targFrame.length) {\n        self._setZoomContent($targFrame, true);\n      }\n      self._initZoomButtons();\n      self._raise(\"filezoom\" + dir, {\n        previewId: previewId,\n        modal: self.$modal,\n      });\n    },\n    _initZoomButton: function () {\n      var self = this;\n      self.$preview.find(\".kv-file-zoom\").each(function () {\n        var $el = $(this);\n        self._handler($el, \"click\", function () {\n          self._zoomPreview($el);\n        });\n      });\n    },\n    _inputFileCount: function () {\n      return this.$element[0].files.length;\n    },\n    _refreshPreview: function () {\n      var self = this,\n        files;\n      if (\n        (!self._inputFileCount() && !self.isAjaxUpload) ||\n        !self.showPreview ||\n        !self.isPreviewable\n      ) {\n        return;\n      }\n      if (self.isAjaxUpload) {\n        if (self.fileManager.count() > 0) {\n          files = $.extend(true, {}, self.fileManager.stack);\n          self.fileManager.clear();\n          self._clearFileInput();\n        } else {\n          files = self.$element[0].files;\n        }\n      } else {\n        files = self.$element[0].files;\n      }\n      if (files && files.length) {\n        self.readFiles(files);\n        self._setFileDropZoneTitle();\n      }\n    },\n    _clearObjects: function ($el) {\n      $el.find(\"video audio\").each(function () {\n        this.pause();\n        $(this).remove();\n      });\n      $el.find(\"img object div\").each(function () {\n        $(this).remove();\n      });\n    },\n    _clearFileInput: function () {\n      var self = this,\n        $el = self.$element,\n        $srcFrm,\n        $tmpFrm,\n        $tmpEl;\n      if (!self._inputFileCount()) {\n        return;\n      }\n      $srcFrm = $el.closest(\"form\");\n      $tmpFrm = $(document.createElement(\"form\"));\n      $tmpEl = $(document.createElement(\"div\"));\n      $el.before($tmpEl);\n      if ($srcFrm.length) {\n        $srcFrm.after($tmpFrm);\n      } else {\n        $tmpEl.after($tmpFrm);\n      }\n      $tmpFrm.append($el).trigger(\"reset\");\n      $tmpEl.before($el).remove();\n      $tmpFrm.remove();\n    },\n    _resetUpload: function () {\n      var self = this;\n      self.uploadStartTime = $h.now();\n      self.uploadCache = [];\n      self.$btnUpload.removeAttr(\"disabled\");\n      self._setProgress(0);\n      self._hideProgress();\n      self._resetErrors(false);\n      self._initAjax();\n      self.fileManager.clearImages();\n      self._resetCanvas();\n      if (self.overwriteInitial) {\n        self.initialPreview = [];\n        self.initialPreviewConfig = [];\n        self.initialPreviewThumbTags = [];\n        self.previewCache.data = {\n          content: [],\n          config: [],\n          tags: [],\n        };\n      }\n    },\n    _resetCanvas: function () {\n      var self = this;\n      if (self.canvas && self.imageCanvasContext) {\n        self.imageCanvasContext.clearRect(\n          0,\n          0,\n          self.canvas.width,\n          self.canvas.height\n        );\n      }\n    },\n    _hasInitialPreview: function () {\n      var self = this;\n      return !self.overwriteInitial && self.previewCache.count(true);\n    },\n    _resetPreview: function () {\n      var self = this,\n        out,\n        cap,\n        $div,\n        hasSuc = self.showUploadedThumbs,\n        hasErr = !self.removeFromPreviewOnError,\n        includeProcessed = (hasSuc || hasErr) && self.isDuplicateError;\n      if (self.previewCache.count(true)) {\n        out = self.previewCache.out();\n        if (includeProcessed) {\n          $div = $h.createElement(\"\").insertAfter(self.$container);\n          self.getFrames().each(function () {\n            var $thumb = $(this);\n            if (\n              (hasSuc && $thumb.hasClass(\"file-preview-success\")) ||\n              (hasErr && $thumb.hasClass(\"file-preview-error\"))\n            ) {\n              $div.append($thumb);\n            }\n          });\n        }\n        self._setPreviewContent(out.content);\n        self._setInitThumbAttr();\n        cap = self.initialCaption ? self.initialCaption : out.caption;\n        self._setCaption(cap);\n        if (includeProcessed) {\n          $div.contents().appendTo(self.$preview);\n          $div.remove();\n        }\n      } else {\n        self._clearPreview();\n        self._initCaption();\n      }\n      if (self.showPreview) {\n        self._initZoom();\n        self._initSortable();\n      }\n      self.isDuplicateError = false;\n    },\n    _clearDefaultPreview: function () {\n      var self = this;\n      self.$preview.find(\".file-default-preview\").remove();\n    },\n    _validateDefaultPreview: function () {\n      var self = this;\n      if (!self.showPreview || $h.isEmpty(self.defaultPreviewContent)) {\n        return;\n      }\n      self._setPreviewContent(\n        '<div class=\"file-default-preview\">' +\n          self.defaultPreviewContent +\n          \"</div>\"\n      );\n      self.$container.removeClass(\"file-input-new\");\n      self._initClickable();\n    },\n    _resetPreviewThumbs: function (isAjax) {\n      var self = this,\n        out;\n      if (isAjax) {\n        self._clearPreview();\n        self.clearFileStack();\n        return;\n      }\n      if (self._hasInitialPreview()) {\n        out = self.previewCache.out();\n        self._setPreviewContent(out.content);\n        self._setInitThumbAttr();\n        self._setCaption(out.caption);\n        self._initPreviewActions();\n      } else {\n        self._clearPreview();\n      }\n    },\n    _getLayoutTemplate: function (t) {\n      var self = this,\n        template = self.layoutTemplates[t];\n      if ($h.isEmpty(self.customLayoutTags)) {\n        return template;\n      }\n      return $h.replaceTags(template, self.customLayoutTags);\n    },\n    _getPreviewTemplate: function (t) {\n      var self = this,\n        templates = self.previewTemplates,\n        template = templates[t] || templates.other;\n      if ($h.isEmpty(self.customPreviewTags)) {\n        return template;\n      }\n      return $h.replaceTags(template, self.customPreviewTags);\n    },\n    _getOutData: function (formdata, jqXHR, responseData, filesData) {\n      var self = this;\n      jqXHR = jqXHR || {};\n      responseData = responseData || {};\n      filesData = filesData || self.fileManager.list();\n      return {\n        formdata: formdata,\n        files: filesData,\n        filenames: self.filenames,\n        filescount: self.getFilesCount(),\n        extra: self._getExtraData(),\n        response: responseData,\n        reader: self.reader,\n        jqXHR: jqXHR,\n      };\n    },\n    _getMsgSelected: function (n) {\n      var self = this,\n        strFiles = n === 1 ? self.fileSingle : self.filePlural;\n      return n > 0\n        ? self.msgSelected.replace(\"{n}\", n).replace(\"{files}\", strFiles)\n        : self.msgNoFilesSelected;\n    },\n    _getFrame: function (id, skipWarning) {\n      var self = this,\n        $frame = $h.getFrameElement(self.$preview, id);\n      if (self.showPreview && !skipWarning && !$frame.length) {\n        self._log($h.logMessages.invalidThumb, { id: id });\n      }\n      return $frame;\n    },\n    _getZoom: function (id, selector) {\n      var self = this,\n        $frame = $h.getZoomElement(self.$preview, id, selector);\n      if (self.showPreview && !$frame.length) {\n        self._log($h.logMessages.invalidThumb, { id: id });\n      }\n      return $frame;\n    },\n    _getThumbs: function (css) {\n      css = css || \"\";\n      return this.getFrames(\":not(.file-preview-initial)\" + css);\n    },\n    _getThumbId: function (fileId) {\n      var self = this;\n      return self.previewInitId + \"-\" + fileId;\n    },\n    _getExtraData: function (fileId, index) {\n      var self = this,\n        data = self.uploadExtraData;\n      if (typeof self.uploadExtraData === \"function\") {\n        data = self.uploadExtraData(fileId, index);\n      }\n      return data;\n    },\n    _initXhr: function (xhrobj, fileId) {\n      var self = this,\n        fm = self.fileManager,\n        func = function (event) {\n          var pct = 0,\n            total = event.total,\n            loaded = event.loaded || event.position,\n            stats = fm.getUploadStats(fileId, loaded, total);\n          /** @namespace event.lengthComputable */\n          if (event.lengthComputable && !self.enableResumableUpload) {\n            pct = $h.round((loaded / total) * 100);\n          }\n          if (fileId) {\n            self._setFileUploadStats(fileId, pct, stats);\n          } else {\n            self._setProgress(pct, null, null, self._getStats(stats));\n          }\n          self._raise(\"fileajaxprogress\", [stats]);\n        };\n      if (xhrobj.upload) {\n        if (self.progressDelay) {\n          func = $h.debounce(func, self.progressDelay);\n        }\n        xhrobj.upload.addEventListener(\"progress\", func, false);\n      }\n      return xhrobj;\n    },\n    _initAjaxSettings: function () {\n      var self = this;\n      self._ajaxSettings = $.extend(true, {}, self.ajaxSettings);\n      self._ajaxDeleteSettings = $.extend(true, {}, self.ajaxDeleteSettings);\n    },\n    _mergeAjaxCallback: function (funcName, srcFunc, type) {\n      var self = this,\n        settings = self._ajaxSettings,\n        flag = self.mergeAjaxCallbacks,\n        targFunc;\n      if (type === \"delete\") {\n        settings = self._ajaxDeleteSettings;\n        flag = self.mergeAjaxDeleteCallbacks;\n      }\n      targFunc = settings[funcName];\n      if (flag && typeof targFunc === \"function\") {\n        if (flag === \"before\") {\n          settings[funcName] = function () {\n            targFunc.apply(this, arguments);\n            srcFunc.apply(this, arguments);\n          };\n        } else {\n          settings[funcName] = function () {\n            srcFunc.apply(this, arguments);\n            targFunc.apply(this, arguments);\n          };\n        }\n      } else {\n        settings[funcName] = srcFunc;\n      }\n    },\n    _ajaxSubmit: function (\n      fnBefore,\n      fnSuccess,\n      fnComplete,\n      fnError,\n      formdata,\n      fileId,\n      index,\n      vUrl\n    ) {\n      var self = this,\n        settings,\n        defaults,\n        data,\n        ajaxTask;\n      if (!self._raise(\"filepreajax\", [formdata, fileId, index])) {\n        return;\n      }\n      formdata.append(\"initialPreview\", JSON.stringify(self.initialPreview));\n      formdata.append(\n        \"initialPreviewConfig\",\n        JSON.stringify(self.initialPreviewConfig)\n      );\n      formdata.append(\n        \"initialPreviewThumbTags\",\n        JSON.stringify(self.initialPreviewThumbTags)\n      );\n      self._initAjaxSettings();\n      self._mergeAjaxCallback(\"beforeSend\", fnBefore);\n      self._mergeAjaxCallback(\"success\", fnSuccess);\n      self._mergeAjaxCallback(\"complete\", fnComplete);\n      self._mergeAjaxCallback(\"error\", fnError);\n      vUrl = vUrl || self.uploadUrlThumb || self.uploadUrl;\n      if (typeof vUrl === \"function\") {\n        vUrl = vUrl();\n      }\n      data = self._getExtraData(fileId, index) || {};\n      if (typeof data === \"object\") {\n        $.each(data, function (key, value) {\n          formdata.append(key, value);\n        });\n      }\n      defaults = {\n        xhr: function () {\n          var xhrobj = $.ajaxSettings.xhr();\n          return self._initXhr(xhrobj, fileId);\n        },\n        url: self._encodeURI(vUrl),\n        type: \"POST\",\n        dataType: \"json\",\n        data: formdata,\n        cache: false,\n        processData: false,\n        contentType: false,\n      };\n      settings = $.extend(true, {}, defaults, self._ajaxSettings);\n      ajaxTask = self.taskManager.addTask(fileId + \"-\" + index, function () {\n        var self = this.self,\n          config,\n          xhr;\n        config = self.ajaxQueue.shift();\n        xhr = $.ajax(config);\n        self.ajaxRequests.push(xhr);\n      });\n      self.ajaxQueue.push(settings);\n      ajaxTask.runWithContext({ self: self });\n    },\n    _mergeArray: function (prop, content) {\n      var self = this,\n        arr1 = $h.cleanArray(self[prop]),\n        arr2 = $h.cleanArray(content);\n      self[prop] = arr1.concat(arr2);\n    },\n    _initUploadSuccess: function (out, $thumb, allFiles) {\n      var self = this,\n        append,\n        data,\n        index,\n        $div,\n        $newCache,\n        content,\n        config,\n        tags,\n        id,\n        i;\n      if (\n        !self.showPreview ||\n        typeof out !== \"object\" ||\n        $.isEmptyObject(out)\n      ) {\n        self._resetCaption();\n        return;\n      }\n      if (out.initialPreview !== undefined && out.initialPreview.length > 0) {\n        self.hasInitData = true;\n        content = out.initialPreview || [];\n        config = out.initialPreviewConfig || [];\n        tags = out.initialPreviewThumbTags || [];\n        append = out.append === undefined || out.append;\n        if (content.length > 0 && !$h.isArray(content)) {\n          content = content.split(self.initialPreviewDelimiter);\n        }\n        if (content.length) {\n          self._mergeArray(\"initialPreview\", content);\n          self._mergeArray(\"initialPreviewConfig\", config);\n          self._mergeArray(\"initialPreviewThumbTags\", tags);\n        }\n        if ($thumb !== undefined) {\n          if (!allFiles) {\n            index = self.previewCache.add(\n              content[0],\n              config[0],\n              tags[0],\n              append\n            );\n            data = self.previewCache.get(index, false);\n            $div = $h.createElement(data).hide().appendTo($thumb);\n            $newCache = $div.find(\".kv-zoom-cache\");\n            if ($newCache && $newCache.length) {\n              $newCache.appendTo($thumb);\n            }\n            $thumb.fadeOut(\"slow\", function () {\n              var $newThumb = $div.find(\".file-preview-frame\");\n              if ($newThumb && $newThumb.length) {\n                $newThumb\n                  .insertBefore($thumb)\n                  .fadeIn(\"slow\")\n                  .css(\"display:inline-block\");\n              }\n              self._initPreviewActions();\n              self._clearFileInput();\n              $thumb.remove();\n              $div.remove();\n              self._initSortable();\n            });\n          } else {\n            id = $thumb.attr(\"id\");\n            i = self._getUploadCacheIndex(id);\n            if (i !== null) {\n              self.uploadCache[i] = {\n                id: id,\n                content: content[0],\n                config: config[0] || [],\n                tags: tags[0] || [],\n                append: append,\n              };\n            }\n          }\n        } else {\n          self.previewCache.set(content, config, tags, append);\n          self._initPreview();\n          self._initPreviewActions();\n        }\n      }\n      self._resetCaption();\n    },\n    _getUploadCacheIndex: function (id) {\n      var self = this,\n        i,\n        len = self.uploadCache.length,\n        config;\n      for (i = 0; i < len; i++) {\n        config = self.uploadCache[i];\n        if (config.id === id) {\n          return i;\n        }\n      }\n      return null;\n    },\n    _initSuccessThumbs: function () {\n      var self = this;\n      if (!self.showPreview) {\n        return;\n      }\n      self._getThumbs($h.FRAMES + \".file-preview-success\").each(function () {\n        var $thumb = $(this),\n          $remove = $thumb.find(\".kv-file-remove\");\n        $remove.removeAttr(\"disabled\");\n        self._handler($remove, \"click\", function () {\n          var id = $thumb.attr(\"id\"),\n            out = self._raise(\"filesuccessremove\", [\n              id,\n              $thumb.attr(\"data-fileindex\"),\n            ]);\n          $h.cleanMemory($thumb);\n          if (out === false) {\n            return;\n          }\n          $thumb.fadeOut(\"slow\", function () {\n            $thumb.remove();\n            if (!self.getFrames().length) {\n              self.reset();\n            }\n          });\n        });\n      });\n    },\n    _updateInitialPreview: function () {\n      var self = this,\n        u = self.uploadCache;\n      if (self.showPreview) {\n        $.each(u, function (key, setting) {\n          self.previewCache.add(\n            setting.content,\n            setting.config,\n            setting.tags,\n            setting.append\n          );\n        });\n        if (self.hasInitData) {\n          self._initPreview();\n          self._initPreviewActions();\n        }\n      }\n    },\n    _uploadSingle: function (i, id, isBatch) {\n      var self = this,\n        fm = self.fileManager,\n        count = fm.count(),\n        formdata = new FormData(),\n        outData,\n        previewId = self._getThumbId(id),\n        $thumb,\n        chkComplete,\n        $btnUpload,\n        $btnDelete,\n        hasPostData = count > 0 || !$.isEmptyObject(self.uploadExtraData),\n        uploadFailed,\n        $prog,\n        fnBefore,\n        errMsg,\n        fnSuccess,\n        fnComplete,\n        fnError,\n        updateUploadLog,\n        op = self.ajaxOperations.uploadThumb,\n        fileObj = fm.getFile(id),\n        params = { id: previewId, index: i, fileId: id },\n        fileName = self.fileManager.getFileName(id, true);\n      if (self.enableResumableUpload) {\n        // not enabled for resumable uploads\n        return;\n      }\n      if (self.showPreview) {\n        $thumb = self.fileManager.getThumb(id);\n        $prog = $thumb.find(\".file-thumb-progress\");\n        $btnUpload = $thumb.find(\".kv-file-upload\");\n        $btnDelete = $thumb.find(\".kv-file-remove\");\n        $prog.show();\n      }\n      if (\n        count === 0 ||\n        !hasPostData ||\n        (self.showPreview && $btnUpload && $btnUpload.hasClass(\"disabled\")) ||\n        self._abort(params)\n      ) {\n        return;\n      }\n      updateUploadLog = function () {\n        if (!uploadFailed) {\n          fm.removeFile(id);\n        } else {\n          fm.errors.push(id);\n        }\n        fm.setProcessed(id);\n        if (fm.isProcessed()) {\n          self.fileBatchCompleted = true;\n          chkComplete();\n        }\n      };\n      chkComplete = function () {\n        var $initThumbs;\n        if (!self.fileBatchCompleted) {\n          return;\n        }\n        setTimeout(function () {\n          var triggerReset = fm.count() === 0,\n            errCount = fm.errors.length;\n          self._updateInitialPreview();\n          self.unlock(triggerReset);\n          if (triggerReset) {\n            self._clearFileInput();\n          }\n          $initThumbs = self.$preview.find(\".file-preview-initial\");\n          if (self.uploadAsync && $initThumbs.length) {\n            $h.addCss($initThumbs, $h.SORT_CSS);\n            self._initSortable();\n          }\n          self._raise(\"filebatchuploadcomplete\", [\n            fm.stack,\n            self._getExtraData(),\n          ]);\n          if (!self.retryErrorUploads || errCount === 0) {\n            fm.clear();\n          }\n          self._setProgress(101);\n          self.ajaxAborted = false;\n        }, self.processDelay);\n      };\n      fnBefore = function (jqXHR) {\n        outData = self._getOutData(formdata, jqXHR);\n        fm.initStats(id);\n        self.fileBatchCompleted = false;\n        if (!isBatch) {\n          self.ajaxAborted = false;\n        }\n        if (self.showPreview) {\n          if (!$thumb.hasClass(\"file-preview-success\")) {\n            self._setThumbStatus($thumb, \"Loading\");\n            $h.addCss($thumb, \"file-uploading\");\n          }\n          $btnUpload.attr(\"disabled\", true);\n          $btnDelete.attr(\"disabled\", true);\n        }\n        if (!isBatch) {\n          self.lock();\n        }\n        if (fm.errors.indexOf(id) !== -1) {\n          delete fm.errors[id];\n        }\n        self._raise(\"filepreupload\", [outData, previewId, i]);\n        $.extend(true, params, outData);\n        if (self._abort(params)) {\n          jqXHR.abort();\n          if (!isBatch) {\n            self._setThumbStatus($thumb, \"New\");\n            $thumb.removeClass(\"file-uploading\");\n            $btnUpload.removeAttr(\"disabled\");\n            $btnDelete.removeAttr(\"disabled\");\n            self.unlock();\n          }\n          self._setProgressCancelled();\n        }\n      };\n      fnSuccess = function (data, textStatus, jqXHR) {\n        var pid =\n          self.showPreview && $thumb.attr(\"id\") ? $thumb.attr(\"id\") : previewId;\n        outData = self._getOutData(formdata, jqXHR, data);\n        $.extend(true, params, outData);\n        setTimeout(function () {\n          if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n            if (self.showPreview) {\n              self._setThumbStatus($thumb, \"Success\");\n              $btnUpload.hide();\n              self._initUploadSuccess(data, $thumb, isBatch);\n              self._setProgress(101, $prog);\n            }\n            self._raise(\"fileuploaded\", [outData, pid, i]);\n            if (!isBatch) {\n              self.fileManager.remove($thumb);\n            } else {\n              updateUploadLog();\n            }\n          } else {\n            uploadFailed = true;\n            errMsg = self._parseError(\n              op,\n              jqXHR,\n              self.msgUploadError,\n              self.fileManager.getFileName(id)\n            );\n            self._showFileError(errMsg, params);\n            self._setPreviewError($thumb, true);\n            if (!self.retryErrorUploads) {\n              $btnUpload.hide();\n            }\n            if (isBatch) {\n              updateUploadLog();\n            }\n            self._setProgress(\n              101,\n              self._getFrame(pid).find(\".file-thumb-progress\"),\n              self.msgUploadError\n            );\n          }\n        }, self.processDelay);\n      };\n      fnComplete = function () {\n        if (self.showPreview) {\n          $btnUpload.removeAttr(\"disabled\");\n          $btnDelete.removeAttr(\"disabled\");\n          $thumb.removeClass(\"file-uploading\");\n        }\n        if (!isBatch) {\n          self.unlock(false);\n          self._clearFileInput();\n        } else {\n          chkComplete();\n        }\n        self._initSuccessThumbs();\n      };\n      fnError = function (jqXHR, textStatus, errorThrown) {\n        errMsg = self._parseError(\n          op,\n          jqXHR,\n          errorThrown,\n          self.fileManager.getFileName(id)\n        );\n        uploadFailed = true;\n        setTimeout(function () {\n          var $prog;\n          if (isBatch) {\n            updateUploadLog();\n          }\n          self.fileManager.setProgress(id, 100);\n          self._setPreviewError($thumb, true);\n          if (!self.retryErrorUploads) {\n            $btnUpload.hide();\n          }\n          $.extend(true, params, self._getOutData(formdata, jqXHR));\n          self._setProgress(\n            101,\n            self.$progress,\n            self.msgAjaxProgressError.replace(\"{operation}\", op)\n          );\n          $prog =\n            self.showPreview && $thumb\n              ? $thumb.find(\".file-thumb-progress\")\n              : \"\";\n          self._setProgress(101, $prog, self.msgUploadError);\n          self._showFileError(errMsg, params);\n        }, self.processDelay);\n      };\n      self._setFileData(formdata, fileObj.file, fileName, id);\n      self._setUploadData(formdata, { fileId: id });\n      self._ajaxSubmit(\n        fnBefore,\n        fnSuccess,\n        fnComplete,\n        fnError,\n        formdata,\n        id,\n        i\n      );\n    },\n    _setFileData: function (formdata, file, fileName, fileId) {\n      var self = this,\n        preProcess = self.preProcessUpload;\n      if (preProcess && typeof preProcess === \"function\") {\n        formdata.append(self.uploadFileAttr, preProcess(fileId, file));\n      } else {\n        formdata.append(self.uploadFileAttr, file, fileName);\n      }\n    },\n    _uploadBatch: function () {\n      var self = this,\n        fm = self.fileManager,\n        total = fm.total(),\n        params = {},\n        fnBefore,\n        fnSuccess,\n        fnError,\n        fnComplete,\n        hasPostData = total > 0 || !$.isEmptyObject(self.uploadExtraData),\n        errMsg,\n        setAllUploaded,\n        formdata = new FormData(),\n        op = self.ajaxOperations.uploadBatch;\n      if (total === 0 || !hasPostData || self._abort(params)) {\n        return;\n      }\n      setAllUploaded = function () {\n        self.fileManager.clear();\n        self._clearFileInput();\n      };\n      fnBefore = function (jqXHR) {\n        self.lock();\n        fm.initStats();\n        var outData = self._getOutData(formdata, jqXHR);\n        self.ajaxAborted = false;\n        if (self.showPreview) {\n          self._getThumbs().each(function () {\n            var $thumb = $(this),\n              $btnUpload = $thumb.find(\".kv-file-upload\"),\n              $btnDelete = $thumb.find(\".kv-file-remove\");\n            if (!$thumb.hasClass(\"file-preview-success\")) {\n              self._setThumbStatus($thumb, \"Loading\");\n              $h.addCss($thumb, \"file-uploading\");\n            }\n            $btnUpload.attr(\"disabled\", true);\n            $btnDelete.attr(\"disabled\", true);\n          });\n        }\n        self._raise(\"filebatchpreupload\", [outData]);\n        if (self._abort(outData)) {\n          jqXHR.abort();\n          self._getThumbs().each(function () {\n            var $thumb = $(this),\n              $btnUpload = $thumb.find(\".kv-file-upload\"),\n              $btnDelete = $thumb.find(\".kv-file-remove\");\n            if ($thumb.hasClass(\"file-preview-loading\")) {\n              self._setThumbStatus($thumb, \"New\");\n              $thumb.removeClass(\"file-uploading\");\n            }\n            $btnUpload.removeAttr(\"disabled\");\n            $btnDelete.removeAttr(\"disabled\");\n          });\n          self._setProgressCancelled();\n        }\n      };\n      fnSuccess = function (data, textStatus, jqXHR) {\n        /** @namespace data.errorkeys */\n        var outData = self._getOutData(formdata, jqXHR, data),\n          key = 0,\n          $thumbs = self._getThumbs(\":not(.file-preview-success)\"),\n          keys =\n            $h.isEmpty(data) || $h.isEmpty(data.errorkeys)\n              ? []\n              : data.errorkeys;\n\n        if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n          self._raise(\"filebatchuploadsuccess\", [outData]);\n          setAllUploaded();\n          if (self.showPreview) {\n            $thumbs.each(function () {\n              var $thumb = $(this);\n              self._setThumbStatus($thumb, \"Success\");\n              $thumb.removeClass(\"file-uploading\");\n              $thumb.find(\".kv-file-upload\").hide().removeAttr(\"disabled\");\n            });\n            self._initUploadSuccess(data);\n          } else {\n            self.reset();\n          }\n          self._setProgress(101);\n        } else {\n          if (self.showPreview) {\n            $thumbs.each(function () {\n              var $thumb = $(this);\n              $thumb.removeClass(\"file-uploading\");\n              $thumb.find(\".kv-file-upload\").removeAttr(\"disabled\");\n              $thumb.find(\".kv-file-remove\").removeAttr(\"disabled\");\n              if (keys.length === 0 || $.inArray(key, keys) !== -1) {\n                self._setPreviewError($thumb, true);\n                if (!self.retryErrorUploads) {\n                  $thumb.find(\".kv-file-upload\").hide();\n                  self.fileManager.remove($thumb);\n                }\n              } else {\n                $thumb.find(\".kv-file-upload\").hide();\n                self._setThumbStatus($thumb, \"Success\");\n                self.fileManager.remove($thumb);\n              }\n              if (\n                !$thumb.hasClass(\"file-preview-error\") ||\n                self.retryErrorUploads\n              ) {\n                key++;\n              }\n            });\n            self._initUploadSuccess(data);\n          }\n          errMsg = self._parseError(op, jqXHR, self.msgUploadError);\n          self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n          self._setProgress(101, self.$progress, self.msgUploadError);\n        }\n      };\n      fnComplete = function () {\n        self.unlock();\n        self._initSuccessThumbs();\n        self._clearFileInput();\n        self._raise(\"filebatchuploadcomplete\", [\n          self.fileManager.stack,\n          self._getExtraData(),\n        ]);\n      };\n      fnError = function (jqXHR, textStatus, errorThrown) {\n        var outData = self._getOutData(formdata, jqXHR);\n        errMsg = self._parseError(op, jqXHR, errorThrown);\n        self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n        self.uploadFileCount = total - 1;\n        if (!self.showPreview) {\n          return;\n        }\n        self._getThumbs().each(function () {\n          var $thumb = $(this);\n          $thumb.removeClass(\"file-uploading\");\n          if (self.fileManager.getFile($thumb.attr(\"data-fileid\"))) {\n            self._setPreviewError($thumb);\n          }\n        });\n        self._getThumbs().removeClass(\"file-uploading\");\n        self._getThumbs(\" .kv-file-upload\").removeAttr(\"disabled\");\n        self._getThumbs(\" .kv-file-delete\").removeAttr(\"disabled\");\n        self._setProgress(\n          101,\n          self.$progress,\n          self.msgAjaxProgressError.replace(\"{operation}\", op)\n        );\n      };\n      var ctr = 0;\n      $.each(self.fileManager.stack, function (key, data) {\n        if (!$h.isEmpty(data.file)) {\n          self._setFileData(\n            formdata,\n            data.file,\n            data.nameFmt || \"untitled_\" + ctr,\n            key\n          );\n        }\n        ctr++;\n      });\n      self._ajaxSubmit(fnBefore, fnSuccess, fnComplete, fnError, formdata);\n    },\n    _uploadExtraOnly: function () {\n      var self = this,\n        params = {},\n        fnBefore,\n        fnSuccess,\n        fnComplete,\n        fnError,\n        formdata = new FormData(),\n        errMsg,\n        op = self.ajaxOperations.uploadExtra;\n      if (self._abort(params)) {\n        return;\n      }\n      fnBefore = function (jqXHR) {\n        self.lock();\n        var outData = self._getOutData(formdata, jqXHR);\n        self._raise(\"filebatchpreupload\", [outData]);\n        self._setProgress(50);\n        params.data = outData;\n        params.xhr = jqXHR;\n        if (self._abort(params)) {\n          jqXHR.abort();\n          self._setProgressCancelled();\n        }\n      };\n      fnSuccess = function (data, textStatus, jqXHR) {\n        var outData = self._getOutData(formdata, jqXHR, data);\n        if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n          self._raise(\"filebatchuploadsuccess\", [outData]);\n          self._clearFileInput();\n          self._initUploadSuccess(data);\n          self._setProgress(101);\n        } else {\n          errMsg = self._parseError(op, jqXHR, self.msgUploadError);\n          self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n        }\n      };\n      fnComplete = function () {\n        self.unlock();\n        self._clearFileInput();\n        self._raise(\"filebatchuploadcomplete\", [\n          self.fileManager.stack,\n          self._getExtraData(),\n        ]);\n      };\n      fnError = function (jqXHR, textStatus, errorThrown) {\n        var outData = self._getOutData(formdata, jqXHR);\n        errMsg = self._parseError(op, jqXHR, errorThrown);\n        params.data = outData;\n        self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n        self._setProgress(\n          101,\n          self.$progress,\n          self.msgAjaxProgressError.replace(\"{operation}\", op)\n        );\n      };\n      self._ajaxSubmit(fnBefore, fnSuccess, fnComplete, fnError, formdata);\n    },\n    _deleteFileIndex: function ($frame) {\n      var self = this,\n        ind = $frame.attr(\"data-fileindex\"),\n        rev = self.reversePreviewOrder;\n      if (ind.substring(0, 5) === $h.INIT_FLAG) {\n        ind = parseInt(ind.replace($h.INIT_FLAG, \"\"));\n        self.initialPreview = $h.spliceArray(self.initialPreview, ind, rev);\n        self.initialPreviewConfig = $h.spliceArray(\n          self.initialPreviewConfig,\n          ind,\n          rev\n        );\n        self.initialPreviewThumbTags = $h.spliceArray(\n          self.initialPreviewThumbTags,\n          ind,\n          rev\n        );\n        self.getFrames().each(function () {\n          var $nFrame = $(this),\n            nInd = $nFrame.attr(\"data-fileindex\");\n          if (nInd.substring(0, 5) === $h.INIT_FLAG) {\n            nInd = parseInt(nInd.replace($h.INIT_FLAG, \"\"));\n            if (nInd > ind) {\n              nInd--;\n              $nFrame.attr(\"data-fileindex\", $h.INIT_FLAG + nInd);\n            }\n          }\n        });\n      }\n    },\n    _resetCaption: function () {\n      var self = this;\n      setTimeout(function () {\n        var cap,\n          n,\n          chk = self.previewCache.count(true),\n          len = self.fileManager.count(),\n          file,\n          incomplete = \":not(.file-preview-success):not(.file-preview-error)\",\n          hasThumb = self.showPreview && self.getFrames(incomplete).length;\n        if (len === 0 && chk === 0 && !hasThumb) {\n          self.reset();\n        } else {\n          n = chk + len;\n          if (n > 1) {\n            cap = self._getMsgSelected(n);\n          } else {\n            file = self.fileManager.getFirstFile();\n            cap = file ? file.nameFmt : \"_\";\n          }\n          self._setCaption(cap);\n        }\n      }, self.processDelay);\n    },\n    _initFileActions: function () {\n      var self = this;\n      if (!self.showPreview) {\n        return;\n      }\n      self._initZoomButton();\n      self.getFrames(\" .kv-file-remove\").each(function () {\n        var $el = $(this),\n          $frame = $el.closest($h.FRAMES),\n          hasError,\n          id = $frame.attr(\"id\"),\n          ind = $frame.attr(\"data-fileindex\"),\n          status;\n        self._handler($el, \"click\", function () {\n          status = self._raise(\"filepreremove\", [id, ind]);\n          if (status === false || !self._validateMinCount()) {\n            return false;\n          }\n          hasError = $frame.hasClass(\"file-preview-error\");\n          $h.cleanMemory($frame);\n          $frame.fadeOut(\"slow\", function () {\n            self.fileManager.remove($frame);\n            self._clearObjects($frame);\n            $frame.remove();\n            if (id && hasError) {\n              self.$errorContainer\n                .find('li[data-thumb-id=\"' + id + '\"]')\n                .fadeOut(\"fast\", function () {\n                  $(this).remove();\n                  if (!self._errorsExist()) {\n                    self._resetErrors();\n                  }\n                });\n            }\n            self._clearFileInput();\n            self._resetCaption();\n            self._raise(\"fileremoved\", [id, ind]);\n          });\n        });\n      });\n      self.getFrames(\" .kv-file-upload\").each(function () {\n        var $el = $(this);\n        self._handler($el, \"click\", function () {\n          var $frame = $el.closest($h.FRAMES),\n            fileId = $frame.attr(\"data-fileid\");\n          self._hideProgress();\n          if (\n            $frame.hasClass(\"file-preview-error\") &&\n            !self.retryErrorUploads\n          ) {\n            return;\n          }\n          self._uploadSingle(self.fileManager.getIndex(fileId), fileId, false);\n        });\n      });\n    },\n    _initPreviewActions: function () {\n      var self = this,\n        $preview = self.$preview,\n        deleteExtraData = self.deleteExtraData || {},\n        btnRemove = $h.FRAMES + \" .kv-file-remove\",\n        settings = self.fileActionSettings,\n        origClass = settings.removeClass,\n        errClass = settings.removeErrorClass,\n        resetProgress = function () {\n          var hasFiles = self.isAjaxUpload\n            ? self.previewCache.count(true)\n            : self._inputFileCount();\n          if (!self.getFrames().length && !hasFiles) {\n            self._setCaption(\"\");\n            self.reset();\n            self.initialCaption = \"\";\n          }\n        };\n      self._initZoomButton();\n      $preview.find(btnRemove).each(function () {\n        var $el = $(this),\n          vUrl = $el.data(\"url\") || self.deleteUrl,\n          vKey = $el.data(\"key\"),\n          errMsg,\n          fnBefore,\n          fnSuccess,\n          fnError,\n          op = self.ajaxOperations.deleteThumb;\n        if ($h.isEmpty(vUrl) || vKey === undefined) {\n          return;\n        }\n        if (typeof vUrl === \"function\") {\n          vUrl = vUrl();\n        }\n        var $frame = $el.closest($h.FRAMES),\n          cache = self.previewCache.data,\n          settings,\n          params,\n          config,\n          fileName,\n          extraData,\n          index = $frame.attr(\"data-fileindex\");\n        index = parseInt(index.replace($h.INIT_FLAG, \"\"));\n        config =\n          $h.isEmpty(cache.config) && $h.isEmpty(cache.config[index])\n            ? null\n            : cache.config[index];\n        extraData =\n          $h.isEmpty(config) || $h.isEmpty(config.extra)\n            ? deleteExtraData\n            : config.extra;\n        fileName = (config && (config.filename || config.caption)) || \"\";\n        if (typeof extraData === \"function\") {\n          extraData = extraData();\n        }\n        params = { id: $el.attr(\"id\"), key: vKey, extra: extraData };\n        fnBefore = function (jqXHR) {\n          self.ajaxAborted = false;\n          self._raise(\"filepredelete\", [vKey, jqXHR, extraData]);\n          if (self._abort()) {\n            jqXHR.abort();\n          } else {\n            $el.removeClass(errClass);\n            $h.addCss($frame, \"file-uploading\");\n            $h.addCss($el, \"disabled \" + origClass);\n          }\n        };\n        fnSuccess = function (data, textStatus, jqXHR) {\n          var n, cap;\n          if (!$h.isEmpty(data) && !$h.isEmpty(data.error)) {\n            params.jqXHR = jqXHR;\n            params.response = data;\n            errMsg = self._parseError(op, jqXHR, self.msgDeleteError, fileName);\n            self._showFileError(errMsg, params, \"filedeleteerror\");\n            $frame.removeClass(\"file-uploading\");\n            $el.removeClass(\"disabled \" + origClass).addClass(errClass);\n            resetProgress();\n            return;\n          }\n          $frame.removeClass(\"file-uploading\").addClass(\"file-deleted\");\n          $frame.fadeOut(\"slow\", function () {\n            index = parseInt(\n              $frame.attr(\"data-fileindex\").replace($h.INIT_FLAG, \"\")\n            );\n            self.previewCache.unset(index);\n            self._deleteFileIndex($frame);\n            n = self.previewCache.count(true);\n            cap = n > 0 ? self._getMsgSelected(n) : \"\";\n            self._setCaption(cap);\n            self._raise(\"filedeleted\", [vKey, jqXHR, extraData]);\n            self._clearObjects($frame);\n            $frame.remove();\n            resetProgress();\n          });\n        };\n        fnError = function (jqXHR, textStatus, errorThrown) {\n          var errMsg = self._parseError(op, jqXHR, errorThrown, fileName);\n          params.jqXHR = jqXHR;\n          params.response = {};\n          self._showFileError(errMsg, params, \"filedeleteerror\");\n          $frame.removeClass(\"file-uploading\");\n          $el.removeClass(\"disabled \" + origClass).addClass(errClass);\n          resetProgress();\n        };\n        self._initAjaxSettings();\n        self._mergeAjaxCallback(\"beforeSend\", fnBefore, \"delete\");\n        self._mergeAjaxCallback(\"success\", fnSuccess, \"delete\");\n        self._mergeAjaxCallback(\"error\", fnError, \"delete\");\n        settings = $.extend(\n          true,\n          {},\n          {\n            url: self._encodeURI(vUrl),\n            type: \"POST\",\n            dataType: \"json\",\n            data: $.extend(true, {}, { key: vKey }, extraData),\n          },\n          self._ajaxDeleteSettings\n        );\n        self._handler($el, \"click\", function () {\n          if (!self._validateMinCount()) {\n            return false;\n          }\n          self.ajaxAborted = false;\n          self._raise(\"filebeforedelete\", [vKey, extraData]);\n          if (self.ajaxAborted instanceof Promise) {\n            self.ajaxAborted.then(function (result) {\n              if (!result) {\n                $.ajax(settings);\n              }\n            });\n          } else {\n            if (!self.ajaxAborted) {\n              $.ajax(settings);\n            }\n          }\n        });\n      });\n    },\n    _hideFileIcon: function () {\n      var self = this;\n      if (self.overwriteInitial) {\n        self.$captionContainer.removeClass(\"icon-visible\");\n      }\n    },\n    _showFileIcon: function () {\n      var self = this;\n      $h.addCss(self.$captionContainer, \"icon-visible\");\n    },\n    _getSize: function (bytes, sizes) {\n      var self = this,\n        size = parseFloat(bytes),\n        i,\n        func = self.fileSizeGetter,\n        out;\n      if (!$.isNumeric(bytes) || !$.isNumeric(size)) {\n        return \"\";\n      }\n      if (typeof func === \"function\") {\n        out = func(size);\n      } else {\n        if (size === 0) {\n          out = \"0.00 B\";\n        } else {\n          i = Math.floor(Math.log(size) / Math.log(1024));\n          if (!sizes) {\n            sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n          }\n          out = (size / Math.pow(1024, i)).toFixed(2) * 1 + \" \" + sizes[i];\n        }\n      }\n      return self._getLayoutTemplate(\"size\").replace(\"{sizeText}\", out);\n    },\n    _getFileType: function (ftype) {\n      var self = this;\n      return self.mimeTypeAliases[ftype] || ftype;\n    },\n    _generatePreviewTemplate: function (\n      cat,\n      data,\n      fname,\n      ftype,\n      previewId,\n      fileId,\n      isError,\n      size,\n      frameClass,\n      foot,\n      ind,\n      templ,\n      attrs,\n      zoomData\n    ) {\n      var self = this,\n        caption = self.slug(fname),\n        prevContent,\n        zoomContent = \"\",\n        styleAttribs = \"\",\n        screenW =\n          window.innerWidth ||\n          document.documentElement.clientWidth ||\n          document.body.clientWidth,\n        config,\n        title = caption,\n        alt = caption,\n        typeCss = \"type-default\",\n        getContent,\n        footer =\n          foot || self._renderFileFooter(cat, caption, size, \"auto\", isError),\n        forcePrevIcon = self.preferIconicPreview,\n        forceZoomIcon = self.preferIconicZoomPreview,\n        newCat = forcePrevIcon ? \"other\" : cat;\n      config =\n        screenW < 400\n          ? self.previewSettingsSmall[newCat] ||\n            self.defaults.previewSettingsSmall[newCat]\n          : self.previewSettings[newCat] ||\n            self.defaults.previewSettings[newCat];\n      if (config) {\n        $.each(config, function (key, val) {\n          styleAttribs += key + \":\" + val + \";\";\n        });\n      }\n      getContent = function (c, d, zoom, frameCss) {\n        var id = zoom ? \"zoom-\" + previewId : previewId,\n          tmplt = self._getPreviewTemplate(c),\n          css = (frameClass || \"\") + \" \" + frameCss;\n        if (self.frameClass) {\n          css = self.frameClass + \" \" + css;\n        }\n        if (zoom) {\n          css = css.replace(\" \" + $h.SORT_CSS, \"\");\n        }\n        tmplt = self._parseFilePreviewIcon(tmplt, fname);\n        if (cat === \"object\" && !ftype) {\n          $.each(self.defaults.fileTypeSettings, function (key, func) {\n            if (key === \"object\" || key === \"other\") {\n              return;\n            }\n            if (func(fname, ftype)) {\n              typeCss = \"type-\" + key;\n            }\n          });\n        }\n        if (!$h.isEmpty(attrs)) {\n          if (attrs.title !== undefined && attrs.title !== null) {\n            title = attrs.title;\n          }\n          if (attrs.alt !== undefined && attrs.alt !== null) {\n            title = attrs.alt;\n          }\n        }\n        return tmplt.setTokens({\n          previewId: id,\n          caption: caption,\n          title: title,\n          alt: alt,\n          frameClass: css,\n          type: self._getFileType(ftype),\n          fileindex: ind,\n          fileid: fileId || \"\",\n          typeCss: typeCss,\n          footer: footer,\n          data: d,\n          template: templ || cat,\n          style: styleAttribs ? 'style=\"' + styleAttribs + '\"' : \"\",\n        });\n      };\n      ind = ind || previewId.slice(previewId.lastIndexOf(\"-\") + 1);\n      if (self.fileActionSettings.showZoom) {\n        zoomContent = getContent(\n          forceZoomIcon ? \"other\" : cat,\n          zoomData ? zoomData : data,\n          true,\n          \"kv-zoom-thumb\"\n        );\n      }\n      zoomContent =\n        \"\\n\" +\n        self\n          ._getLayoutTemplate(\"zoomCache\")\n          .replace(\"{zoomContent}\", zoomContent);\n      if (typeof self.sanitizeZoomCache === \"function\") {\n        zoomContent = self.sanitizeZoomCache(zoomContent);\n      }\n      prevContent = getContent(\n        forcePrevIcon ? \"other\" : cat,\n        data,\n        false,\n        \"kv-preview-thumb\"\n      );\n      return prevContent.setTokens({ zoomCache: zoomContent });\n    },\n    _addToPreview: function ($preview, content) {\n      var self = this,\n        $el;\n      content = $h.cspBuffer.stash(content);\n      $el = self.reversePreviewOrder\n        ? $preview.prepend(content)\n        : $preview.append(content);\n      $h.cspBuffer.apply($preview);\n      return $el;\n    },\n    _previewDefault: function (file, isDisabled) {\n      var self = this,\n        $preview = self.$preview;\n      if (!self.showPreview) {\n        return;\n      }\n      var fname = $h.getFileName(file),\n        ftype = file ? file.type : \"\",\n        content,\n        size = file.size || 0,\n        caption = self._getFileName(file, \"\"),\n        isError = isDisabled === true && !self.isAjaxUpload,\n        data = $h.createObjectURL(file),\n        fileId = self.fileManager.getId(file),\n        previewId = self._getThumbId(fileId);\n      self._clearDefaultPreview();\n      content = self._generatePreviewTemplate(\n        \"other\",\n        data,\n        fname,\n        ftype,\n        previewId,\n        fileId,\n        isError,\n        size\n      );\n      self._addToPreview($preview, content);\n      self._setThumbAttr(previewId, caption, size);\n      if (isDisabled === true && self.isAjaxUpload) {\n        self._setThumbStatus(self._getFrame(previewId), \"Error\");\n      }\n    },\n    _previewFile: function (i, file, theFile, data, fileInfo) {\n      if (!this.showPreview) {\n        return;\n      }\n      var self = this,\n        fname = $h.getFileName(file),\n        ftype = fileInfo.type,\n        caption = fileInfo.name,\n        cat = self._parseFileType(ftype, fname),\n        content,\n        $preview = self.$preview,\n        fsize = file.size || 0,\n        iData = cat === \"image\" ? theFile.target.result : data,\n        fileId = self.fileManager.getId(file),\n        previewId = self._getThumbId(fileId);\n      /** @namespace window.DOMPurify */\n      content = self._generatePreviewTemplate(\n        cat,\n        iData,\n        fname,\n        ftype,\n        previewId,\n        fileId,\n        false,\n        fsize\n      );\n      self._clearDefaultPreview();\n      self._addToPreview($preview, content);\n      var $thumb = self._getFrame(previewId);\n      self._validateImageOrientation(\n        $thumb.find(\"img\"),\n        file,\n        previewId,\n        fileId,\n        caption,\n        ftype,\n        fsize,\n        iData\n      );\n      self._setThumbAttr(previewId, caption, fsize);\n      self._initSortable();\n    },\n    _setThumbAttr: function (id, caption, size) {\n      var self = this,\n        $frame = self._getFrame(id);\n      if ($frame.length) {\n        size = size && size > 0 ? self._getSize(size) : \"\";\n        $frame.data({ caption: caption, size: size });\n      }\n    },\n    _setInitThumbAttr: function () {\n      var self = this,\n        data = self.previewCache.data,\n        len = self.previewCache.count(true),\n        config,\n        caption,\n        size,\n        previewId;\n      if (len === 0) {\n        return;\n      }\n      for (var i = 0; i < len; i++) {\n        config = data.config[i];\n        previewId = self.previewInitId + \"-\" + $h.INIT_FLAG + i;\n        caption = $h.ifSet(\"caption\", config, $h.ifSet(\"filename\", config));\n        size = $h.ifSet(\"size\", config);\n        self._setThumbAttr(previewId, caption, size);\n      }\n    },\n    _slugDefault: function (text) {\n      // noinspection RegExpRedundantEscape\n      return $h.isEmpty(text, true)\n        ? \"\"\n        : String(text).replace(/[\\[\\]\\/\\{}:;#%=\\(\\)\\*\\+\\?\\\\\\^\\$\\|<>&\"']/g, \"_\");\n    },\n    _updateFileDetails: function (numFiles, skipRaiseEvent) {\n      var self = this,\n        $el = self.$element,\n        label,\n        n,\n        log,\n        nFiles,\n        file,\n        name =\n          ($h.isIE(9) && $h.findFileName($el.val())) ||\n          ($el[0].files[0] && $el[0].files[0].name);\n      if (!name && self.fileManager.count() > 0) {\n        file = self.fileManager.getFirstFile();\n        label = file.nameFmt;\n      } else {\n        label = name ? self.slug(name) : \"_\";\n      }\n      n = self.isAjaxUpload ? self.fileManager.count() : numFiles;\n      nFiles = self.previewCache.count(true) + n;\n      log = n === 1 ? label : self._getMsgSelected(nFiles);\n      if (self.isError) {\n        self.$previewContainer.removeClass(\"file-thumb-loading\");\n        self.$previewStatus.html(\"\");\n        self.$captionContainer.removeClass(\"icon-visible\");\n      } else {\n        self._showFileIcon();\n      }\n      self._setCaption(log, self.isError);\n      self.$container.removeClass(\"file-input-new file-input-ajax-new\");\n      if (!skipRaiseEvent) {\n        self._raise(\"fileselect\", [numFiles, label]);\n      }\n      if (self.previewCache.count(true)) {\n        self._initPreviewActions();\n      }\n    },\n    _setThumbStatus: function ($thumb, status) {\n      var self = this;\n      if (!self.showPreview) {\n        return;\n      }\n      var icon = \"indicator\" + status,\n        msg = icon + \"Title\",\n        css = \"file-preview-\" + status.toLowerCase(),\n        $indicator = $thumb.find(\".file-upload-indicator\"),\n        config = self.fileActionSettings;\n      $thumb.removeClass(\n        \"file-preview-success file-preview-error file-preview-paused file-preview-loading\"\n      );\n      if (status === \"Success\") {\n        $thumb.find(\".file-drag-handle\").remove();\n      }\n      $h.setHtml($indicator, config[icon]);\n      $indicator.attr(\"title\", config[msg]);\n      $thumb.addClass(css);\n      if (status === \"Error\" && !self.retryErrorUploads) {\n        $thumb.find(\".kv-file-upload\").attr(\"disabled\", true);\n      }\n    },\n    _setProgressCancelled: function () {\n      var self = this;\n      self._setProgress(101, self.$progress, self.msgCancelled);\n    },\n    _setProgress: function (p, $el, error, stats) {\n      var self = this;\n      $el = $el || self.$progress;\n      if (!$el.length) {\n        return;\n      }\n      var pct = Math.min(p, 100),\n        out,\n        pctLimit = self.progressUploadThreshold,\n        t = p <= 100 ? self.progressTemplate : self.progressCompleteTemplate,\n        template =\n          pct < 100\n            ? self.progressTemplate\n            : error\n            ? self.paused\n              ? self.progressPauseTemplate\n              : self.progressErrorTemplate\n            : t;\n      if (p >= 100) {\n        stats = \"\";\n      }\n      if (!$h.isEmpty(template)) {\n        if (pctLimit && pct > pctLimit && p <= 100) {\n          out = template.setTokens({\n            percent: pctLimit,\n            status: self.msgUploadThreshold,\n          });\n        } else {\n          out = template.setTokens({\n            percent: pct,\n            status: p > 100 ? self.msgUploadEnd : pct + \"%\",\n          });\n        }\n        stats = stats || \"\";\n        out = out.setTokens({ stats: stats });\n        $h.setHtml($el, out);\n        if (error) {\n          $h.setHtml($el.find('[role=\"progressbar\"]'), error);\n        }\n      }\n    },\n    _hasFiles: function () {\n      var el = this.$element[0];\n      return !!(el && el.files && el.files.length);\n    },\n    _setFileDropZoneTitle: function () {\n      var self = this,\n        $zone = self.$container.find(\".file-drop-zone\"),\n        title = self.dropZoneTitle,\n        strFiles;\n      if (self.isClickable) {\n        strFiles = $h.isEmpty(self.$element.attr(\"multiple\"))\n          ? self.fileSingle\n          : self.filePlural;\n        title += self.dropZoneClickTitle.replace(\"{files}\", strFiles);\n      }\n      $zone.find(\".\" + self.dropZoneTitleClass).remove();\n      if (\n        !self.showPreview ||\n        $zone.length === 0 ||\n        self.fileManager.count() > 0 ||\n        !self.dropZoneEnabled ||\n        self.previewCache.count() > 0 ||\n        (!self.isAjaxUpload && self._hasFiles())\n      ) {\n        return;\n      }\n      if (\n        $zone.find($h.FRAMES).length === 0 &&\n        $h.isEmpty(self.defaultPreviewContent)\n      ) {\n        $zone.prepend(\n          '<div class=\"' +\n            self.dropZoneTitleClass +\n            ' text-body-secondary\">' +\n            title +\n            \"</div>\"\n        );\n      }\n      self.$container.removeClass(\"file-input-new\");\n      $h.addCss(self.$container, \"file-input-ajax-new\");\n    },\n    _getStats: function (stats) {\n      var self = this,\n        pendingTime,\n        t;\n      if (!self.showUploadStats || !stats || !stats.bitrate) {\n        return \"\";\n      }\n      t = self._getLayoutTemplate(\"stats\");\n      pendingTime =\n        !stats.elapsed || !stats.bps\n          ? self.msgCalculatingTime\n          : self.msgPendingTime.setTokens({\n              time: $h.getElapsed(Math.ceil(stats.pendingBytes / stats.bps)),\n            });\n\n      return t.setTokens({\n        uploadSpeed: stats.bitrate,\n        pendingTime: pendingTime,\n      });\n    },\n    _setResumableProgress: function (pct, stats, $thumb) {\n      var self = this,\n        rm = self.resumableManager,\n        obj = $thumb ? rm : self,\n        $prog = $thumb ? $thumb.find(\".file-thumb-progress\") : null;\n      if (obj.lastProgress === 0) {\n        obj.lastProgress = pct;\n      }\n      if (pct < obj.lastProgress) {\n        pct = obj.lastProgress;\n      }\n      self._setProgress(pct, $prog, null, self._getStats(stats));\n      obj.lastProgress = pct;\n    },\n    _toggleResumableProgress: function (template, message) {\n      var self = this,\n        $progress = self.$progress;\n      if ($progress && $progress.length) {\n        $h.setHtml(\n          $progress,\n          template.setTokens({\n            percent: 101,\n            status: message,\n            stats: \"\",\n          })\n        );\n      }\n    },\n    _setFileUploadStats: function (id, pct, stats) {\n      var self = this,\n        $prog = self.$progress;\n      if (!self.showPreview && (!$prog || !$prog.length)) {\n        return;\n      }\n      var fm = self.fileManager,\n        rm = self.resumableManager,\n        $thumb = fm.getThumb(id),\n        pctTot,\n        totUpSize = 0,\n        totSize = fm.getTotalSize(),\n        totStats = $.extend(true, {}, stats);\n      if (self.enableResumableUpload) {\n        var loaded = stats.loaded,\n          currUplSize = rm.getUploadedSize(),\n          currTotSize = rm.file.size,\n          totLoaded;\n        loaded += currUplSize;\n        totLoaded = fm.uploadedSize + loaded;\n        pct = $h.round((100 * loaded) / currTotSize);\n        stats.pendingBytes = currTotSize - currUplSize;\n        self._setResumableProgress(pct, stats, $thumb);\n        pctTot = Math.floor((100 * totLoaded) / totSize);\n        totStats.pendingBytes = totSize - totLoaded;\n        self._setResumableProgress(pctTot, totStats);\n      } else {\n        fm.setProgress(id, pct);\n        $prog =\n          $thumb && $thumb.length ? $thumb.find(\".file-thumb-progress\") : null;\n        self._setProgress(pct, $prog, null, self._getStats(stats));\n        $.each(fm.stats, function (id, cfg) {\n          totUpSize += cfg.loaded;\n        });\n        totStats.pendingBytes = totSize - totUpSize;\n        pctTot = $h.round((totUpSize / totSize) * 100);\n        self._setProgress(pctTot, null, null, self._getStats(totStats));\n      }\n    },\n    _validateMinCount: function () {\n      var self = this,\n        len = self.isAjaxUpload\n          ? self.fileManager.count()\n          : self._inputFileCount();\n      if (\n        self.validateInitialCount &&\n        self.minFileCount > 0 &&\n        self._getFileCount(len - 1) < self.minFileCount\n      ) {\n        self._noFilesError({});\n        return false;\n      }\n      return true;\n    },\n    _getFileCount: function (fileCount, includeInitial) {\n      var self = this,\n        addCount = 0;\n      if (includeInitial === undefined) {\n        includeInitial = self.validateInitialCount && !self.overwriteInitial;\n      }\n      if (includeInitial) {\n        addCount = self.previewCache.count(true);\n        fileCount += addCount;\n      }\n      return fileCount;\n    },\n    _getFileId: function (file) {\n      return $h.getFileId(file, this.generateFileId);\n    },\n    _getFileName: function (file, defaultValue) {\n      var self = this,\n        fileName = $h.getFileName(file);\n      return fileName ? self.slug(fileName) : defaultValue;\n    },\n    _getFileNames: function (skipNull) {\n      var self = this;\n      return self.filenames.filter(function (n) {\n        return skipNull ? n !== undefined : n !== undefined && n !== null;\n      });\n    },\n    _setPreviewError: function ($thumb, keepFile) {\n      var self = this,\n        removeFrame = self.removeFromPreviewOnError && !self.retryErrorUploads;\n      if (!keepFile || removeFrame) {\n        self.fileManager.remove($thumb);\n      }\n      if (!self.showPreview) {\n        return;\n      }\n      if (removeFrame) {\n        $thumb.remove();\n        return;\n      } else {\n        self._setThumbStatus($thumb, \"Error\");\n      }\n      self._refreshUploadButton($thumb);\n    },\n    _refreshUploadButton: function ($thumb) {\n      var self = this,\n        $btn = $thumb.find(\".kv-file-upload\"),\n        cfg = self.fileActionSettings,\n        icon = cfg.uploadIcon,\n        title = cfg.uploadTitle;\n      if (!$btn.length) {\n        return;\n      }\n      if (self.retryErrorUploads) {\n        icon = cfg.uploadRetryIcon;\n        title = cfg.uploadRetryTitle;\n      }\n      $btn.attr(\"title\", title);\n      $h.setHtml($btn, icon);\n    },\n    _checkDimensions: function (i, chk, $img, $thumb, fname, type, params) {\n      var self = this,\n        msg,\n        dim,\n        tag = chk === \"Small\" ? \"min\" : \"max\",\n        limit = self[tag + \"Image\" + type],\n        $imgEl,\n        isValid;\n      if ($h.isEmpty(limit) || !$img.length) {\n        return;\n      }\n      $imgEl = $img[0];\n      dim =\n        type === \"Width\"\n          ? $imgEl.naturalWidth || $imgEl.width\n          : $imgEl.naturalHeight || $imgEl.height;\n      isValid = chk === \"Small\" ? dim >= limit : dim <= limit;\n      if (isValid) {\n        return;\n      }\n      msg = self[\"msgImage\" + type + chk].setTokens({\n        name: fname,\n        size: limit,\n      });\n      self._showFileError(msg, params);\n      self._setPreviewError($thumb);\n    },\n    _getExifObj: function (data) {\n      var self = this,\n        exifObj,\n        error = $h.logMessages.exifWarning;\n      if (\n        data.slice(0, 23) !== \"data:image/jpeg;base64,\" &&\n        data.slice(0, 22) !== \"data:image/jpg;base64,\"\n      ) {\n        exifObj = null;\n        return;\n      }\n      try {\n        exifObj = window.piexif ? window.piexif.load(data) : null;\n      } catch (err) {\n        exifObj = null;\n        error = (err && err.message) || \"\";\n      }\n      if (!exifObj) {\n        self._log($h.logMessages.badExifParser, { details: error });\n      }\n      return exifObj;\n    },\n    setImageOrientation: function ($img, $zoomImg, value, $thumb) {\n      var self = this,\n        invalidImg = !$img || !$img.length,\n        invalidZoomImg = !$zoomImg || !$zoomImg.length,\n        $mark,\n        isHidden = false,\n        $div,\n        zoomOnly =\n          invalidImg && $thumb && $thumb.attr(\"data-template\") === \"image\",\n        ev;\n      if (invalidImg && invalidZoomImg) {\n        return;\n      }\n      ev = \"load.fileinputimageorient\";\n      if (zoomOnly) {\n        $img = $zoomImg;\n        $zoomImg = null;\n        $img.css(self.previewSettings.image);\n        $div = $(document.createElement(\"div\")).appendTo(\n          $thumb.find(\".kv-file-content\")\n        );\n        $mark = $(document.createElement(\"span\")).insertBefore($img);\n        $img\n          .css(\"visibility\", \"hidden\")\n          .removeClass(\"file-zoom-detail\")\n          .appendTo($div);\n      } else {\n        isHidden = !$img.is(\":visible\");\n      }\n      $img.off(ev).on(ev, function () {\n        if (isHidden) {\n          self.$preview.removeClass(\"hide-content\");\n          $thumb.find(\".kv-file-content\").css(\"visibility\", \"hidden\");\n        }\n        var img = $img[0],\n          zoomImg = $zoomImg && $zoomImg.length ? $zoomImg[0] : null,\n          h = img.offsetHeight,\n          w = img.offsetWidth,\n          r = $h.getRotation(value);\n        if (isHidden) {\n          $thumb.find(\".kv-file-content\").css(\"visibility\", \"visible\");\n          self.$preview.addClass(\"hide-content\");\n        }\n        $img.data(\"orientation\", value);\n        if (zoomImg) {\n          $zoomImg.data(\"orientation\", value);\n        }\n        if (value < 5) {\n          $h.setTransform(img, r);\n          $h.setTransform(zoomImg, r);\n          return;\n        }\n        var offsetAngle = Math.atan(w / h),\n          origFactor = Math.sqrt(Math.pow(h, 2) + Math.pow(w, 2)),\n          scale = !origFactor\n            ? 1\n            : h / Math.cos(Math.PI / 2 + offsetAngle) / origFactor,\n          s = \" scale(\" + Math.abs(scale) + \")\";\n        $h.setTransform(img, r + s);\n        $h.setTransform(zoomImg, r + s);\n        if (zoomOnly) {\n          $img\n            .css(\"visibility\", \"visible\")\n            .insertAfter($mark)\n            .addClass(\"file-zoom-detail\");\n          $mark.remove();\n          $div.remove();\n        }\n      });\n    },\n    _validateImageOrientation: function (\n      $img,\n      file,\n      previewId,\n      fileId,\n      caption,\n      ftype,\n      fsize,\n      iData\n    ) {\n      var self = this,\n        exifObj,\n        value,\n        autoOrientImage = self.autoOrientImage,\n        selector;\n      if (self.canOrientImage) {\n        $img.css(\"image-orientation\", autoOrientImage ? \"from-image\" : \"none\");\n        return;\n      }\n      selector = $h.getZoomSelector(previewId, \" img\");\n      exifObj = autoOrientImage ? self._getExifObj(iData) : null;\n      value = exifObj ? exifObj[\"0th\"][piexif.ImageIFD.Orientation] : null; // jshint ignore:line\n      if (!value) {\n        self._validateImage(\n          previewId,\n          fileId,\n          caption,\n          ftype,\n          fsize,\n          iData,\n          exifObj\n        );\n        return;\n      }\n      self.setImageOrientation(\n        $img,\n        $(selector),\n        value,\n        self._getFrame(previewId)\n      );\n      self._raise(\"fileimageoriented\", { $img: $img, file: file });\n      self._validateImage(\n        previewId,\n        fileId,\n        caption,\n        ftype,\n        fsize,\n        iData,\n        exifObj\n      );\n    },\n    _validateImage: function (\n      previewId,\n      fileId,\n      fname,\n      ftype,\n      fsize,\n      iData,\n      exifObj\n    ) {\n      var self = this,\n        $preview = self.$preview,\n        params,\n        w1,\n        w2,\n        $thumb = self._getFrame(previewId),\n        i = $thumb.attr(\"data-fileindex\"),\n        $img = $thumb.find(\"img\");\n      fname = fname || \"Untitled\";\n      $img\n        .one(\"load\", function () {\n          w1 = $thumb.width();\n          w2 = $preview.width();\n          if (w1 > w2) {\n            $img.css(\"width\", \"100%\");\n          }\n          params = { ind: i, id: previewId, fileId: fileId };\n          self._checkDimensions(\n            i,\n            \"Small\",\n            $img,\n            $thumb,\n            fname,\n            \"Width\",\n            params\n          );\n          self._checkDimensions(\n            i,\n            \"Small\",\n            $img,\n            $thumb,\n            fname,\n            \"Height\",\n            params\n          );\n          if (!self.resizeImage) {\n            self._checkDimensions(\n              i,\n              \"Large\",\n              $img,\n              $thumb,\n              fname,\n              \"Width\",\n              params\n            );\n            self._checkDimensions(\n              i,\n              \"Large\",\n              $img,\n              $thumb,\n              fname,\n              \"Height\",\n              params\n            );\n          }\n          self._raise(\"fileimageloaded\", [previewId]);\n          self.fileManager.addImage(fileId, {\n            ind: i,\n            img: $img,\n            thumb: $thumb,\n            pid: previewId,\n            typ: ftype,\n            siz: fsize,\n            validated: false,\n            imgData: iData,\n            exifObj: exifObj,\n          });\n          $thumb.data(\"exif\", exifObj);\n          self._validateAllImages();\n        })\n        .one(\"error\", function () {\n          self._raise(\"fileimageloaderror\", [previewId]);\n        })\n        .each(function () {\n          if (this.complete) {\n            $(this).trigger(\"load\");\n          } else {\n            if (this.error) {\n              $(this).trigger(\"error\");\n            }\n          }\n        });\n    },\n    _validateAllImages: function () {\n      var self = this,\n        counter = { val: 0 },\n        numImgs = self.fileManager.getImageCount(),\n        fsize,\n        minSize = self.resizeIfSizeMoreThan;\n      if (numImgs !== self.fileManager.totalImages) {\n        return;\n      }\n      self._raise(\"fileimagesloaded\");\n      if (!self.resizeImage) {\n        return;\n      }\n      $.each(self.fileManager.loadedImages, function (id, config) {\n        if (!config.validated) {\n          fsize = config.siz;\n          if (fsize && fsize > minSize * 1000) {\n            self._getResizedImage(id, config, counter, numImgs);\n          }\n          config.validated = true;\n        }\n      });\n    },\n    _getResizedImage: function (id, config, counter, numImgs) {\n      var self = this,\n        img = $(config.img)[0],\n        width = img.naturalWidth,\n        height = img.naturalHeight,\n        blob,\n        ratio = 1,\n        maxWidth = self.maxImageWidth || width,\n        maxHeight = self.maxImageHeight || height,\n        isValidImage = !!(width && height),\n        chkWidth,\n        chkHeight,\n        canvas = self.imageCanvas,\n        dataURI,\n        context = self.imageCanvasContext,\n        type = config.typ,\n        pid = config.pid,\n        ind = config.ind,\n        $thumb = config.thumb,\n        throwError,\n        msg,\n        exifObj = config.exifObj,\n        exifStr,\n        file,\n        params,\n        evParams;\n      throwError = function (msg, params, ev) {\n        if (self.isAjaxUpload) {\n          self._showFileError(msg, params, ev);\n        } else {\n          self._showError(msg, params, ev);\n        }\n        self._setPreviewError($thumb);\n      };\n      file = self.fileManager.getFile(id);\n      params = { id: pid, index: ind, fileId: id };\n      evParams = [id, pid, ind];\n      if (\n        !file ||\n        !isValidImage ||\n        (width <= maxWidth && height <= maxHeight)\n      ) {\n        if (isValidImage && file) {\n          self._raise(\"fileimageresized\", evParams);\n        }\n        counter.val++;\n        if (counter.val === numImgs) {\n          self._raise(\"fileimagesresized\");\n        }\n        if (!isValidImage) {\n          throwError(self.msgImageResizeError, params, \"fileimageresizeerror\");\n          return;\n        }\n      }\n      type = type || self.resizeDefaultImageType;\n      chkWidth = width > maxWidth;\n      chkHeight = height > maxHeight;\n      if (self.resizePreference === \"width\") {\n        ratio = chkWidth\n          ? maxWidth / width\n          : chkHeight\n          ? maxHeight / height\n          : 1;\n      } else {\n        ratio = chkHeight\n          ? maxHeight / height\n          : chkWidth\n          ? maxWidth / width\n          : 1;\n      }\n      self._resetCanvas();\n      width *= ratio;\n      height *= ratio;\n      canvas.width = width;\n      canvas.height = height;\n      try {\n        context.drawImage(img, 0, 0, width, height);\n        dataURI = canvas.toDataURL(type, self.resizeQuality);\n        if (exifObj) {\n          exifStr = window.piexif.dump(exifObj);\n          dataURI = window.piexif.insert(exifStr, dataURI);\n        }\n        blob = $h.dataURI2Blob(dataURI);\n        self.fileManager.setFile(id, blob);\n        self._raise(\"fileimageresized\", evParams);\n        counter.val++;\n        if (counter.val === numImgs) {\n          self._raise(\"fileimagesresized\", [undefined, undefined]);\n        }\n        if (!(blob instanceof Blob)) {\n          throwError(self.msgImageResizeError, params, \"fileimageresizeerror\");\n        }\n      } catch (err) {\n        counter.val++;\n        if (counter.val === numImgs) {\n          self._raise(\"fileimagesresized\", [undefined, undefined]);\n        }\n        msg = self.msgImageResizeException.replace(\"{errors}\", err.message);\n        throwError(msg, params, \"fileimageresizeexception\");\n      }\n    },\n    _showProgress: function () {\n      var self = this;\n      if (self.$progress && self.$progress.length) {\n        self.$progress.show();\n      }\n    },\n    _hideProgress: function () {\n      var self = this;\n      if (self.$progress && self.$progress.length) {\n        self.$progress.hide();\n      }\n    },\n    _initBrowse: function ($container) {\n      var self = this,\n        $el = self.$element;\n      if (self.showBrowse) {\n        self.$btnFile = $container.find(\".btn-file\").append($el);\n      } else {\n        $el.appendTo($container).attr(\"tabindex\", -1);\n        $h.addCss($el, \"file-no-browse\");\n      }\n    },\n    _initClickable: function () {\n      var self = this,\n        $zone,\n        $tmpZone;\n      if (!self.isClickable) {\n        return;\n      }\n      $zone = self.$dropZone;\n      if (!self.isAjaxUpload) {\n        $tmpZone = self.$preview.find(\".file-default-preview\");\n        if ($tmpZone.length) {\n          $zone = $tmpZone;\n        }\n      }\n\n      $h.addCss($zone, \"clickable\");\n      $zone.attr(\"tabindex\", -1);\n      self._handler($zone, \"click\", function (e) {\n        var $tar = $(e.target);\n        if (\n          !$(self.elErrorContainer + \":visible\").length &&\n          (!$tar.parents(\".file-preview-thumbnails\").length ||\n            $tar.parents(\".file-default-preview\").length)\n        ) {\n          self.$element.data(\"zoneClicked\", true).trigger(\"click\");\n          $zone.blur();\n        }\n      });\n    },\n    _initCaption: function () {\n      var self = this,\n        cap = self.initialCaption || \"\";\n      if (self.overwriteInitial || $h.isEmpty(cap)) {\n        self.$caption.val(\"\");\n        return false;\n      }\n      self._setCaption(cap);\n      return true;\n    },\n    _setCaption: function (content, isError) {\n      var self = this,\n        title,\n        out,\n        icon,\n        n,\n        cap,\n        file;\n      if (!self.$caption.length) {\n        return;\n      }\n      self.$captionContainer.removeClass(\"icon-visible\");\n      if (isError) {\n        title = $(\"<div>\" + self.msgValidationError + \"</div>\").text();\n        n = self.fileManager.count();\n        if (n) {\n          file = self.fileManager.getFirstFile();\n          cap = n === 1 && file ? file.nameFmt : self._getMsgSelected(n);\n        } else {\n          cap = self._getMsgSelected(self.msgNo);\n        }\n        out = $h.isEmpty(content) ? cap : content;\n        icon =\n          '<span class=\"' +\n          self.msgValidationErrorClass +\n          '\">' +\n          self.msgValidationErrorIcon +\n          \"</span>\";\n      } else {\n        if ($h.isEmpty(content)) {\n          return;\n        }\n        title = $(\"<div>\" + content + \"</div>\").text();\n        out = title;\n        icon = self._getLayoutTemplate(\"fileIcon\");\n      }\n      self.$captionContainer.addClass(\"icon-visible\");\n      self.$caption.attr(\"title\", title).val(out);\n      $h.setHtml(self.$captionIcon, icon);\n    },\n    _createContainer: function () {\n      var self = this,\n        attribs = {\n          class: \"file-input file-input-new\" + (self.rtl ? \" kv-rtl\" : \"\"),\n        },\n        $container = $h.createElement($h.cspBuffer.stash(self._renderMain()));\n      $h.cspBuffer.apply($container);\n      $container.insertBefore(self.$element).attr(attribs);\n      self._initBrowse($container);\n      if (self.theme) {\n        $container.addClass(\"theme-\" + self.theme);\n      }\n      return $container;\n    },\n    _refreshContainer: function () {\n      var self = this,\n        $container = self.$container,\n        $el = self.$element;\n      $el.insertAfter($container);\n      $h.setHtml($container, self._renderMain());\n      self._initBrowse($container);\n      self._validateDisabled();\n    },\n    _validateDisabled: function () {\n      var self = this;\n      self.$caption.attr({ readonly: self.isDisabled });\n    },\n    _renderMain: function () {\n      var self = this,\n        dropCss = self.dropZoneEnabled\n          ? \" file-drop-zone\"\n          : \"file-drop-disabled\",\n        close = !self.showClose ? \"\" : self._getLayoutTemplate(\"close\"),\n        preview = !self.showPreview\n          ? \"\"\n          : self\n              ._getLayoutTemplate(\"preview\")\n              .setTokens({ class: self.previewClass, dropClass: dropCss }),\n        css = self.isDisabled\n          ? self.captionClass + \" file-caption-disabled\"\n          : self.captionClass,\n        caption = self.captionTemplate.setTokens({\n          class: css + \" kv-fileinput-caption\",\n        });\n      return self.mainTemplate.setTokens({\n        class:\n          self.mainClass +\n          (!self.showBrowse && self.showCaption ? \" no-browse\" : \"\"),\n        preview: preview,\n        close: close,\n        caption: caption,\n        upload: self._renderButton(\"upload\"),\n        remove: self._renderButton(\"remove\"),\n        cancel: self._renderButton(\"cancel\"),\n        pause: self._renderButton(\"pause\"),\n        browse: self._renderButton(\"browse\"),\n      });\n    },\n    _renderButton: function (type) {\n      var self = this,\n        tmplt = self._getLayoutTemplate(\"btnDefault\"),\n        css = self[type + \"Class\"],\n        title = self[type + \"Title\"],\n        icon = self[type + \"Icon\"],\n        label = self[type + \"Label\"],\n        status = self.isDisabled ? \" disabled\" : \"\",\n        btnType = \"button\";\n      switch (type) {\n        case \"remove\":\n          if (!self.showRemove) {\n            return \"\";\n          }\n          break;\n        case \"cancel\":\n          if (!self.showCancel) {\n            return \"\";\n          }\n          css += \" kv-hidden\";\n          break;\n        case \"pause\":\n          if (!self.showPause) {\n            return \"\";\n          }\n          css += \" kv-hidden\";\n          break;\n        case \"upload\":\n          if (!self.showUpload) {\n            return \"\";\n          }\n          if (self.isAjaxUpload && !self.isDisabled) {\n            tmplt = self\n              ._getLayoutTemplate(\"btnLink\")\n              .replace(\"{href}\", self.uploadUrl);\n          } else {\n            btnType = \"submit\";\n          }\n          break;\n        case \"browse\":\n          if (!self.showBrowse) {\n            return \"\";\n          }\n          tmplt = self._getLayoutTemplate(\"btnBrowse\");\n          break;\n        default:\n          return \"\";\n      }\n\n      css +=\n        type === \"browse\"\n          ? \" btn-file\"\n          : \" fileinput-\" + type + \" fileinput-\" + type + \"-button\";\n      if (!$h.isEmpty(label)) {\n        label =\n          ' <span class=\"' + self.buttonLabelClass + '\">' + label + \"</span>\";\n      }\n      return tmplt.setTokens({\n        type: btnType,\n        css: css,\n        title: title,\n        status: status,\n        icon: icon,\n        label: label,\n      });\n    },\n    _renderThumbProgress: function () {\n      var self = this;\n      return (\n        '<div class=\"file-thumb-progress kv-hidden\">' +\n        self.progressInfoTemplate.setTokens({\n          percent: 101,\n          status: self.msgUploadBegin,\n          stats: \"\",\n        }) +\n        \"</div>\"\n      );\n    },\n    _renderFileFooter: function (cat, caption, size, width, isError) {\n      var self = this,\n        config = self.fileActionSettings,\n        rem = config.showRemove,\n        drg = config.showDrag,\n        upl = config.showUpload,\n        zoom = config.showZoom,\n        out,\n        params,\n        template = self._getLayoutTemplate(\"footer\"),\n        tInd = self._getLayoutTemplate(\"indicator\"),\n        ind = isError ? config.indicatorError : config.indicatorNew,\n        title = isError ? config.indicatorErrorTitle : config.indicatorNewTitle,\n        indicator = tInd.setTokens({ indicator: ind, indicatorTitle: title });\n      size = self._getSize(size);\n      params = {\n        type: cat,\n        caption: caption,\n        size: size,\n        width: width,\n        progress: \"\",\n        indicator: indicator,\n      };\n      if (self.isAjaxUpload) {\n        params.progress = self._renderThumbProgress();\n        params.actions = self._renderFileActions(\n          params,\n          upl,\n          false,\n          rem,\n          zoom,\n          drg,\n          false,\n          false,\n          false\n        );\n      } else {\n        params.actions = self._renderFileActions(\n          params,\n          false,\n          false,\n          false,\n          zoom,\n          drg,\n          false,\n          false,\n          false\n        );\n      }\n      out = template.setTokens(params);\n      out = $h.replaceTags(out, self.previewThumbTags);\n      return out;\n    },\n    _renderFileActions: function (\n      cfg,\n      showUpl,\n      showDwn,\n      showDel,\n      showZoom,\n      showDrag,\n      disabled,\n      url,\n      key,\n      isInit,\n      dUrl,\n      dFile\n    ) {\n      var self = this;\n      if (!cfg.type && isInit) {\n        cfg.type = \"image\";\n      }\n      if (self.enableResumableUpload) {\n        showUpl = false;\n      } else {\n        if (typeof showUpl === \"function\") {\n          showUpl = showUpl(cfg);\n        }\n      }\n      if (typeof showDwn === \"function\") {\n        showDwn = showDwn(cfg);\n      }\n      if (typeof showDel === \"function\") {\n        showDel = showDel(cfg);\n      }\n      if (typeof showZoom === \"function\") {\n        showZoom = showZoom(cfg);\n      }\n      if (typeof showDrag === \"function\") {\n        showDrag = showDrag(cfg);\n      }\n      if (!showUpl && !showDwn && !showDel && !showZoom && !showDrag) {\n        return \"\";\n      }\n      var vUrl = url === false ? \"\" : ' data-url=\"' + url + '\"',\n        btnZoom = \"\",\n        btnDrag = \"\",\n        css,\n        vKey = key === false ? \"\" : ' data-key=\"' + key + '\"',\n        btnDelete = \"\",\n        btnUpload = \"\",\n        btnDownload = \"\",\n        template = self._getLayoutTemplate(\"actions\"),\n        config = self.fileActionSettings,\n        otherButtons = self.otherActionButtons.setTokens({\n          dataKey: vKey,\n          key: key,\n        }),\n        removeClass = disabled\n          ? config.removeClass + \" disabled\"\n          : config.removeClass;\n      if (showDel) {\n        btnDelete = self._getLayoutTemplate(\"actionDelete\").setTokens({\n          removeClass: removeClass,\n          removeIcon: config.removeIcon,\n          removeTitle: config.removeTitle,\n          dataUrl: vUrl,\n          dataKey: vKey,\n          key: key,\n        });\n      }\n      if (showUpl) {\n        btnUpload = self._getLayoutTemplate(\"actionUpload\").setTokens({\n          uploadClass: config.uploadClass,\n          uploadIcon: config.uploadIcon,\n          uploadTitle: config.uploadTitle,\n        });\n      }\n      if (showDwn) {\n        btnDownload = self._getLayoutTemplate(\"actionDownload\").setTokens({\n          downloadClass: config.downloadClass,\n          downloadIcon: config.downloadIcon,\n          downloadTitle: config.downloadTitle,\n          downloadUrl: dUrl || self.initialPreviewDownloadUrl,\n        });\n        btnDownload = btnDownload.setTokens({ filename: dFile, key: key });\n      }\n      if (showZoom) {\n        btnZoom = self._getLayoutTemplate(\"actionZoom\").setTokens({\n          zoomClass: config.zoomClass,\n          zoomIcon: config.zoomIcon,\n          zoomTitle: config.zoomTitle,\n        });\n      }\n      if (showDrag && isInit) {\n        css = \"drag-handle-init \" + config.dragClass;\n        btnDrag = self._getLayoutTemplate(\"actionDrag\").setTokens({\n          dragClass: css,\n          dragTitle: config.dragTitle,\n          dragIcon: config.dragIcon,\n        });\n      }\n      return template.setTokens({\n        delete: btnDelete,\n        upload: btnUpload,\n        download: btnDownload,\n        zoom: btnZoom,\n        drag: btnDrag,\n        other: otherButtons,\n      });\n    },\n    _browse: function (e) {\n      var self = this;\n      if ((e && e.isDefaultPrevented()) || !self._raise(\"filebrowse\")) {\n        return;\n      }\n      if (self.isError && !self.isAjaxUpload) {\n        self.clear();\n      }\n      if (self.focusCaptionOnBrowse) {\n        self.$captionContainer.focus();\n      }\n    },\n    _change: function (e) {\n      var self = this;\n      if (self.changeTriggered) {\n        return;\n      }\n      var $el = self.$element,\n        isDragDrop = arguments.length > 1,\n        isAjaxUpload = self.isAjaxUpload,\n        tfiles,\n        files = isDragDrop ? arguments[1] : $el[0].files,\n        ctr = self.fileManager.count(),\n        total,\n        initCount,\n        len,\n        isSingleUpl = $h.isEmpty($el.attr(\"multiple\")),\n        maxCount = !isAjaxUpload && isSingleUpl ? 1 : self.maxFileCount,\n        maxTotCount = self.maxTotalFileCount,\n        inclAll = maxTotCount > 0 && maxTotCount > maxCount,\n        flagSingle = isSingleUpl && ctr > 0,\n        throwError = function (mesg, file, previewId, index) {\n          var p1 = $.extend(true, {}, self._getOutData(null, {}, {}, files), {\n              id: previewId,\n              index: index,\n            }),\n            p2 = { id: previewId, index: index, file: file, files: files };\n          self.isPersistentError = true;\n          return isAjaxUpload\n            ? self._showFileError(mesg, p1)\n            : self._showError(mesg, p2);\n        },\n        maxCountCheck = function (n, m, all) {\n          var msg = all ? self.msgTotalFilesTooMany : self.msgFilesTooMany;\n          msg = msg.replace(\"{m}\", m).replace(\"{n}\", n);\n          self.isError = throwError(msg, null, null, null);\n          self.$captionContainer.removeClass(\"icon-visible\");\n          self._setCaption(\"\", true);\n          self.$container.removeClass(\"file-input-new file-input-ajax-new\");\n        };\n      self.reader = null;\n      self._resetUpload();\n      self._hideFileIcon();\n      if (self.dropZoneEnabled) {\n        self.$container\n          .find(\".file-drop-zone .\" + self.dropZoneTitleClass)\n          .remove();\n      }\n      if (!isAjaxUpload) {\n        if (e.target && e.target.files === undefined) {\n          files = e.target.value\n            ? [{ name: e.target.value.replace(/^.+\\\\/, \"\") }]\n            : [];\n        } else {\n          files = e.target.files || {};\n        }\n      }\n      tfiles = files;\n      if ($h.isEmpty(tfiles) || tfiles.length === 0) {\n        if (!isAjaxUpload) {\n          self.clear();\n        }\n        self._raise(\"fileselectnone\");\n        return;\n      }\n      self._resetErrors();\n      len = tfiles.length;\n      initCount = isAjaxUpload ? self.fileManager.count() + len : len;\n      total = self._getFileCount(initCount, inclAll ? false : undefined);\n      if (maxCount > 0 && total > maxCount) {\n        if (!self.autoReplace || len > maxCount) {\n          maxCountCheck(\n            self.autoReplace && len > maxCount ? len : total,\n            maxCount\n          );\n          return;\n        }\n        if (total > maxCount) {\n          self._resetPreviewThumbs(isAjaxUpload);\n        }\n      } else {\n        if (inclAll) {\n          total = self._getFileCount(initCount, true);\n          if (maxTotCount > 0 && total > maxTotCount) {\n            if (!self.autoReplace || len > maxCount) {\n              maxCountCheck(\n                self.autoReplace && len > maxTotCount ? len : total,\n                maxTotCount,\n                true\n              );\n              return;\n            }\n            if (total > maxCount) {\n              self._resetPreviewThumbs(isAjaxUpload);\n            }\n          }\n        }\n        if (!isAjaxUpload || flagSingle) {\n          self._resetPreviewThumbs(false);\n          if (flagSingle) {\n            self.clearFileStack();\n          }\n        } else {\n          if (\n            isAjaxUpload &&\n            ctr === 0 &&\n            (!self.previewCache.count(true) || self.overwriteInitial)\n          ) {\n            self._resetPreviewThumbs(true);\n          }\n        }\n      }\n      self.readFiles(tfiles);\n    },\n    _abort: function (params) {\n      var self = this,\n        data;\n      if (\n        self.ajaxAborted &&\n        typeof self.ajaxAborted === \"object\" &&\n        self.ajaxAborted.message !== undefined\n      ) {\n        data = $.extend(true, {}, self._getOutData(null), params);\n        data.abortData = self.ajaxAborted.data || {};\n        data.abortMessage = self.ajaxAborted.message;\n        self._setProgress(101, self.$progress, self.msgCancelled);\n        self._showFileError(self.ajaxAborted.message, data, \"filecustomerror\");\n        self.cancel();\n        return true;\n      }\n      return !!self.ajaxAborted;\n    },\n    _resetFileStack: function () {\n      var self = this,\n        i = 0;\n      self._getThumbs().each(function () {\n        var $thumb = $(this),\n          ind = $thumb.attr(\"data-fileindex\"),\n          pid = $thumb.attr(\"id\");\n        if (ind === \"-1\" || ind === -1) {\n          return;\n        }\n        if (!self.fileManager.getFile($thumb.attr(\"data-fileid\"))) {\n          $thumb.attr({ \"data-fileindex\": i });\n          i++;\n        } else {\n          $thumb.attr({ \"data-fileindex\": \"-1\" });\n        }\n        self._getZoom(pid).attr({\n          \"data-fileindex\": $thumb.attr(\"data-fileindex\"),\n        });\n      });\n    },\n    _isFileSelectionValid: function (cnt) {\n      var self = this;\n      cnt = cnt || 0;\n      if (self.required && !self.getFilesCount()) {\n        self.$errorContainer.html(\"\");\n        self._showFileError(self.msgFileRequired);\n        return false;\n      }\n      if (\n        self.minFileCount > 0 &&\n        self._getFileCount(cnt) < self.minFileCount\n      ) {\n        self._noFilesError({});\n        return false;\n      }\n      return true;\n    },\n    _canPreview: function (file) {\n      var self = this;\n      if (\n        !file ||\n        !self.showPreview ||\n        !self.$preview ||\n        !self.$preview.length\n      ) {\n        return false;\n      }\n      var name = file.name || \"\",\n        type = file.type || \"\",\n        size = (file.size || 0) / 1000,\n        cat = self._parseFileType(type, name),\n        allowedTypes,\n        allowedMimes,\n        allowedExts,\n        skipPreview,\n        types = self.allowedPreviewTypes,\n        mimes = self.allowedPreviewMimeTypes,\n        exts = self.allowedPreviewExtensions || [],\n        dTypes = self.disabledPreviewTypes,\n        dMimes = self.disabledPreviewMimeTypes,\n        dExts = self.disabledPreviewExtensions || [],\n        maxSize =\n          (self.maxFilePreviewSize && parseFloat(self.maxFilePreviewSize)) || 0,\n        expAllExt = new RegExp(\"\\\\.(\" + exts.join(\"|\") + \")$\", \"i\"),\n        expDisExt = new RegExp(\"\\\\.(\" + dExts.join(\"|\") + \")$\", \"i\");\n      allowedTypes = !types || types.indexOf(cat) !== -1;\n      allowedMimes = !mimes || mimes.indexOf(type) !== -1;\n      allowedExts = !exts.length || $h.compare(name, expAllExt);\n      skipPreview =\n        (dTypes && dTypes.indexOf(cat) !== -1) ||\n        (dMimes && dMimes.indexOf(type) !== -1) ||\n        (dExts.length && $h.compare(name, expDisExt)) ||\n        (maxSize && !isNaN(maxSize) && size > maxSize);\n      return !skipPreview && (allowedTypes || allowedMimes || allowedExts);\n    },\n    addToStack: function (file, id) {\n      this.fileManager.add(file, id);\n    },\n    clearFileStack: function () {\n      var self = this;\n      self.fileManager.clear();\n      self._initResumableUpload();\n      if (self.enableResumableUpload) {\n        if (self.showPause === null) {\n          self.showPause = true;\n        }\n        if (self.showCancel === null) {\n          self.showCancel = false;\n        }\n      } else {\n        self.showPause = false;\n        if (self.showCancel === null) {\n          self.showCancel = true;\n        }\n      }\n      return self.$element;\n    },\n    getFileStack: function () {\n      return this.fileManager.stack;\n    },\n    getFileList: function () {\n      return this.fileManager.list();\n    },\n    getFilesCount: function (includeInitial) {\n      var self = this,\n        len = self.isAjaxUpload\n          ? self.fileManager.count()\n          : self._inputFileCount();\n      if (includeInitial) {\n        len += self.previewCache.count(true);\n      }\n      return self._getFileCount(len);\n    },\n    readFiles: function (files) {\n      this.reader = new FileReader();\n      var self = this,\n        reader = self.reader,\n        $container = self.$previewContainer,\n        $status = self.$previewStatus,\n        msgLoading = self.msgLoading,\n        msgProgress = self.msgProgress,\n        previewInitId = self.previewInitId,\n        numFiles = files.length,\n        settings = self.fileTypeSettings,\n        readFile,\n        fileTypes = self.allowedFileTypes,\n        typLen = fileTypes ? fileTypes.length : 0,\n        fileExt = self.allowedFileExtensions,\n        strExt = $h.isEmpty(fileExt) ? \"\" : fileExt.join(\", \"),\n        throwError = function (msg, file, previewId, index, fileId) {\n          var $thumb,\n            p1 = $.extend(true, {}, self._getOutData(null, {}, {}, files), {\n              id: previewId,\n              index: index,\n              fileId: fileId,\n            }),\n            p2 = {\n              id: previewId,\n              index: index,\n              fileId: fileId,\n              file: file,\n              files: files,\n            };\n          self._previewDefault(file, true);\n          $thumb = self._getFrame(previewId, true);\n          if (self.isAjaxUpload) {\n            setTimeout(function () {\n              readFile(index + 1);\n            }, self.processDelay);\n          } else {\n            self.unlock();\n            numFiles = 0;\n          }\n          if (self.removeFromPreviewOnError && $thumb.length) {\n            $thumb.remove();\n          } else {\n            self._initFileActions();\n            $thumb.find(\".kv-file-upload\").remove();\n          }\n          self.isPersistentError = true;\n          self.isError = self.isAjaxUpload\n            ? self._showFileError(msg, p1)\n            : self._showError(msg, p2);\n          self._updateFileDetails(numFiles);\n        };\n      self.fileManager.clearImages();\n      $.each(files, function (key, file) {\n        var func = self.fileTypeSettings.image;\n        if (func && func(file.type)) {\n          self.fileManager.totalImages++;\n        }\n      });\n      readFile = function (i) {\n        var $error = self.$errorContainer,\n          errors,\n          fm = self.fileManager;\n        if (i >= numFiles) {\n          self.unlock();\n          if (self.duplicateErrors.length) {\n            errors = \"<li>\" + self.duplicateErrors.join(\"</li><li>\") + \"</li>\";\n            if ($error.find(\"ul\").length === 0) {\n              $h.setHtml(\n                $error,\n                self.errorCloseButton + \"<ul>\" + errors + \"</ul>\"\n              );\n            } else {\n              $error.find(\"ul\").append(errors);\n            }\n            $error.fadeIn(self.fadeDelay);\n            self._handler($error.find(\".kv-error-close\"), \"click\", function () {\n              $error.fadeOut(self.fadeDelay);\n            });\n            self.duplicateErrors = [];\n          }\n          if (self.isAjaxUpload) {\n            self._raise(\"filebatchselected\", [fm.stack]);\n            if (fm.count() === 0 && !self.isError) {\n              self.reset();\n            }\n          } else {\n            self._raise(\"filebatchselected\", [files]);\n          }\n          $container.removeClass(\"file-thumb-loading\");\n          $status.html(\"\");\n          return;\n        }\n        self.lock(true);\n        var file = files[i],\n          id = self._getFileId(file),\n          previewId = previewInitId + \"-\" + id,\n          fSizeKB,\n          j,\n          msg,\n          fnText = settings.text,\n          fnImage = settings.image,\n          fnHtml = settings.html,\n          typ,\n          chk,\n          typ1,\n          typ2,\n          caption = self._getFileName(file, \"\"),\n          fileSize = ((file && file.size) || 0) / 1000,\n          fileExtExpr = \"\",\n          previewData = $h.createObjectURL(file),\n          fileCount = 0,\n          strTypes = \"\",\n          fileId,\n          canLoad,\n          fileReaderAborted = false,\n          func,\n          knownTypes = 0,\n          isImage,\n          txtFlag,\n          processFileLoaded = function () {\n            var msg = msgProgress.setTokens({\n              index: i + 1,\n              files: numFiles,\n              percent: 50,\n              name: caption,\n            });\n            setTimeout(function () {\n              $status.html(msg);\n              self._updateFileDetails(numFiles);\n              readFile(i + 1);\n            }, self.processDelay);\n            if (\n              self._raise(\"fileloaded\", [file, previewId, id, i, reader]) &&\n              self.isAjaxUpload\n            ) {\n              fm.add(file);\n            }\n          };\n        if (!file) {\n          return;\n        }\n        fileId = fm.getId(file);\n        if (typLen > 0) {\n          for (j = 0; j < typLen; j++) {\n            typ1 = fileTypes[j];\n            typ2 = self.msgFileTypes[typ1] || typ1;\n            strTypes += j === 0 ? typ2 : \", \" + typ2;\n          }\n        }\n        if (caption === false) {\n          readFile(i + 1);\n          return;\n        }\n        if (caption.length === 0) {\n          msg = self.msgInvalidFileName.replace(\n            \"{name}\",\n            $h.htmlEncode($h.getFileName(file), \"[unknown]\")\n          );\n          throwError(msg, file, previewId, i, fileId);\n          return;\n        }\n        if (!$h.isEmpty(fileExt)) {\n          fileExtExpr = new RegExp(\"\\\\.(\" + fileExt.join(\"|\") + \")$\", \"i\");\n        }\n        fSizeKB = fileSize.toFixed(2);\n        if (\n          (self.isAjaxUpload && fm.exists(fileId)) ||\n          self._getFrame(previewId, true).length\n        ) {\n          var p2 = {\n            id: previewId,\n            index: i,\n            fileId: fileId,\n            file: file,\n            files: files,\n          };\n          msg = self.msgDuplicateFile.setTokens({\n            name: caption,\n            size: fSizeKB,\n          });\n          if (self.isAjaxUpload) {\n            self.duplicateErrors.push(msg);\n            self.isDuplicateError = true;\n            self._raise(\"fileduplicateerror\", [\n              file,\n              fileId,\n              caption,\n              fSizeKB,\n              previewId,\n              i,\n            ]);\n            readFile(i + 1);\n            self._updateFileDetails(numFiles);\n          } else {\n            self._showError(msg, p2);\n            self.unlock();\n            numFiles = 0;\n            self._clearFileInput();\n            self.reset();\n            self._updateFileDetails(numFiles);\n          }\n          return;\n        }\n        if (self.maxFileSize > 0 && fileSize > self.maxFileSize) {\n          msg = self.msgSizeTooLarge.setTokens({\n            name: caption,\n            size: fSizeKB,\n            maxSize: self.maxFileSize,\n          });\n          throwError(msg, file, previewId, i, fileId);\n          return;\n        }\n        if (\n          self.minFileSize !== null &&\n          fileSize <= $h.getNum(self.minFileSize)\n        ) {\n          msg = self.msgSizeTooSmall.setTokens({\n            name: caption,\n            size: fSizeKB,\n            minSize: self.minFileSize,\n          });\n          throwError(msg, file, previewId, i, fileId);\n          return;\n        }\n        if (!$h.isEmpty(fileTypes) && $h.isArray(fileTypes)) {\n          for (j = 0; j < fileTypes.length; j += 1) {\n            typ = fileTypes[j];\n            func = settings[typ];\n            fileCount +=\n              !func || typeof func !== \"function\"\n                ? 0\n                : func(file.type, $h.getFileName(file))\n                ? 1\n                : 0;\n          }\n          if (fileCount === 0) {\n            msg = self.msgInvalidFileType.setTokens({\n              name: caption,\n              types: strTypes,\n            });\n            throwError(msg, file, previewId, i, fileId);\n            return;\n          }\n        }\n        if (\n          fileCount === 0 &&\n          !$h.isEmpty(fileExt) &&\n          $h.isArray(fileExt) &&\n          !$h.isEmpty(fileExtExpr)\n        ) {\n          chk = $h.compare(caption, fileExtExpr);\n          fileCount += $h.isEmpty(chk) ? 0 : chk.length;\n          if (fileCount === 0) {\n            msg = self.msgInvalidFileExtension.setTokens({\n              name: caption,\n              extensions: strExt,\n            });\n            throwError(msg, file, previewId, i, fileId);\n            return;\n          }\n        }\n        if (!self._canPreview(file)) {\n          canLoad =\n            self.isAjaxUpload &&\n            self._raise(\"filebeforeload\", [file, i, reader]);\n          if (self.isAjaxUpload && canLoad) {\n            fm.add(file);\n          }\n          if (self.showPreview && canLoad) {\n            $container.addClass(\"file-thumb-loading\");\n            self._previewDefault(file);\n            self._initFileActions();\n          }\n          setTimeout(function () {\n            if (canLoad) {\n              self._updateFileDetails(numFiles);\n            }\n            readFile(i + 1);\n            self._raise(\"fileloaded\", [file, previewId, id, i]);\n          }, 10);\n          return;\n        }\n        isImage = fnImage(file.type, caption);\n        $status.html(\n          msgLoading.replace(\"{index}\", i + 1).replace(\"{files}\", numFiles)\n        );\n        $container.addClass(\"file-thumb-loading\");\n        reader.onerror = function (evt) {\n          self._errorHandler(evt, caption);\n        };\n        reader.onload = function (theFile) {\n          var hex,\n            fileInfo,\n            uint,\n            byte,\n            bytes = [],\n            contents,\n            mime,\n            readImage = function () {\n              var newReader = new FileReader();\n              newReader.onerror = function (theFileNew) {\n                self._errorHandler(theFileNew, caption);\n              };\n              newReader.onload = function (theFileNew) {\n                if (\n                  self.isAjaxUpload &&\n                  !self._raise(\"filebeforeload\", [file, i, reader])\n                ) {\n                  fileReaderAborted = true;\n                  self._resetCaption();\n                  reader.abort();\n                  $status.html(\"\");\n                  $container.removeClass(\"file-thumb-loading\");\n                  self.enable();\n                  return;\n                }\n                self._previewFile(i, file, theFileNew, previewData, fileInfo);\n                self._initFileActions();\n                processFileLoaded();\n              };\n              newReader.readAsDataURL(file);\n            };\n          fileInfo = { name: caption, type: file.type };\n          $.each(settings, function (k, f) {\n            if (\n              k !== \"object\" &&\n              k !== \"other\" &&\n              typeof f === \"function\" &&\n              f(file.type, caption)\n            ) {\n              knownTypes++;\n            }\n          });\n          if (knownTypes === 0) {\n            // auto detect mime types from content if no known file types detected\n            uint = new Uint8Array(theFile.target.result);\n            for (j = 0; j < uint.length; j++) {\n              byte = uint[j].toString(16);\n              bytes.push(byte);\n            }\n            hex = bytes.join(\"\").toLowerCase().substring(0, 8);\n            mime = $h.getMimeType(hex, \"\", \"\");\n            if ($h.isEmpty(mime)) {\n              // look for ascii text content\n              contents = $h.arrayBuffer2String(reader.result);\n              mime = $h.isSvg(contents)\n                ? \"image/svg+xml\"\n                : $h.getMimeType(hex, contents, file.type);\n            }\n            fileInfo = { name: caption, type: mime };\n            isImage = fnImage(mime, \"\");\n            if (isImage) {\n              readImage(txtFlag);\n              return;\n            }\n          }\n          if (\n            self.isAjaxUpload &&\n            !self._raise(\"filebeforeload\", [file, i, reader])\n          ) {\n            fileReaderAborted = true;\n            self._resetCaption();\n            reader.abort();\n            $status.html(\"\");\n            $container.removeClass(\"file-thumb-loading\");\n            self.enable();\n            return;\n          }\n          self._previewFile(i, file, theFile, previewData, fileInfo);\n          self._initFileActions();\n          processFileLoaded();\n        };\n        reader.onprogress = function (data) {\n          if (data.lengthComputable) {\n            var fact = (data.loaded / data.total) * 100,\n              progress = Math.ceil(fact);\n            msg = msgProgress.setTokens({\n              index: i + 1,\n              files: numFiles,\n              percent: progress,\n              name: caption,\n            });\n            setTimeout(function () {\n              if (!fileReaderAborted) {\n                $status.html(msg);\n              }\n            }, self.processDelay);\n          }\n        };\n        if (isImage) {\n          reader.readAsDataURL(file);\n        } else {\n          reader.readAsArrayBuffer(file);\n        }\n      };\n\n      readFile(0);\n      self._updateFileDetails(numFiles, true);\n    },\n    lock: function (selectMode) {\n      var self = this,\n        $container = self.$container;\n      self._resetErrors();\n      self.disable();\n      if (!selectMode && self.showCancel) {\n        $container.find(\".fileinput-cancel\").show();\n      }\n      if (!selectMode && self.showPause) {\n        $container.find(\".fileinput-pause\").show();\n      }\n      self._raise(\"filelock\", [self.fileManager.stack, self._getExtraData()]);\n      return self.$element;\n    },\n    unlock: function (reset) {\n      var self = this,\n        $container = self.$container;\n      if (reset === undefined) {\n        reset = true;\n      }\n      self.enable();\n      $container.removeClass(\"is-locked\");\n      if (self.showCancel) {\n        $container.find(\".fileinput-cancel\").hide();\n      }\n      if (self.showPause) {\n        $container.find(\".fileinput-pause\").hide();\n      }\n      if (reset) {\n        self._resetFileStack();\n      }\n      self._raise(\"fileunlock\", [self.fileManager.stack, self._getExtraData()]);\n      return self.$element;\n    },\n    resume: function () {\n      var self = this,\n        flag = false,\n        rm = self.resumableManager;\n      if (!self.enableResumableUpload) {\n        return self.$element;\n      }\n      if (self.paused) {\n        self._toggleResumableProgress(\n          self.progressPauseTemplate,\n          self.msgUploadResume\n        );\n      } else {\n        flag = true;\n      }\n      self.paused = false;\n      if (flag) {\n        self._toggleResumableProgress(\n          self.progressInfoTemplate,\n          self.msgUploadBegin\n        );\n      }\n      setTimeout(function () {\n        rm.upload();\n      }, self.processDelay);\n      return self.$element;\n    },\n    pause: function () {\n      var self = this,\n        rm = self.resumableManager,\n        xhr = self.ajaxRequests,\n        len = xhr.length,\n        i,\n        pct = rm.getProgress(),\n        actions = self.fileActionSettings,\n        tm = self.taskManager,\n        pool = tm.getPool(rm.id);\n      if (!self.enableResumableUpload) {\n        return self.$element;\n      } else {\n        if (pool) {\n          pool.cancel();\n        }\n      }\n      self._raise(\"fileuploadpaused\", [self.fileManager, rm]);\n      if (len > 0) {\n        for (i = 0; i < len; i += 1) {\n          self.paused = true;\n          xhr[i].abort();\n        }\n      }\n      if (self.showPreview) {\n        self._getThumbs().each(function () {\n          var $thumb = $(this),\n            fileId = $thumb.attr(\"data-fileid\"),\n            t = self._getLayoutTemplate(\"stats\"),\n            stats,\n            $indicator = $thumb.find(\".file-upload-indicator\");\n          $thumb.removeClass(\"file-uploading\");\n          if ($indicator.attr(\"title\") === actions.indicatorLoadingTitle) {\n            self._setThumbStatus($thumb, \"Paused\");\n            stats = t.setTokens({\n              pendingTime: self.msgPaused,\n              uploadSpeed: \"\",\n            });\n            self.paused = true;\n            self._setProgress(\n              pct,\n              $thumb.find(\".file-thumb-progress\"),\n              pct + \"%\",\n              stats\n            );\n          }\n          if (!self.fileManager.getFile(fileId)) {\n            $thumb\n              .find(\".kv-file-remove\")\n              .removeClass(\"disabled\")\n              .removeAttr(\"disabled\");\n          }\n        });\n      }\n      self._setProgress(101, self.$progress, self.msgPaused);\n      return self.$element;\n    },\n    cancel: function () {\n      var self = this,\n        xhr = self.ajaxRequests,\n        rm = self.resumableManager,\n        tm = self.taskManager,\n        pool = rm ? tm.getPool(rm.id) : undefined,\n        len = xhr.length,\n        i;\n\n      if (self.enableResumableUpload && pool) {\n        pool.cancel().done(function () {\n          self._setProgressCancelled();\n        });\n        rm.reset();\n        self._raise(\"fileuploadcancelled\", [self.fileManager, rm]);\n      } else {\n        self._raise(\"fileuploadcancelled\", [self.fileManager]);\n      }\n      self._initAjax();\n      if (len > 0) {\n        for (i = 0; i < len; i += 1) {\n          self.cancelling = true;\n          xhr[i].abort();\n        }\n      }\n      self._getThumbs().each(function () {\n        var $thumb = $(this),\n          fileId = $thumb.attr(\"data-fileid\"),\n          $prog = $thumb.find(\".file-thumb-progress\");\n        $thumb.removeClass(\"file-uploading\");\n        self._setProgress(0, $prog);\n        $prog.hide();\n        if (!self.fileManager.getFile(fileId)) {\n          $thumb\n            .find(\".kv-file-upload\")\n            .removeClass(\"disabled\")\n            .removeAttr(\"disabled\");\n          $thumb\n            .find(\".kv-file-remove\")\n            .removeClass(\"disabled\")\n            .removeAttr(\"disabled\");\n        }\n        self.unlock();\n      });\n      setTimeout(function () {\n        self._setProgressCancelled();\n      }, self.processDelay);\n      return self.$element;\n    },\n    clear: function () {\n      var self = this,\n        cap;\n      if (!self._raise(\"fileclear\")) {\n        return;\n      }\n      self.$btnUpload.removeAttr(\"disabled\");\n      self\n        ._getThumbs()\n        .find(\"video,audio,img\")\n        .each(function () {\n          $h.cleanMemory($(this));\n        });\n      self._clearFileInput();\n      self._resetUpload();\n      self.clearFileStack();\n      self.isDuplicateError = false;\n      self.isPersistentError = false;\n      self._resetErrors(true);\n      if (self._hasInitialPreview()) {\n        self._showFileIcon();\n        self._resetPreview();\n        self._initPreviewActions();\n        self.$container.removeClass(\"file-input-new\");\n      } else {\n        self._getThumbs().each(function () {\n          self._clearObjects($(this));\n        });\n        if (self.isAjaxUpload) {\n          self.previewCache.data = {};\n        }\n        self.$preview.html(\"\");\n        cap =\n          !self.overwriteInitial && self.initialCaption.length > 0\n            ? self.initialCaption\n            : \"\";\n        self.$caption.attr(\"title\", \"\").val(cap);\n        $h.addCss(self.$container, \"file-input-new\");\n        self._validateDefaultPreview();\n      }\n      if (self.$container.find($h.FRAMES).length === 0) {\n        if (!self._initCaption()) {\n          self.$captionContainer.removeClass(\"icon-visible\");\n        }\n      }\n      self._hideFileIcon();\n      if (self.focusCaptionOnClear) {\n        self.$captionContainer.focus();\n      }\n      self._setFileDropZoneTitle();\n      self._raise(\"filecleared\");\n      return self.$element;\n    },\n    reset: function () {\n      var self = this;\n      if (!self._raise(\"filereset\")) {\n        return;\n      }\n      self.lastProgress = 0;\n      self._resetPreview();\n      self.$container.find(\".fileinput-filename\").text(\"\");\n      $h.addCss(self.$container, \"file-input-new\");\n      if (self.getFrames().length) {\n        self.$container.removeClass(\"file-input-new\");\n      }\n      self.clearFileStack();\n      self._setFileDropZoneTitle();\n      return self.$element;\n    },\n    disable: function () {\n      var self = this,\n        $container = self.$container;\n      self.isDisabled = true;\n      self._raise(\"filedisabled\");\n      self.$element.attr(\"disabled\", \"disabled\");\n      $container.addClass(\"is-locked\");\n      $h.addCss($container.find(\".btn-file\"), \"disabled\");\n      $container\n        .find(\".kv-fileinput-caption\")\n        .addClass(\"file-caption-disabled\");\n      $container\n        .find(\n          \".fileinput-remove, .fileinput-upload, .file-preview-frame button\"\n        )\n        .attr(\"disabled\", true);\n      self._initDragDrop();\n      return self.$element;\n    },\n    enable: function () {\n      var self = this,\n        $container = self.$container;\n      self.isDisabled = false;\n      self._raise(\"fileenabled\");\n      self.$element.removeAttr(\"disabled\");\n      $container.removeClass(\"is-locked\");\n      $container\n        .find(\".kv-fileinput-caption\")\n        .removeClass(\"file-caption-disabled\");\n      $container\n        .find(\n          \".fileinput-remove, .fileinput-upload, .file-preview-frame button\"\n        )\n        .removeAttr(\"disabled\");\n      $container.find(\".btn-file\").removeClass(\"disabled\");\n      self._initDragDrop();\n      return self.$element;\n    },\n    upload: function () {\n      var self = this,\n        fm = self.fileManager,\n        totLen = fm.count(),\n        i,\n        outData,\n        hasExtraData = !$.isEmptyObject(self._getExtraData());\n      if (\n        !self.isAjaxUpload ||\n        self.isDisabled ||\n        !self._isFileSelectionValid(totLen)\n      ) {\n        return;\n      }\n      self.lastProgress = 0;\n      self._resetUpload();\n      if (totLen === 0 && !hasExtraData) {\n        self._showFileError(self.msgUploadEmpty);\n        return;\n      }\n      self.cancelling = false;\n      self._showProgress();\n      self.lock();\n      if (totLen === 0 && hasExtraData) {\n        self._setProgress(2);\n        self._uploadExtraOnly();\n        return;\n      }\n      if (self.enableResumableUpload) {\n        return self.resume();\n      }\n      if (self.uploadAsync || self.enableResumableUpload) {\n        outData = self._getOutData(null);\n        self._raise(\"filebatchpreupload\", [outData]);\n        self.fileBatchCompleted = false;\n        self.uploadCache = [];\n        $.each(self.getFileStack(), function (id) {\n          var previewId = self._getThumbId(id);\n          self.uploadCache.push({\n            id: previewId,\n            content: null,\n            config: null,\n            tags: null,\n            append: true,\n          });\n        });\n        self.$preview.find(\".file-preview-initial\").removeClass($h.SORT_CSS);\n        self._initSortable();\n      }\n      self._setProgress(2);\n      self.hasInitData = false;\n      if (self.uploadAsync) {\n        i = 0;\n        $.each(fm.stack, function (id) {\n          self._uploadSingle(i, id, true);\n          i++;\n        });\n        return;\n      }\n      self._uploadBatch();\n      return self.$element;\n    },\n    destroy: function () {\n      var self = this,\n        $form = self.$form,\n        $cont = self.$container,\n        $el = self.$element,\n        ns = self.namespace;\n      $(document).off(ns);\n      $(window).off(ns);\n      if ($form && $form.length) {\n        $form.off(ns);\n      }\n      if (self.isAjaxUpload) {\n        self._clearFileInput();\n      }\n      self._cleanup();\n      self._initPreviewCache();\n      $el.insertBefore($cont).off(ns).removeData();\n      $cont.off().remove();\n      return $el;\n    },\n    refresh: function (options) {\n      var self = this,\n        $el = self.$element;\n      if (typeof options !== \"object\" || $h.isEmpty(options)) {\n        options = self.options;\n      } else {\n        options = $.extend(true, {}, self.options, options);\n      }\n      self._init(options, true);\n      self._listen();\n      return $el;\n    },\n    zoom: function (frameId) {\n      var self = this,\n        $frame = self._getFrame(frameId);\n      self._showModal($frame);\n    },\n    getExif: function (frameId) {\n      var self = this,\n        $frame = self._getFrame(frameId);\n      return ($frame && $frame.data(\"exif\")) || null;\n    },\n    getFrames: function (cssFilter) {\n      var self = this,\n        $frames;\n      cssFilter = cssFilter || \"\";\n      $frames = self.$preview.find($h.FRAMES + cssFilter);\n      if (self.reversePreviewOrder) {\n        $frames = $($frames.get().reverse());\n      }\n      return $frames;\n    },\n    getPreview: function () {\n      var self = this;\n      return {\n        content: self.initialPreview,\n        config: self.initialPreviewConfig,\n        tags: self.initialPreviewThumbTags,\n      };\n    },\n  };\n\n  $.fn.fileinput = function (option) {\n    if (!$h.hasFileAPISupport() && !$h.isIE(9)) {\n      return;\n    }\n    var args = Array.apply(null, arguments),\n      retvals = [];\n    args.shift();\n    this.each(function () {\n      var self = $(this),\n        data = self.data(\"fileinput\"),\n        options = typeof option === \"object\" && option,\n        theme = options.theme || self.data(\"theme\"),\n        l = {},\n        t = {},\n        lang =\n          options.language ||\n          self.data(\"language\") ||\n          $.fn.fileinput.defaults.language ||\n          \"en\",\n        opt;\n      if (!data) {\n        if (theme) {\n          t = $.fn.fileinputThemes[theme] || {};\n        }\n        if (lang !== \"en\" && !$h.isEmpty($.fn.fileinputLocales[lang])) {\n          l = $.fn.fileinputLocales[lang] || {};\n        }\n        opt = $.extend(\n          true,\n          {},\n          $.fn.fileinput.defaults,\n          t,\n          $.fn.fileinputLocales.en,\n          l,\n          options,\n          self.data()\n        );\n        data = new FileInput(this, opt);\n        self.data(\"fileinput\", data);\n      }\n\n      if (typeof option === \"string\") {\n        retvals.push(data[option].apply(data, args));\n      }\n    });\n    switch (retvals.length) {\n      case 0:\n        return this;\n      case 1:\n        return retvals[0];\n      default:\n        return retvals;\n    }\n  };\n\n  var IFRAME_ATTRIBS =\n    'class=\"kv-preview-data file-preview-pdf\" src=\"{renderer}?file={data}\" {style}';\n\n  $.fn.fileinput.defaults = {\n    language: \"en\",\n    showCaption: true,\n    showBrowse: true,\n    showPreview: true,\n    showRemove: true,\n    showUpload: true,\n    showUploadStats: true,\n    showCancel: null,\n    showPause: null,\n    showClose: true,\n    showUploadedThumbs: true,\n    showConsoleLogs: false,\n    browseOnZoneClick: false,\n    autoReplace: false,\n    autoOrientImage: function () {\n      // applicable for JPEG images only and non ios safari\n      var ua = window.navigator.userAgent,\n        webkit = !!ua.match(/WebKit/i),\n        iOS = !!ua.match(/iP(od|ad|hone)/i),\n        iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n      return !iOSSafari;\n    },\n    autoOrientImageInitial: true,\n    required: false,\n    rtl: false,\n    hideThumbnailContent: false,\n    encodeUrl: true,\n    focusCaptionOnBrowse: true,\n    focusCaptionOnClear: true,\n    generateFileId: null,\n    previewClass: \"\",\n    captionClass: \"\",\n    frameClass: \"krajee-default\",\n    mainClass: \"file-caption-main\",\n    mainTemplate: null,\n    fileSizeGetter: null,\n    initialCaption: \"\",\n    initialPreview: [],\n    initialPreviewDelimiter: \"*$$*\",\n    initialPreviewAsData: false,\n    initialPreviewFileType: \"image\",\n    initialPreviewConfig: [],\n    initialPreviewThumbTags: [],\n    previewThumbTags: {},\n    initialPreviewShowDelete: true,\n    initialPreviewDownloadUrl: \"\",\n    removeFromPreviewOnError: false,\n    deleteUrl: \"\",\n    deleteExtraData: {},\n    overwriteInitial: true,\n    sanitizeZoomCache: function (content) {\n      var $container = $h.createElement(content);\n      $container\n        .find(\"input,textarea,select,datalist,form,.file-thumbnail-footer\")\n        .remove();\n      return $container.html();\n    },\n    previewZoomButtonIcons: {\n      prev: '<i class=\"glyphicon glyphicon-triangle-left\"></i>',\n      next: '<i class=\"glyphicon glyphicon-triangle-right\"></i>',\n      toggleheader: '<i class=\"glyphicon glyphicon-resize-vertical\"></i>',\n      fullscreen: '<i class=\"glyphicon glyphicon-fullscreen\"></i>',\n      borderless: '<i class=\"glyphicon glyphicon-resize-full\"></i>',\n      close: '<i class=\"glyphicon glyphicon-remove\"></i>',\n    },\n    previewZoomButtonClasses: {\n      prev: \"btn btn-navigate\",\n      next: \"btn btn-navigate\",\n      toggleheader: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n      fullscreen: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n      borderless: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n      close: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n    },\n    previewTemplates: {},\n    previewContentTemplates: {},\n    preferIconicPreview: false,\n    preferIconicZoomPreview: false,\n    allowedFileTypes: null,\n    allowedFileExtensions: null,\n    allowedPreviewTypes: undefined,\n    allowedPreviewMimeTypes: null,\n    allowedPreviewExtensions: null,\n    disabledPreviewTypes: undefined,\n    disabledPreviewExtensions: [\n      \"msi\",\n      \"exe\",\n      \"com\",\n      \"zip\",\n      \"rar\",\n      \"app\",\n      \"vb\",\n      \"scr\",\n    ],\n    disabledPreviewMimeTypes: null,\n    defaultPreviewContent: null,\n    customLayoutTags: {},\n    customPreviewTags: {},\n    previewFileIcon: '<i class=\"glyphicon glyphicon-file\"></i>',\n    previewFileIconClass: \"file-other-icon\",\n    previewFileIconSettings: {},\n    previewFileExtSettings: {},\n    buttonLabelClass: \"hidden-xs\",\n    browseIcon: '<i class=\"glyphicon glyphicon-folder-open\"></i>&nbsp;',\n    browseClass: \"btn btn-primary\",\n    removeIcon: '<i class=\"glyphicon glyphicon-trash\"></i>',\n    removeClass: \"btn btn-default btn-secondary\",\n    cancelIcon: '<i class=\"glyphicon glyphicon-ban-circle\"></i>',\n    cancelClass: \"btn btn-default btn-secondary\",\n    pauseIcon: '<i class=\"glyphicon glyphicon-pause\"></i>',\n    pauseClass: \"btn btn-default btn-secondary\",\n    uploadIcon: '<i class=\"glyphicon glyphicon-upload\"></i>',\n    uploadClass: \"btn btn-default btn-secondary\",\n    uploadUrl: null,\n    uploadUrlThumb: null,\n    uploadAsync: true,\n    uploadParamNames: {\n      chunkCount: \"chunkCount\",\n      chunkIndex: \"chunkIndex\",\n      chunkSize: \"chunkSize\",\n      chunkSizeStart: \"chunkSizeStart\",\n      chunksUploaded: \"chunksUploaded\",\n      fileBlob: \"fileBlob\",\n      fileId: \"fileId\",\n      fileName: \"fileName\",\n      fileRelativePath: \"fileRelativePath\",\n      fileSize: \"fileSize\",\n      retryCount: \"retryCount\",\n    },\n    maxAjaxThreads: 5,\n    fadeDelay: 800,\n    processDelay: 100,\n    queueDelay: 10, // must be lesser than process delay\n    progressDelay: 0, // must be lesser than process delay\n    enableResumableUpload: false,\n    resumableUploadOptions: {\n      fallback: null,\n      testUrl: null, // used for checking status of chunks/ files previously / partially uploaded\n      chunkSize: 2 * 1024, // in KB\n      maxThreads: 4,\n      maxRetries: 3,\n      showErrorLog: true,\n    },\n    uploadExtraData: {},\n    zoomModalHeight: 480,\n    minImageWidth: null,\n    minImageHeight: null,\n    maxImageWidth: null,\n    maxImageHeight: null,\n    resizeImage: false,\n    resizePreference: \"width\",\n    resizeQuality: 0.92,\n    resizeDefaultImageType: \"image/jpeg\",\n    resizeIfSizeMoreThan: 0, // in KB\n    minFileSize: -1,\n    maxFileSize: 0,\n    maxFilePreviewSize: 25600, // 25 MB\n    minFileCount: 0,\n    maxFileCount: 0,\n    maxTotalFileCount: 0,\n    validateInitialCount: false,\n    msgValidationErrorClass: \"text-danger\",\n    msgValidationErrorIcon:\n      '<i class=\"glyphicon glyphicon-exclamation-sign\"></i> ',\n    msgErrorClass: \"file-error-message\",\n    progressThumbClass:\n      \"progress-bar progress-bar-striped active progress-bar-animated\",\n    progressClass:\n      \"progress-bar bg-success progress-bar-success progress-bar-striped active progress-bar-animated\",\n    progressInfoClass:\n      \"progress-bar bg-info progress-bar-info progress-bar-striped active progress-bar-animated\",\n    progressCompleteClass: \"progress-bar bg-success progress-bar-success\",\n    progressPauseClass:\n      \"progress-bar bg-primary progress-bar-primary progress-bar-striped active progress-bar-animated\",\n    progressErrorClass: \"progress-bar bg-danger progress-bar-danger\",\n    progressUploadThreshold: 99,\n    previewFileType: \"image\",\n    elCaptionContainer: null,\n    elCaptionText: null,\n    elCaptionLabelText: null,\n    elPreviewContainer: null,\n    elPreviewImage: null,\n    elPreviewStatus: null,\n    elErrorContainer: null,\n    errorCloseButton: $h.closeButton(\"kv-error-close\"),\n    slugCallback: null,\n    dropZoneEnabled: true,\n    dropZoneTitleClass: \"file-drop-zone-title\",\n    fileActionSettings: {},\n    otherActionButtons: \"\",\n    textEncoding: \"UTF-8\",\n    preProcessUpload: null,\n    ajaxSettings: {},\n    ajaxDeleteSettings: {},\n    showAjaxErrorDetails: true,\n    mergeAjaxCallbacks: false,\n    mergeAjaxDeleteCallbacks: false,\n    retryErrorUploads: true,\n    reversePreviewOrder: false,\n    usePdfRenderer: function () {\n      var isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\n      return (\n        !!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/i) || isIE11\n      );\n    },\n    pdfRendererUrl: \"\",\n    pdfRendererTemplate: \"<iframe \" + IFRAME_ATTRIBS + \"></iframe>\",\n  };\n\n  // noinspection HtmlUnknownAttribute\n  $.fn.fileinputLocales.en = {\n    fileSingle: \"file\",\n    filePlural: \"files\",\n    browseLabel: \"Browse &hellip;\",\n    removeLabel: \"Remove\",\n    removeTitle: \"Clear all unprocessed files\",\n    cancelLabel: \"Cancel\",\n    cancelTitle: \"Abort ongoing upload\",\n    pauseLabel: \"Pause\",\n    pauseTitle: \"Pause ongoing upload\",\n    uploadLabel: \"Upload\",\n    uploadTitle: \"Upload selected files\",\n    msgNo: \"No\",\n    msgNoFilesSelected: \"No files selected\",\n    msgCancelled: \"Cancelled\",\n    msgPaused: \"Paused\",\n    msgPlaceholder: \"Select {files} ...\",\n    msgZoomModalHeading: \"Detailed Preview\",\n    msgFileRequired: \"You must select a file to upload.\",\n    msgSizeTooSmall:\n      'File \"{name}\" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',\n    msgSizeTooLarge:\n      'File \"{name}\" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',\n    msgFilesTooLess: \"You must select at least <b>{n}</b> {files} to upload.\",\n    msgFilesTooMany:\n      \"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.\",\n    msgTotalFilesTooMany:\n      \"You can upload a maximum of <b>{m}</b> files (<b>{n}</b> files detected).\",\n    msgFileNotFound: 'File \"{name}\" not found!',\n    msgFileSecured: 'Security restrictions prevent reading the file \"{name}\".',\n    msgFileNotReadable: 'File \"{name}\" is not readable.',\n    msgFilePreviewAborted: 'File preview aborted for \"{name}\".',\n    msgFilePreviewError: 'An error occurred while reading the file \"{name}\".',\n    msgInvalidFileName:\n      'Invalid or unsupported characters in file name \"{name}\".',\n    msgInvalidFileType:\n      'Invalid type for file \"{name}\". Only \"{types}\" files are supported.',\n    msgInvalidFileExtension:\n      'Invalid extension for file \"{name}\". Only \"{extensions}\" files are supported.',\n    msgFileTypes: {\n      image: \"image\",\n      html: \"HTML\",\n      text: \"text\",\n      video: \"video\",\n      audio: \"audio\",\n      flash: \"flash\",\n      pdf: \"PDF\",\n      object: \"object\",\n    },\n    msgUploadAborted: \"The file upload was aborted\",\n    msgUploadThreshold: \"Processing &hellip;\",\n    msgUploadBegin: \"Initializing &hellip;\",\n    msgUploadEnd: \"Done\",\n    msgUploadResume: \"Resuming upload &hellip;\",\n    msgUploadEmpty: \"No valid data available for upload.\",\n    msgUploadError: \"Upload Error\",\n    msgDeleteError: \"Delete Error\",\n    msgProgressError: \"Error\",\n    msgValidationError: \"Validation Error\",\n    msgLoading: \"Loading file {index} of {files} &hellip;\",\n    msgProgress:\n      \"Loading file {index} of {files} - {name} - {percent}% completed.\",\n    msgSelected: \"{n} {files} selected\",\n    msgFoldersNotAllowed:\n      \"Drag & drop files only! {n} folder(s) dropped were skipped.\",\n    msgImageWidthSmall:\n      'Width of image file \"{name}\" must be at least {size} px.',\n    msgImageHeightSmall:\n      'Height of image file \"{name}\" must be at least {size} px.',\n    msgImageWidthLarge: 'Width of image file \"{name}\" cannot exceed {size} px.',\n    msgImageHeightLarge:\n      'Height of image file \"{name}\" cannot exceed {size} px.',\n    msgImageResizeError: \"Could not get the image dimensions to resize.\",\n    msgImageResizeException:\n      \"Error while resizing the image.<pre>{errors}</pre>\",\n    msgAjaxError:\n      \"Something went wrong with the {operation} operation. Please try again later!\",\n    msgAjaxProgressError: \"{operation} failed\",\n    msgDuplicateFile:\n      'File \"{name}\" of same size \"{size} KB\" has already been selected earlier. Skipping duplicate selection.',\n    msgResumableUploadRetriesExceeded:\n      \"Upload aborted beyond <b>{max}</b> retries for file <b>{file}</b>! Error Details: <pre>{error}</pre>\",\n    msgPendingTime: \"{time} remaining\",\n    msgCalculatingTime: \"calculating time remaining\",\n    ajaxOperations: {\n      deleteThumb: \"file delete\",\n      uploadThumb: \"file upload\",\n      uploadBatch: \"batch file upload\",\n      uploadExtra: \"form data upload\",\n    },\n    dropZoneTitle: \"Drag & drop files here &hellip;\",\n    dropZoneClickTitle: \"<br>(or click to select {files})\",\n    previewZoomButtonTitles: {\n      prev: \"View previous file\",\n      next: \"View next file\",\n      toggleheader: \"Toggle header\",\n      fullscreen: \"Toggle full screen\",\n      borderless: \"Toggle borderless mode\",\n      close: \"Close detailed preview\",\n    },\n  };\n\n  $.fn.fileinput.Constructor = FileInput;\n\n  /**\n   * Convert automatically file inputs with class 'file' into a bootstrap fileinput control.\n   */\n  $(document).ready(function () {\n    var $input = $(\"input.file[type=file]\");\n    if ($input.length) {\n      $input.fileinput();\n    }\n  });\n});\n\n/*!\n * bootstrap-fileinput v5.1.3\n * http://plugins.krajee.com/file-input\n *\n * Font Awesome 5 icon theme configuration for bootstrap-fileinput. Requires font awesome 5 assets to be loaded.\n *\n * Author: Kartik Visweswaran\n * Copyright: 2014 - 2020, Kartik Visweswaran, Krajee.com\n *\n * Licensed under the BSD-3-Clause\n * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md\n */\n(function ($) {\n  \"use strict\";\n\n  $.fn.fileinputThemes.fas = {\n    fileActionSettings: {\n      removeIcon: '<i class=\"fa-solid fa-trash-alt\"></i>',\n      uploadIcon: '<i class=\"fa-solid fa-upload\"></i>',\n      uploadRetryIcon: '<i class=\"fa-solid fa-redo-alt\"></i>',\n      downloadIcon: '<i class=\"fa-solid fa-download\"></i>',\n      zoomIcon: '<i class=\"fa-solid fa-search-plus\"></i>',\n      dragIcon: '<i class=\"fa-solid fa-arrows-alt\"></i>',\n      indicatorNew: '<i class=\"fa-solid fa-plus-circle text-warning\"></i>',\n      indicatorSuccess: '<i class=\"fa-solid fa-check-circle text-success\"></i>',\n      indicatorError:\n        '<i class=\"fa-solid fa-exclamation-circle text-danger\"></i>',\n      indicatorLoading:\n        '<i class=\"fa-solid fa-hourglass text-body-secondary\"></i>',\n      indicatorPaused: '<i class=\"fa fa-pause text-info\"></i>',\n    },\n    layoutTemplates: {\n      fileIcon: '<i class=\"fa-solid fa-file kv-caption-icon\"></i> ',\n    },\n    previewZoomButtonIcons: {\n      prev: '<i class=\"fa-solid fa-caret-left fa-lg\"></i>',\n      next: '<i class=\"fa-solid fa-caret-right fa-lg\"></i>',\n      toggleheader: '<i class=\"fa-solid fa-fw fa-arrows-alt-v\"></i>',\n      fullscreen: '<i class=\"fa-solid fa-fw fa-arrows-alt\"></i>',\n      borderless: '<i class=\"fa-solid fa-fw fa-external-link-alt\"></i>',\n      close: '<i class=\"fa-solid fa-fw fa-xmark\"></i>',\n    },\n    previewFileIcon: '<i class=\"fa-solid fa-file\"></i>',\n    browseIcon: '<i class=\"fa-solid fa-folder-open\"></i>',\n    removeIcon: '<i class=\"fa-solid fa-trash-alt\"></i>',\n    cancelIcon: '<i class=\"fa-solid fa-ban\"></i>',\n    pauseIcon: '<i class=\"fa-solid fa-pause\"></i>',\n    uploadIcon: '<i class=\"fa-solid fa-upload\"></i>',\n    msgValidationErrorIcon: '<i class=\"fa-solid fa-exclamation-circle\"></i> ',\n  };\n})(window.jQuery);\n\nvar $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  if (typeof $ == \"undefined\") {\n    $ = jQuery.noConflict();\n  }\n  if (daJsEmbed) {\n    daTargetDiv = \"#\" + daJsEmbed;\n  } else {\n    daTargetDiv = \"#dabody\";\n  }\n  daPreloadImage(daImageToPreLoad);\n  if (daAutoColorScheme) {\n    if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      daDesiredColorScheme = 1;\n    } else {\n      daDesiredColorScheme = 0;\n    }\n    if (daCurrentColorScheme != daDesiredColorScheme) {\n      document.documentElement.setAttribute(\n        \"data-bs-theme\",\n        daDesiredColorScheme ? \"dark\" : \"light\",\n      );\n      $.ajax({\n        type: \"PATCH\",\n        url: daUrlChangeColorScheme,\n        xhrFields: {\n          withCredentials: true,\n        },\n        data: \"scheme=\" + daDesiredColorScheme,\n        success: function (data) {\n          daCurrentColorScheme = data.scheme;\n        },\n        error: function (xhr, status, error) {\n          console.log(\"Unable to change desired color scheme.\");\n        },\n        dataType: \"json\",\n      });\n    }\n  }\n  $(document).ready(daReadyFunction);\n  if (!daObserverMode) {\n    $(window).ready(daUpdateHeight);\n    $(window).resize(daUpdateHeight);\n  }\n  daConfigureJqueryFuncs();\n  for (var i = 0; i < daInitialExtraScripts.length; i++) {\n    daEvalExtraScript(daInitialExtraScripts[i]);\n  }\n  for (var i = 0; i < daCustomItems.length; i++) {\n    try {\n      daGlobalEval(daCustomItems[i].js);\n    } catch {\n      console.log(\n        \"Error with JavaScript code of CustomDataType \" +\n          daCustomItems[i].datatype,\n      );\n    }\n  }\n});\n\nvar daColor = \"#000\";\nvar daWindowWidth;\nvar daTheWidth;\nvar daAspectRatio;\nvar daTheBorders;\nvar daSignaturePad;\nvar daWaitPage = false;\n\nfunction daInitializeSignature(penColor, defaultImage) {\n  daColor = penColor;\n  daAspectRatio = 0.4;\n  daTheBorders = 30;\n  daNewCanvas(defaultImage);\n\n  $(window).on(\"resize\", function () {\n    daResizeCanvas();\n  });\n  $(window).on(\"orientationchange\", function () {\n    daResizeCanvas();\n  });\n  $(\".dasigclear\").click(function (e) {\n    e.preventDefault();\n    daNewCanvas();\n    return false;\n  });\n  $(\".dasigsave\").click(function (e) {\n    e.preventDefault();\n    if (\n      daSignaturePad.isEmpty() &&\n      document.getElementById(\"da_sig_required\").value == \"1\"\n    ) {\n      $(\"#daerrormess\").removeClass(\"dasignotshowing\");\n      setTimeout(function () {\n        $(\"#daerrormess\").addClass(\"dasignotshowing\");\n      }, 3000);\n    } else {\n      $(\".dasigclear\").attr(\"disabled\", true);\n      $(\".dasigsave\").attr(\"disabled\", true);\n      daSaveCanvas();\n    }\n    return false;\n  });\n}\n\n// function to setup a new canvas for drawing\n\nfunction daResizeCanvas() {\n  if ($(window).width() != daWindowWidth) {\n    daWindowWidth = $(window).width();\n    setTimeout(function () {\n      daNewCanvas();\n    }, 200);\n  }\n  return;\n}\n\nfunction daSaveCanvas() {\n  var dataURL = daSignaturePad.toDataURL();\n  //console.log(dataURL)\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  daPost({ da_success: 1, da_the_image: dataURL, da_ajax: 1 });\n}\n\nfunction daNewCanvas(defaultImage = null) {\n  //console.log(\"running daNewCanvas\");\n  daWindowWidth = $(window).width();\n  var cwidth = $(window).width() - daTheBorders;\n  var contentwidth = $(\"#dasigpage\").outerWidth(true);\n  if (cwidth > contentwidth) {\n    cwidth = contentwidth;\n  }\n  var cheight = cwidth * daAspectRatio;\n  var otherHeights =\n    $(\"#dasigheader\").outerHeight(true) +\n    $(\"#dasigtoppart\").outerHeight(true) +\n    $(\"#dasigmidpart\").outerHeight(true) +\n    $(\"#dasigbottompart\").outerHeight(true);\n  if (cheight > $(window).height() - otherHeights) {\n    cheight = $(window).height() - otherHeights;\n  }\n  if (cheight > 275 || cheight < 30) {\n    cheight = 275;\n  }\n  $(\"#dasigcontent\").height(cheight);\n  var canvas =\n    '<canvas class=\"form-control\" id=\"dasigcanvas\" width=\"' +\n    cwidth +\n    'px\" height=\"' +\n    cheight +\n    'px\"></canvas>';\n  $(\"#dasigcontent\").html(canvas);\n  daTheWidth = (daThicknessScalingFactor * cwidth) / 100.0;\n  if (daTheWidth < 1) {\n    daTheWidth = 1;\n  }\n  daSignaturePad = new SignaturePad(document.querySelector(\"#dasigcanvas\"));\n  if (defaultImage != null) {\n    daSignaturePad.fromDataURL(defaultImage, {\n      ratio: 1,\n      width: cwidth,\n      height: cheight,\n      xOffset: 0,\n      yOffset: 0,\n    });\n  }\n  daSignaturePad.minWidth = 0.5 * daThicknessScalingFactor;\n  daSignaturePad.maxWidth = 2.5 * daThicknessScalingFactor;\n  daSignaturePad.penColor = daColor;\n  setTimeout(function () {\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n      if (daSteps > 1) {\n        $(daTargetDiv)[0].scrollIntoView();\n      }\n    } else {\n      window.scrollTo(0, 1);\n    }\n  }, 10);\n}\n\nfunction daPost(params) {\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      var hiddenField = document.getElementById(key);\n      if (hiddenField != null) {\n        hiddenField.setAttribute(\"value\", params[key]);\n      } else {\n        console.log(\"Key does not exist: \" + key);\n        return;\n      }\n    }\n  }\n  $(\"#dasigform\").submit();\n  return;\n}\n\nfunction isCanvasSupported() {\n  var elem = document.createElement(\"canvas\");\n  return !!(elem.getContext && elem.getContext(\"2d\"));\n}\n\nvar daAutocomplete = Object();\n\nfunction daWaitForGoogle(waitForPlaces) {\n  return new Promise((resolve) => {\n    let attempts = 0;\n    const maxAttempts = 50;\n    const interval = setInterval(() => {\n      var found = false;\n      try {\n        if (google.maps === undefined) {\n          throw new Error(\"google maps not defined\");\n        }\n        if (waitForPlaces) {\n          if (google.maps.places === undefined) {\n            throw new Error(\"places not defined\");\n          }\n        }\n        found = true;\n      } catch (e) {}\n      if (found || attempts >= maxAttempts) {\n        clearInterval(interval);\n        resolve(found);\n      }\n      attempts++;\n    }, 100);\n  });\n}\n\nfunction daInitAutocomplete(info) {\n  daAutocomplete = Object();\n  for (var i = 0; i < info.length; ++i) {\n    daAutocomplete[info[i][0]] = {\n      id: info[i][0],\n      opts: info[i][1],\n      suggestions: {},\n    };\n  }\n}\n\nasync function daInitAutocompleteOld(info) {\n  await daWaitForGoogle(true);\n  for (var i = 0; i < info.length; ++i) {\n    var id = info[i][0];\n    var opts = info[i][1];\n    daAutocomplete[id] = new google.maps.places.Autocomplete(\n      document.getElementById(id),\n      opts,\n    );\n    google.maps.event.addListener(\n      daAutocomplete[id],\n      \"place_changed\",\n      daFillInAddressFor(id),\n    );\n  }\n}\n\nfunction daFillInAddressFor(id) {\n  return function () {\n    daFillInAddressOld(id);\n  };\n}\n\nasync function daInitMap(daMapInfo) {\n  var googleLoaded = await daWaitForGoogle(false);\n  if (!googleLoaded) {\n    console.log(\"Could not load Google Maps library\");\n    return;\n  }\n  await google.maps.importLibrary(\"core\");\n  var timePeriod = 0;\n  maps = [];\n  var map_info_length = daMapInfo.length;\n  for (var i = 0; i < map_info_length; i++) {\n    the_map = daMapInfo[i];\n    var bounds = new google.maps.LatLngBounds();\n    maps[i] = daAddMap(i, the_map.center.latitude, the_map.center.longitude);\n    marker_length = the_map.markers.length;\n    if (marker_length == 1) {\n      show_marker = true;\n    } else {\n      show_marker = false;\n    }\n    for (var j = 0; j < marker_length; j++) {\n      var new_marker = await daAddMarker(\n        maps[i],\n        the_map.markers[j],\n        show_marker,\n      );\n      bounds.extend(\n        new google.maps.LatLng(\n          new_marker.position.lat,\n          new_marker.position.lng,\n        ),\n      );\n    }\n    if (marker_length > 1) {\n      maps[i].map.fitBounds(bounds);\n    }\n  }\n}\n\nfunction daAddMap(map_num, center_lat, center_lon) {\n  var map = new google.maps.Map(document.getElementById(\"map\" + map_num), {\n    zoom: 11,\n    center: new google.maps.LatLng(center_lat, center_lon),\n    mapTypeId: google.maps.MapTypeId.ROADMAP,\n    mapId: \"map\" + map_num + \"element\",\n  });\n  var infowindow = new google.maps.InfoWindow();\n  return { map: map, infowindow: infowindow };\n}\n\nasync function daAddMarker(map, marker_info, show_marker) {\n  const { AdvancedMarkerElement, PinElement } =\n    await google.maps.importLibrary(\"marker\");\n  var marker;\n  var content;\n  if (marker_info.icon) {\n    content = new PinElement(marker_info.icon);\n  } else {\n    content = new PinElement();\n  }\n  marker = new AdvancedMarkerElement({\n    position: {\n      lat: marker_info.latitude,\n      lng: marker_info.longitude,\n    },\n    map: map.map,\n    content: content.element,\n  });\n  if (marker_info.info) {\n    google.maps.event.addListener(\n      marker,\n      \"click\",\n      (function (marker, info) {\n        return function () {\n          map.infowindow.setContent(info);\n          map.infowindow.open(map.map, marker);\n        };\n      })(marker, marker_info.info),\n    );\n  }\n  if (show_marker) {\n    map.infowindow.setContent(marker_info.info);\n    map.infowindow.open(map.map, marker);\n  }\n  return marker;\n}\n\nfunction daFillInAddress(origId, place) {\n  var id;\n  if (daVarLookupRev[origId]) {\n    id = daVarLookupRev[origId];\n  } else {\n    id = origId;\n  }\n  var baseVarname = atob(id).replace(/.[a-zA-Z0-9_]+$/, \"\");\n  baseVarname = baseVarname.replace(/[\\[\\]]/g, \".\");\n  var re = new RegExp(\"^\" + baseVarname + \".(.*)\");\n  var componentTrans = {\n    administrative_area_level_1: [\"state\", \"shortText\"],\n    administrative_area_level_2: [\"county\", \"longText\"],\n  };\n  var alternatives = [\n    [\n      \"city\",\n      [\n        \"locality\",\n        \"sublocality_level_1\",\n        \"neighborhood\",\n        \"administrative_area_level_3\",\n        \"colloquial_area\",\n      ],\n    ],\n    [\n      \"sublocality\",\n      [\n        \"sublocality_level_1\",\n        \"sublocality_level_2\",\n        \"sublocality_level_3\",\n        \"sublocality_level_4\",\n        \"sublocality_level_5\",\n      ],\n    ],\n  ];\n  var fieldsToClear = [\n    \"address\",\n    \"administrative_area_level_1\",\n    \"administrative_area_level_2\",\n    \"administrative_area_level_3\",\n    \"administrative_area_level_4\",\n    \"administrative_area_level_5\",\n    \"administrative_area_level_6\",\n    \"administrative_area_level_7\",\n    \"adr_format_address\",\n    \"airport\",\n    \"bus_station\",\n    \"business_status\",\n    \"city\",\n    \"colloquial_area\",\n    \"compound_code\",\n    \"country\",\n    \"county\",\n    \"directions_uri\",\n    \"display_name\",\n    \"display_name_language_code\",\n    \"establishment\",\n    \"floor\",\n    \"formatted_address\",\n    \"global_code\",\n    \"has_wheelchair_accessible_entrance\",\n    \"has_wheelchair_accessible_parking\",\n    \"has_wheelchair_accessible_restroom\",\n    \"has_wheelchair_accessible_seating\",\n    \"id\",\n    \"international_phone_number\",\n    \"intersection\",\n    \"landmark\",\n    \"latitude\",\n    \"locality\",\n    \"location\",\n    \"longitude\",\n    \"national_phone_number\",\n    \"natural_feature\",\n    \"neighborhood\",\n    \"park\",\n    \"parking\",\n    \"photos_uri\",\n    \"place_uri \",\n    \"plus_code\",\n    \"point_of_interest\",\n    \"political\",\n    \"post_box\",\n    \"postal_code\",\n    \"postal_town\",\n    \"premise\",\n    \"price_level\",\n    \"primary_type\",\n    \"primary_type_display_name\",\n    \"primary_type_display_name_language_code\",\n    \"rating\",\n    \"reviews_uri\",\n    \"room\",\n    \"route\",\n    \"state\",\n    \"street_number\",\n    \"sublocality\",\n    \"subpremise\",\n    \"train_station\",\n    \"transit_station\",\n    \"types\",\n    \"utc_offset_minutes\",\n    \"write_a_review_uri\",\n    \"zip\",\n  ];\n  var idForPart = {};\n  $(\"input, select\").each(function () {\n    var the_id = $(this).attr(\"id\");\n    if (typeof the_id !== typeof undefined && the_id !== false) {\n      try {\n        var field_name = atob($(this).attr(\"id\"));\n        if (field_name.indexOf(\"_field_\") == 0) {\n          field_name = atob(daVarLookupRev[$(this).attr(\"id\")]);\n        }\n        var m = re.exec(field_name);\n        if (m.length > 0) {\n          idForPart[m[1]] = $(this).attr(\"id\");\n        }\n      } catch (e) {}\n    }\n  });\n  for (var component in fieldsToClear) {\n    if (\n      typeof idForPart[component] != \"undefined\" &&\n      document.getElementById(idForPart[component]) != null\n    ) {\n      document.getElementById(idForPart[component]).value = \"\";\n    }\n  }\n  var savedValues = {};\n  var toChange = [];\n  for (var i = 0; i < place.addressComponents.length; i++) {\n    var addressType = place.addressComponents[i].types[0];\n    if (addressType == \"street_number\" || addressType == \"country\") {\n      savedValues[addressType] = place.addressComponents[i][\"shortText\"];\n    } else {\n      savedValues[addressType] = place.addressComponents[i][\"longText\"];\n    }\n    if (\n      componentTrans[addressType] &&\n      idForPart[componentTrans[addressType][0]] &&\n      typeof idForPart[componentTrans[addressType][0]] != \"undefined\" &&\n      document.getElementById(idForPart[componentTrans[addressType][0]]) != null\n    ) {\n      var val = place.addressComponents[i][componentTrans[addressType][1]];\n      if (typeof val != \"undefined\") {\n        document.getElementById(\n          idForPart[componentTrans[addressType][0]],\n        ).value = val;\n        toChange.push(\"#\" + idForPart[componentTrans[addressType][0]]);\n      }\n    }\n    if (\n      idForPart[addressType] &&\n      typeof idForPart[addressType] != \"undefined\" &&\n      document.getElementById(idForPart[addressType]) != null\n    ) {\n      var val = savedValues[addressType];\n      if (typeof val != \"undefined\") {\n        document.getElementById(idForPart[addressType]).value = val;\n        toChange.push(\"#\" + idForPart[addressType]);\n      }\n    }\n  }\n  if (\n    typeof idForPart[\"address\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"address\"]) != null\n  ) {\n    var the_address = \"\";\n    if (typeof savedValues[\"street_number\"] != \"undefined\") {\n      the_address += savedValues[\"street_number\"] + \" \";\n    }\n    if (typeof savedValues[\"route\"] != \"undefined\") {\n      the_address += savedValues[\"route\"];\n    }\n    document.getElementById(idForPart[\"address\"]).value = the_address;\n    toChange.push(\"#\" + idForPart[\"address\"]);\n  }\n  if (\n    typeof idForPart[\"zip\"] != \"undefined\" &&\n    document.getElementById(idForPart[\"zip\"]) != null &&\n    typeof savedValues[\"postal_code\"] != \"undefined\" &&\n    savedValues[\"postal_code\"] != \"\"\n  ) {\n    var theZipCode = savedValues[\"postal_code\"];\n    if (\n      typeof savedValues[\"postal_code_suffix\"] != \"undefined\" &&\n      savedValues[\"postal_code_suffix\"] != \"\"\n    ) {\n      theZipCode += \"-\" + savedValues[\"postal_code_suffix\"];\n    }\n    document.getElementById(idForPart[\"zip\"]).value = theZipCode;\n    toChange.push(\"#\" + idForPart[\"zip\"]);\n  }\n  if (place.location) {\n    if (\n      typeof idForPart[\"latitude\"] != \"undefined\" &&\n      document.getElementById(idForPart[\"latitude\"]) != null\n    ) {\n      document.getElementById(idForPart[\"latitude\"]).value =\n        place.location.lat();\n      toChange.push(\"#\" + idForPart[\"latitude\"]);\n    }\n    if (\n      typeof idForPart[\"longitude\"] != \"undefined\" &&\n      document.getElementById(idForPart[\"longitude\"]) != null\n    ) {\n      document.getElementById(idForPart[\"longitude\"]).value =\n        place.location.lng();\n      toChange.push(\"#\" + idForPart[\"longitude\"]);\n    }\n  }\n  for (var i = 0; i < alternatives.length; i++) {\n    const [fieldName, altList] = alternatives[i];\n    if (\n      typeof idForPart[fieldName] != \"undefined\" &&\n      document.getElementById(idForPart[fieldName]) != null &&\n      document.getElementById(idForPart[fieldName]).value == \"\"\n    ) {\n    }\n    for (var j = 0; j < altList.length; j++) {\n      if (typeof savedValues[altList[j]] != \"undefined\") {\n        document.getElementById(idForPart[fieldName]).value =\n          savedValues[altList[j]];\n        toChange.push(\"#\" + idForPart[fieldName]);\n        break;\n      }\n    }\n  }\n  var fieldsToGet = daAutocomplete[origId].opts.fields || [];\n  for (var i = 0; i < fieldsToGet.length; i++) {\n    var pythonVar = fieldsToGet[i];\n    if (pythonVar == \"address_components\" || pythonVar == \"location\") {\n      continue;\n    }\n    var jsVar = underscoreToCamel(pythonVar);\n    if (\n      place[jsVar] != null &&\n      typeof place[jsVar] === \"object\" &&\n      !Array.isArray(place[jsVar])\n    ) {\n      var transformedObject = JSON.parse(JSON.stringify(place[jsVar]));\n      Object.entries(transformedObject).forEach(([jsSubVar, value]) => {\n        var pythonSubVar = camelToUnderscore(jsSubVar);\n        if (\n          value != null &&\n          typeof idForPart[pythonSubVar] != \"undefined\" &&\n          document.getElementById(idForPart[pythonSubVar]) != null\n        ) {\n          document.getElementById(idForPart[pythonSubVar]).value =\n            jsonIfObject(value);\n          toChange.push(\"#\" + idForPart[pythonSubVar]);\n        }\n      });\n    } else if (\n      place[jsVar] &&\n      typeof idForPart[pythonVar] != \"undefined\" &&\n      document.getElementById(idForPart[pythonVar]) != null\n    ) {\n      document.getElementById(idForPart[pythonVar]).value = jsonIfObject(\n        place[jsVar],\n      );\n      toChange.push(\"#\" + idForPart[pythonVar]);\n    }\n  }\n  for (var i = 0; i < toChange.length; i++) {\n    $(toChange[i]).trigger(\"change\");\n  }\n}\n\nfunction daFillInAddressOld(origId) {\n  var id;\n  if (daVarLookupRev[origId]) {\n    id = daVarLookupRev[origId];\n  } else {\n    id = origId;\n  }\n  var base_varname = atob(id).replace(/.[a-zA-Z0-9_]+$/, \"\");\n  base_varname = base_varname.replace(/[\\[\\]]/g, \".\");\n  var re = new RegExp(\"^\" + base_varname + \".(.*)\");\n  var componentForm = {\n    locality: \"long_name\",\n    sublocality: \"long_name\",\n    administrative_area_level_3: \"long_name\",\n    administrative_area_level_2: \"long_name\",\n    administrative_area_level_1: \"short_name\",\n    country: \"short_name\",\n    postal_code: \"short_name\",\n  };\n  var componentTrans = {\n    locality: \"city\",\n    administrative_area_level_2: \"county\",\n    administrative_area_level_1: \"state\",\n    country: \"country\",\n    postal_code: \"zip\",\n  };\n\n  var fields_to_fill = [\n    \"address\",\n    \"city\",\n    \"county\",\n    \"state\",\n    \"zip\",\n    \"neighborhood\",\n    \"sublocality\",\n    \"administrative_area_level_3\",\n    \"postal_code\",\n  ];\n  var id_for_part = {};\n  $(\"input, select\").each(function () {\n    var the_id = $(this).attr(\"id\");\n    if (typeof the_id !== typeof undefined && the_id !== false) {\n      try {\n        var field_name = atob($(this).attr(\"id\"));\n        if (field_name.indexOf(\"_field_\") == 0) {\n          field_name = atob(daVarLookupRev[$(this).attr(\"id\")]);\n        }\n        var m = re.exec(field_name);\n        if (m.length > 0) {\n          id_for_part[m[1]] = $(this).attr(\"id\");\n        }\n      } catch (e) {}\n    }\n  });\n  place = daAutocomplete[origId].getPlace();\n  if (\n    typeof id_for_part[\"address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"address\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"address\"]).value = \"\";\n  }\n\n  for (var component in fields_to_fill) {\n    if (\n      typeof id_for_part[component] != \"undefined\" &&\n      document.getElementById(id_for_part[component]) != null\n    ) {\n      document.getElementById(id_for_part[component]).value = \"\";\n    }\n  }\n\n  var street_number;\n  var route;\n  var savedValues = {};\n  var toChange = [];\n  for (var i = 0; i < place.address_components.length; i++) {\n    var addressType = place.address_components[i].types[0];\n    savedValues[addressType] = place.address_components[i][\"long_name\"];\n    if (addressType == \"street_number\") {\n      street_number = place.address_components[i][\"short_name\"];\n    }\n    if (addressType == \"route\") {\n      route = place.address_components[i][\"long_name\"];\n    }\n    if (\n      componentForm[addressType] &&\n      id_for_part[componentTrans[addressType]] &&\n      typeof id_for_part[componentTrans[addressType]] != \"undefined\" &&\n      document.getElementById(id_for_part[componentTrans[addressType]]) != null\n    ) {\n      var val = place.address_components[i][componentForm[addressType]];\n      if (typeof val != \"undefined\") {\n        document.getElementById(\n          id_for_part[componentTrans[addressType]],\n        ).value = val;\n        toChange.push(\"#\" + id_for_part[componentTrans[addressType]]);\n      }\n      if (componentTrans[addressType] != addressType) {\n        val = place.address_components[i][\"long_name\"];\n        if (\n          typeof val != \"undefined\" &&\n          typeof id_for_part[addressType] != \"undefined\" &&\n          document.getElementById(id_for_part[addressType]) != null\n        ) {\n          document.getElementById(id_for_part[addressType]).value = val;\n          toChange.push(\"#\" + id_for_part[addressType]);\n        }\n      }\n    } else if (\n      id_for_part[addressType] &&\n      typeof id_for_part[addressType] != \"undefined\" &&\n      document.getElementById(id_for_part[addressType]) != null\n    ) {\n      var val = place.address_components[i][\"long_name\"];\n      if (typeof val != \"undefined\") {\n        document.getElementById(id_for_part[addressType]).value = val;\n        toChange.push(\"#\" + id_for_part[addressType]);\n      }\n    }\n  }\n  if (\n    typeof id_for_part[\"address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"address\"]) != null\n  ) {\n    var the_address = \"\";\n    if (typeof street_number != \"undefined\") {\n      the_address += street_number + \" \";\n    }\n    if (typeof route != \"undefined\") {\n      the_address += route;\n    }\n    document.getElementById(id_for_part[\"address\"]).value = the_address;\n    toChange.push(\"#\" + id_for_part[\"address\"]);\n  }\n  if (\n    typeof id_for_part[\"city\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"city\"]) != null\n  ) {\n    if (\n      document.getElementById(id_for_part[\"city\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_1\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"city\"]).value =\n        savedValues[\"sublocality_level_1\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"city\"]).value == \"\" &&\n      typeof savedValues[\"neighborhood\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"city\"]).value =\n        savedValues[\"neighborhood\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"city\"]).value == \"\" &&\n      typeof savedValues[\"administrative_area_level_3\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"city\"]).value =\n        savedValues[\"administrative_area_level_3\"];\n    }\n  }\n  if (\n    typeof id_for_part[\"sublocality\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"sublocality\"]) != null\n  ) {\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_1\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_1\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_2\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_2\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_3\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_3\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_4\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_4\"];\n    }\n    if (\n      document.getElementById(id_for_part[\"sublocality\"]).value == \"\" &&\n      typeof savedValues[\"sublocality_level_5\"] != \"undefined\"\n    ) {\n      document.getElementById(id_for_part[\"sublocality\"]).value =\n        savedValues[\"sublocality_level_5\"];\n    }\n  }\n  if (\n    place.adr_address &&\n    typeof id_for_part[\"adr_address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"adr_address\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"adr_address\"]).value =\n      place.adr_address;\n  }\n  if (\n    place.business_status &&\n    typeof id_for_part[\"business_status\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"business_status\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"business_status\"]).value =\n      place.business_status;\n  }\n  if (\n    place.formatted_address &&\n    typeof id_for_part[\"formatted_address\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"formatted_address\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"formatted_address\"]).value =\n      place.formatted_address;\n  }\n  if (\n    place.formatted_phone_number &&\n    typeof id_for_part[\"formatted_phone_number\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"formatted_phone_number\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"formatted_phone_number\"]).value =\n      place.formatted_phone_number;\n  }\n  if (place.geometry && place.geometry.location) {\n    if (\n      typeof id_for_part[\"latitude\"] != \"undefined\" &&\n      document.getElementById(id_for_part[\"latitude\"]) != null\n    ) {\n      document.getElementById(id_for_part[\"latitude\"]).value =\n        place.geometry.location.lat();\n    }\n    if (\n      typeof id_for_part[\"longitude\"] != \"undefined\" &&\n      document.getElementById(id_for_part[\"longitude\"]) != null\n    ) {\n      document.getElementById(id_for_part[\"longitude\"]).value =\n        place.geometry.location.lng();\n    }\n  }\n  if (\n    place.icon &&\n    typeof id_for_part[\"icon\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"icon\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"icon\"]).value = place.icon;\n  }\n  if (\n    place.international_phone_number &&\n    typeof id_for_part[\"international_phone_number\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"international_phone_number\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"international_phone_number\"]).value =\n      place.international_phone_number;\n  }\n  if (\n    place.name &&\n    typeof id_for_part[\"name\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"name\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"name\"]).value = place.name;\n  }\n  if (\n    place.place_id &&\n    typeof id_for_part[\"place_id\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"place_id\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"place_id\"]).value = place.place_id;\n  }\n  if (\n    place.price_level &&\n    typeof id_for_part[\"price_level\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"price_level\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"price_level\"]).value =\n      place.price_level;\n  }\n  if (\n    place.rating &&\n    typeof id_for_part[\"rating\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"rating\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"rating\"]).value = place.rating;\n  }\n  if (\n    place.url &&\n    typeof id_for_part[\"url\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"url\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"url\"]).value = place.url;\n  }\n  if (\n    place.utc_offset_minutes &&\n    typeof id_for_part[\"utc_offset_minutes\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"utc_offset_minutes\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"utc_offset_minutes\"]).value =\n      place.utc_offset_minutes;\n  }\n  if (\n    place.vicinity &&\n    typeof id_for_part[\"vicinity\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"vicinity\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"vicinity\"]).value = place.vicinity;\n  }\n  if (\n    place.website &&\n    typeof id_for_part[\"website\"] != \"undefined\" &&\n    document.getElementById(id_for_part[\"website\"]) != null\n  ) {\n    document.getElementById(id_for_part[\"website\"]).value = place.website;\n  }\n  for (var i = 0; i < toChange.length; i++) {\n    $(toChange[i]).trigger(\"change\");\n  }\n}\n\nfunction daGeolocate() {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      var geolocation = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude,\n      };\n      var circle = new google.maps.Circle({\n        center: geolocation,\n        radius: position.coords.accuracy,\n      });\n      for (var id in daAutocomplete) {\n        if (daAutocomplete.hasOwnProperty(id)) {\n          daAutocomplete[id].setBounds(circle.getBounds());\n        }\n      }\n    });\n  }\n}\nvar daRequestPending = false;\nvar isAndroid = /android/i.test(navigator.userAgent.toLowerCase());\nvar daWhichButton = null;\nvar daSocket = null;\nvar daChatHistory = [];\nvar daCheckinCode = null;\nvar daCheckingIn = 0;\nvar daShowingHelp = 0;\nvar daIframeEmbed;\nif (window.location !== window.parent.location) {\n  daIframeEmbed = true;\n} else {\n  daIframeEmbed = false;\n}\nvar daChatPartnersAvailable = 0;\nvar daPhoneAvailable = false;\nvar daInitialized = false;\nvar daNotYetScrolled = true;\nvar daInformedChanged = false;\nvar daShowingSpinner = false;\nvar daSpinnerTimeout = null;\nvar daSubmitter = null;\nvar daGAConfigured = false;\nvar daShowIfInProcess = false;\nvar daFieldsToSkip = [\n  \"_checkboxes\",\n  \"_empties\",\n  \"_ml_info\",\n  \"_back_one\",\n  \"_files\",\n  \"_files_inline\",\n  \"_question_name\",\n  \"_the_image\",\n  \"_save_as\",\n  \"_success\",\n  \"_datatypes\",\n  \"_event\",\n  \"_visible\",\n  \"_tracker\",\n  \"_track_location\",\n  \"_varnames\",\n  \"_next_action\",\n  \"_next_action_to_set\",\n  \"ajax\",\n  \"json\",\n  \"informed\",\n  \"csrf_token\",\n  \"_action\",\n  \"_order_changes\",\n  \"_collect\",\n  \"_list_collect_list\",\n  \"_null_question\",\n];\nvar daVarLookup = Object();\nvar daVarLookupRev = Object();\nvar daVarLookupMulti = Object();\nvar daVarLookupRevMulti = Object();\nvar daVarLookupSelect = Object();\nvar daVarLookupCheckbox = Object();\nvar daVarLookupOption = Object();\nvar daTargetDiv;\nvar daComboBoxes = Object();\nvar daGlobalEval = eval;\nvar daFetchAcceptIncoming = false;\nvar daFetchAjaxTimeout = null;\nvar daFetchAjaxTimeoutRunning = null;\nvar daFetchAjaxTimeoutFetchAfter = null;\nvar daAddressAcceptIncoming = false;\nvar daAddressAjaxTimeout = null;\nvar daAddressAjaxTimeoutRunning = null;\nvar daAddressAjaxTimeoutCallAfter = null;\nvar daShowHideHappened = false;\nvar daCheckinInterval = null;\nvar daInitialCheckinTimeout = null;\nvar daReloader = null;\nvar daDisable = null;\nvar daAutoColorScheme = true;\nvar daCurrentColorScheme;\nvar daUrlChangeColorScheme;\nvar daDesiredColorScheme;\nvar daAutoColorScheme = true;\nvar daThicknessScalingFactor;\nvar daJsEmbed;\nvar daAllowGoingBack;\nvar daSteps;\nvar daIsUser;\nvar daUserId;\nvar daChatStatus;\nvar daChatAvailable;\nvar daChatMode;\nvar daSendChanges;\nvar daBeingControlled;\nvar daInformed;\nvar daUsingGA;\nvar daUsingSegment;\nvar daDoAction;\nvar daQuestionID;\nvar daCsrf;\nvar daComboboxButtonLabel;\nvar daInterviewUrl;\nvar daLocationBar;\nvar daPostURL;\nvar daYamlFilename;\nvar daNotificationContainer;\nvar daNotificationMessage;\nvar daMessageLog;\nvar daImageToPreLoad;\nvar daGetVariablesUrl;\nvar daLiveHelpMessage;\nvar daLiveHelpMessagePhone;\nvar daNewChatMessage;\nvar daLiveHelpAvailableMessage;\nvar daScreenBeingControlled;\nvar daScreenNoLongerBeingControlled;\nvar daPathRoot;\nvar daCheckinSeconds;\nvar daChatRoles;\nvar daChatPartnerRoles;\nvar daAllButtonClasses;\nvar daButtonStyle;\nvar daShouldForceFullScreen;\nvar daPageSep;\nvar daAreYouSure;\nvar daOtherUser;\nvar daOtherUsers;\nvar daOperator;\nvar daOperators;\nvar daCheckinUrl;\nvar daCheckoutUrl;\nvar daCurrencyDecimalPlaces;\nvar daShouldDebugReadabilityHelp;\nvar daShouldDebugReadabilityQuestion;\nvar daEmailAddressRequired;\nvar daNeedCompleteEmail;\nvar daDefaultPopoverTrigger;\nvar daToggleWord;\nvar daCheckinUrlWithInterview;\nvar daReloadAfterSeconds;\nvar daCustomItems;\nvar daTrackingEnabled;\n\nfunction dagoogleapicallback() {}\nfunction daForceFullScreen(data) {\n  if (data.steps > 1 && window != top) {\n    top.location.href = location.href;\n  }\n}\nObject.defineProperty(String.prototype, \"daSprintf\", {\n  value: function () {\n    var args = Array.from(arguments),\n      i = 0;\n    function defaultNumber(iValue) {\n      return iValue != undefined && !isNaN(iValue) ? iValue : \"0\";\n    }\n    function defaultString(iValue) {\n      return iValue == undefined ? \"\" : \"\" + iValue;\n    }\n    return this.replace(\n      /%%|%([+\\-])?([^1-9])?(\\d+)?(\\.\\d+)?([deEfhHioQqs])/g,\n      function (match, sign, filler, scale, precision, type) {\n        var strOut, space, value;\n        var asNumber = false;\n        if (match == \"%%\") return \"%\";\n        if (i >= args.length) return match;\n        value = args[i];\n        while (Array.isArray(value)) {\n          args.splice(i, 1);\n          for (var j = i; value.length > 0; j++)\n            args.splice(j, 0, value.shift());\n          value = args[i];\n        }\n        i++;\n        if (filler == undefined) filler = \" \"; // default\n        if (scale == undefined && !isNaN(filler)) {\n          scale = filler;\n          filler = \" \";\n        }\n        if (sign == undefined) sign = \"sqQ\".indexOf(type) >= 0 ? \"+\" : \"-\"; // default\n        if (scale == undefined) scale = 0; // default\n        if (precision == undefined) precision = \".0\"; // default\n        scale = parseInt(scale);\n        precision = parseInt(precision.substr(1));\n        switch (type) {\n          case \"d\":\n          case \"i\":\n            // decimal integer\n            asNumber = true;\n            strOut = parseInt(defaultNumber(value));\n            if (precision > 0) strOut += \".\" + \"0\".repeat(precision);\n            break;\n          case \"e\":\n          case \"E\":\n            // float in exponential notation\n            asNumber = true;\n            strOut = parseFloat(defaultNumber(value));\n            if (precision == 0) strOut = strOut.toExponential();\n            else strOut = strOut.toExponential(precision);\n            if (type == \"E\") strOut = strOut.replace(\"e\", \"E\");\n            break;\n          case \"f\":\n            // decimal float\n            asNumber = true;\n            strOut = parseFloat(defaultNumber(value));\n            if (precision != 0) strOut = strOut.toFixed(precision);\n            break;\n          case \"o\":\n          case \"h\":\n          case \"H\":\n            // Octal or Hexagesimal integer notation\n            strOut =\n              \"\\\\\" +\n              (type == \"o\" ? \"0\" : type) +\n              parseInt(defaultNumber(value)).toString(type == \"o\" ? 8 : 16);\n            break;\n          case \"q\":\n            // single quoted string\n            strOut = \"'\" + defaultString(value) + \"'\";\n            break;\n          case \"Q\":\n            // double quoted string\n            strOut = '\"' + defaultString(value) + '\"';\n            break;\n          default:\n            // string\n            strOut = defaultString(value);\n            break;\n        }\n        if (typeof strOut != \"string\") strOut = \"\" + strOut;\n        if ((space = strOut.length) < scale) {\n          if (asNumber) {\n            if (sign == \"-\") {\n              if (strOut.indexOf(\"-\") < 0)\n                strOut = filler.repeat(scale - space) + strOut;\n              else\n                strOut =\n                  \"-\" + filler.repeat(scale - space) + strOut.replace(\"-\", \"\");\n            } else {\n              if (strOut.indexOf(\"-\") < 0)\n                strOut = \"+\" + filler.repeat(scale - space - 1) + strOut;\n              else\n                strOut =\n                  \"-\" + filler.repeat(scale - space) + strOut.replace(\"-\", \"\");\n            }\n          } else {\n            if (sign == \"-\") strOut = filler.repeat(scale - space) + strOut;\n            else strOut = strOut + filler.repeat(scale - space);\n          }\n        } else if (asNumber && sign == \"+\" && strOut.indexOf(\"-\") < 0)\n          strOut = \"+\" + strOut;\n        return strOut;\n      },\n    );\n  },\n});\nObject.defineProperty(window, \"daSprintf\", {\n  value: function (str, ...rest) {\n    if (typeof str == \"string\")\n      return String.prototype.daSprintf.apply(str, rest);\n    return \"\";\n  },\n});\nfunction daGoToAnchor(target) {\n  if (daJsEmbed) {\n    scrollTarget = $(target).first().position().top - 60;\n  } else {\n    scrollTarget = $(target).first().offset().top - 60;\n  }\n  if (scrollTarget != null) {\n    if (daJsEmbed) {\n      $(daTargetDiv).animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        500,\n      );\n    } else {\n      $(\"html, body\").animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        500,\n      );\n    }\n  }\n}\nfunction atou(b64) {\n  return decodeURIComponent(escape(atob(b64)));\n}\nfunction utoa(data) {\n  return btoa(unescape(encodeURIComponent(data)));\n}\nfunction dabtoa(str) {\n  return window.utoa(str).replace(/[\\n=]/g, \"\");\n}\nfunction daatob(str) {\n  return atou(str);\n}\nfunction hideTablist() {\n  var anyTabs =\n    $(\"#daChatAvailable\").is(\":visible\") ||\n    $(\"daPhoneAvailable\").is(\":visible\") ||\n    $(\"#dahelptoggle\").is(\":visible\");\n  if (anyTabs) {\n    $(\"#nav-bar-tab-list\").removeClass(\"dainvisible\");\n    $(\"#daquestionlabel\").parent().removeClass(\"dainvisible\");\n  } else {\n    $(\"#nav-bar-tab-list\").addClass(\"dainvisible\");\n    $(\"#daquestionlabel\").parent().addClass(\"dainvisible\");\n  }\n}\nfunction getFields() {\n  var allFields = [];\n  for (var rawFieldName in daVarLookup) {\n    if (daVarLookup.hasOwnProperty(rawFieldName)) {\n      var fieldName = atou(rawFieldName);\n      if (allFields.indexOf(fieldName) == -1) {\n        allFields.push(fieldName);\n      }\n    }\n  }\n  return allFields;\n}\nvar daGetFields = getFields;\nfunction daAppendIfExists(fieldName, theArray) {\n  var elem = $(\"[name='\" + fieldName + \"']\");\n  if (elem.length > 0) {\n    for (var i = 0; i < theArray.length; ++i) {\n      if (theArray[i] == elem[0]) {\n        return;\n      }\n    }\n    theArray.push(elem[0]);\n  }\n}\nfunction getField(fieldName, notInDiv) {\n  if (daVarLookupCheckbox[fieldName]) {\n    var n = daVarLookupCheckbox[fieldName].length;\n    for (var i = 0; i < n; ++i) {\n      var elem = daVarLookupCheckbox[fieldName][i].checkboxes[0].elem;\n      if (!$(elem).prop(\"disabled\")) {\n        var showifParents = $(elem).parents(\".dajsshowif,.dashowif\");\n        if (\n          showifParents.length == 0 ||\n          $(showifParents[0]).data(\"isVisible\") == \"1\"\n        ) {\n          if (notInDiv && $.contains(notInDiv, elem)) {\n            continue;\n          }\n          return daVarLookupCheckbox[fieldName][i].elem;\n        }\n      }\n    }\n  }\n  if (daVarLookupSelect[fieldName]) {\n    var n = daVarLookupSelect[fieldName].length;\n    for (var i = 0; i < n; ++i) {\n      var elem = daVarLookupSelect[fieldName][i].select;\n      if (!$(elem).prop(\"disabled\")) {\n        var showifParents = $(elem).parents(\".dajsshowif,.dashowif\");\n        if (\n          showifParents.length == 0 ||\n          $(showifParents[0]).data(\"isVisible\") == \"1\"\n        ) {\n          if (notInDiv && $.contains(notInDiv, elem)) {\n            continue;\n          }\n          return elem;\n        }\n      }\n    }\n  }\n  var fieldNameEscaped = dabtoa(fieldName);\n  var possibleElements = [];\n  daAppendIfExists(fieldNameEscaped, possibleElements);\n  if (daVarLookupMulti.hasOwnProperty(fieldNameEscaped)) {\n    for (var i = 0; i < daVarLookupMulti[fieldNameEscaped].length; ++i) {\n      daAppendIfExists(daVarLookupMulti[fieldNameEscaped][i], possibleElements);\n    }\n  }\n  var returnVal = null;\n  for (var i = 0; i < possibleElements.length; ++i) {\n    if (\n      !$(possibleElements[i]).prop(\"disabled\") ||\n      $(possibleElements[i]).parents(\".file-input.is-locked\").length > 0\n    ) {\n      var showifParents = $(possibleElements[i]).parents(\n        \".dajsshowif,.dashowif\",\n      );\n      if (\n        showifParents.length == 0 ||\n        $(showifParents[0]).data(\"isVisible\") == \"1\"\n      ) {\n        if (notInDiv && $.contains(notInDiv, possibleElements[i])) {\n          continue;\n        }\n        returnVal = possibleElements[i];\n      }\n    }\n  }\n  if (\n    $(returnVal).hasClass(\"da-to-labelauty\") &&\n    $(returnVal).parents(\"div.da-field-group\").length > 0\n  ) {\n    var fieldSet = $(returnVal).parents(\"div.da-field-group\")[0];\n    if (\n      !$(fieldSet).hasClass(\"da-field-checkbox\") &&\n      !$(fieldSet).hasClass(\"da-field-checkboxes\")\n    ) {\n      return fieldSet;\n    }\n  }\n  return returnVal;\n}\nvar daGetField = getField;\nfunction setChoices(fieldName, choices) {\n  var elem = daGetField(fieldName);\n  if (elem == null) {\n    console.log(\"setChoices: reference to non-existent field \" + fieldName);\n    return;\n  }\n  var isCombobox =\n    $(elem).attr(\"type\") == \"hidden\" &&\n    $(elem).parents(\".combobox-container\").length > 0;\n  if (isCombobox) {\n    var comboInput = $(elem)\n      .parents(\".combobox-container\")\n      .first()\n      .find(\"input.combobox\")\n      .first();\n    var comboObject = daComboBoxes[$(comboInput).attr(\"id\")];\n    var oldComboVal = comboObject.$target.val();\n    elem = comboObject.$source;\n  }\n  if ($(elem).prop(\"tagName\") != \"SELECT\") {\n    console.log(\"setField: field \" + fieldName + \" is not a dropdown field\");\n    return;\n  }\n  var oldVal = $(elem).val();\n  $(elem)\n    .find(\"option[value!='']\")\n    .each(function () {\n      $(this).remove();\n    });\n  var n = choices.length;\n  for (var i = 0; i < n; i++) {\n    var opt = $(\"<option>\");\n    opt.val(choices[i][0]);\n    opt.text(choices[i][1]);\n    if (oldVal == choices[i][0]) {\n      opt.attr(\"selected\", \"selected\");\n    }\n    $(elem).append(opt);\n  }\n  if (isCombobox) {\n    comboObject.refresh();\n    comboObject.clearTarget();\n    if (oldComboVal != \"\") {\n      daSetField(fieldName, oldComboVal);\n    }\n  }\n}\nvar daSetChoices = setChoices;\nfunction setField(fieldName, theValue) {\n  var elem = daGetField(fieldName);\n  if (elem == null) {\n    console.log(\"setField: reference to non-existent field \" + fieldName);\n    return;\n  }\n  if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-radio\")\n  ) {\n    elem = $(elem).find(\"input\")[0];\n  }\n  if ($(elem).attr(\"type\") == \"checkbox\") {\n    if (theValue) {\n      if ($(elem).prop(\"checked\") != true) {\n        $(elem).click();\n      }\n    } else {\n      if ($(elem).prop(\"checked\") != false) {\n        $(elem).click();\n      }\n    }\n  } else if ($(elem).attr(\"type\") == \"radio\") {\n    var fieldNameEscaped = $(elem)\n      .attr(\"name\")\n      .replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n    var wasSet = false;\n    if (theValue === true) {\n      theValue = \"True\";\n    }\n    if (theValue === false) {\n      theValue = \"False\";\n    }\n    $(\"input[name='\" + fieldNameEscaped + \"']\").each(function () {\n      if ($(this).val() == theValue) {\n        if ($(this).prop(\"checked\") != true) {\n          $(this).prop(\"checked\", true);\n          $(this).trigger(\"change\");\n        }\n        wasSet = true;\n        return false;\n      }\n    });\n    if (!wasSet) {\n      console.log(\n        \"setField: could not set radio button \" + fieldName + \" to \" + theValue,\n      );\n    }\n  } else if ($(elem).attr(\"type\") == \"hidden\") {\n    if ($(elem).val() != theValue) {\n      if ($(elem).parents(\".combobox-container\").length > 0) {\n        var comboInput = $(elem)\n          .parents(\".combobox-container\")\n          .first()\n          .find(\"input.combobox\")\n          .first();\n        daComboBoxes[$(comboInput).attr(\"id\")].manualSelect(theValue);\n      } else {\n        $(elem).val(theValue);\n        $(elem).trigger(\"change\");\n      }\n    }\n  } else if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-checkboxes\")\n  ) {\n    if (!Array.isArray(theValue)) {\n      throw new Error(\"setField: value must be an array\");\n    }\n    var n = theValue.length;\n    $(elem)\n      .find(\"input\")\n      .each(function () {\n        if ($(this).hasClass(\"danota-checkbox\")) {\n          $(this).prop(\"checked\", n == 0);\n          $(this).trigger(\"change\");\n          return;\n        }\n        if ($(this).hasClass(\"daaota-checkbox\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n          return;\n        }\n        if ($(this).attr(\"name\").substr(0, 7) === \"_ignore\") {\n          return;\n        }\n        var theVal = atou($(this).data(\"cbvalue\"));\n        if ($(elem).hasClass(\"daobject\")) {\n          theVal = atou(theVal);\n        }\n        var oldVal = $(this).prop(\"checked\") == true;\n        var newVal = false;\n        for (var i = 0; i < n; ++i) {\n          if (theValue[i] == theVal) {\n            newVal = true;\n          }\n        }\n        if (oldVal != newVal) {\n          $(this).click();\n        }\n      });\n  } else if (\n    $(elem).prop(\"tagName\") == \"SELECT\" &&\n    $(elem).hasClass(\"damultiselect\")\n  ) {\n    if (daVarLookupSelect[fieldName]) {\n      var n = daVarLookupSelect[fieldName].length;\n      for (var i = 0; i < n; ++i) {\n        if (daVarLookupSelect[fieldName][i].select === elem) {\n          var oldValue =\n            $(daVarLookupSelect[fieldName][i].option).prop(\"selected\") == true;\n          if (oldValue != theValue) {\n            $(daVarLookupSelect[fieldName][i].option).prop(\n              \"selected\",\n              theValue,\n            );\n            $(elem).trigger(\"change\");\n          }\n        }\n      }\n    } else {\n      if (!Array.isArray(theValue)) {\n        throw new Error(\"setField: value must be an array\");\n      }\n      var n = theValue.length;\n      var changed = false;\n      $(elem)\n        .find(\"option\")\n        .each(function () {\n          var thisVal = daVarLookupOption[$(this).val()];\n          var oldVal = $(this).prop(\"selected\") == true;\n          var newVal = false;\n          for (var i = 0; i < n; ++i) {\n            if (thisVal == theValue[i]) {\n              newVal = true;\n            }\n          }\n          if (newVal !== oldVal) {\n            changed = true;\n            $(this).prop(\"selected\", newVal);\n          }\n        });\n      if (changed) {\n        $(elem).trigger(\"change\");\n      }\n    }\n  } else {\n    if ($(elem).val() != theValue) {\n      $(elem).val(theValue);\n      $(elem).trigger(\"change\");\n    }\n  }\n}\nvar daSetField = setField;\nfunction val(fieldName) {\n  var elem = daGetField(fieldName);\n  if (elem == null) {\n    return null;\n  }\n  if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-radio\")\n  ) {\n    elem = $(elem).find(\"input\")[0];\n  }\n  if ($(elem).attr(\"type\") == \"checkbox\") {\n    if ($(elem).prop(\"checked\")) {\n      theVal = true;\n    } else {\n      theVal = false;\n    }\n  } else if ($(elem).attr(\"type\") == \"radio\") {\n    var fieldNameEscaped = $(elem)\n      .attr(\"name\")\n      .replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n    theVal = $(\"input[name='\" + fieldNameEscaped + \"']:checked\").val();\n    if (typeof theVal == \"undefined\") {\n      theVal = null;\n    } else {\n      if ($(elem).hasClass(\"daobject\")) {\n        theVal = atou(theVal);\n      } else if (theVal == \"True\") {\n        theVal = true;\n      } else if (theVal == \"False\") {\n        theVal = false;\n      }\n    }\n  } else if (\n    $(elem).prop(\"tagName\") == \"DIV\" &&\n    $(elem).hasClass(\"da-field-group\") &&\n    $(elem).hasClass(\"da-field-checkboxes\")\n  ) {\n    var cbSelected = [];\n    $(elem)\n      .find(\"input\")\n      .each(function () {\n        if ($(this).attr(\"name\").substr(0, 7) === \"_ignore\") {\n          return;\n        }\n        var theVal = atou($(this).data(\"cbvalue\"));\n        if ($(elem).hasClass(\"daobject\")) {\n          theVal = atou(theVal);\n        }\n        if ($(this).prop(\"checked\")) {\n          cbSelected.push(theVal);\n        }\n      });\n    return cbSelected;\n  } else if (\n    $(elem).prop(\"tagName\") == \"SELECT\" &&\n    $(elem).hasClass(\"damultiselect\")\n  ) {\n    if (daVarLookupSelect[fieldName]) {\n      var n = daVarLookupSelect[fieldName].length;\n      for (var i = 0; i < n; ++i) {\n        if (daVarLookupSelect[fieldName][i].select === elem) {\n          return $(daVarLookupSelect[fieldName][i].option).prop(\"selected\");\n        }\n      }\n    } else {\n      var selectedVals = [];\n      $(elem)\n        .find(\"option\")\n        .each(function () {\n          if ($(this).prop(\"selected\")) {\n            if (daVarLookupOption[$(this).val()]) {\n              selectedVals.push(daVarLookupOption[$(this).val()]);\n            }\n          }\n        });\n      return selectedVals;\n    }\n  } else if (\n    $(elem).prop(\"tagName\") == \"SELECT\" &&\n    $(elem).hasClass(\"daobject\")\n  ) {\n    theVal = atou($(elem).val());\n  } else {\n    theVal = $(elem).val();\n  }\n  return theVal;\n}\nvar da_val = val;\nfunction daFormAsJSON(elem) {\n  var isInitial = false;\n  var formData = $(\"#daform\").serializeArray();\n  var data = Object();\n  if (elem == \"initial\") {\n    elem = null;\n    data[\"_initial\"] = true;\n  } else {\n    data[\"_initial\"] = false;\n  }\n  if (elem !== null && $(elem).hasClass(\"combobox\")) {\n    elem = $(elem).parent().find('input[type=\"hidden\"]');\n  }\n  data[\"_changed\"] = null;\n  var n = formData.length;\n  for (var i = 0; i < n; ++i) {\n    var key = formData[i][\"name\"];\n    var val = formData[i][\"value\"];\n    if ($.inArray(key, daFieldsToSkip) != -1 || key.indexOf(\"_ignore\") == 0) {\n      continue;\n    }\n    var isChangedElem = false;\n    if (elem !== null && key == $(elem).attr(\"name\")) {\n      isChangedElem = true;\n    }\n    if (typeof daVarLookupRev[key] != \"undefined\") {\n      data[atou(daVarLookupRev[key])] = val;\n      if (isChangedElem) {\n        data[\"_changed\"] = atou(daVarLookupRev[key]);\n      }\n    } else {\n      data[atou(key)] = val;\n      if (isChangedElem) {\n        data[\"_changed\"] = atou(key);\n      }\n    }\n  }\n  return JSON.stringify(data);\n}\nfunction daPreloadImage(url) {\n  var img = new Image();\n  img.src = url;\n}\nfunction daShowHelpTab() {\n  $(\"#dahelptoggle\").tab(\"show\");\n}\nfunction addCsrfHeader(xhr, settings) {\n  if (daJsEmbed && !/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type)) {\n    xhr.setRequestHeader(\"X-CSRFToken\", daCsrf);\n  }\n}\nfunction flash(message, priority, clear) {\n  if (priority == null) {\n    priority = \"info\";\n  }\n  if (!$(\"#daflash\").length) {\n    $(daTargetDiv).append(daSprintf(daNotificationContainer, \"\"));\n  }\n  if (clear) {\n    $(\"#daflash\").empty();\n  }\n  if (message != null) {\n    var newElement = $(daSprintf(daNotificationMessage, priority, message));\n    $(\"#daflash\").append(newElement);\n    if (priority == \"success\") {\n      setTimeout(function () {\n        newElement.hide(300, function () {\n          $(this).remove();\n        });\n      }, 3000);\n    }\n  }\n}\nvar da_flash = flash;\nfunction url_action(action, args) {\n  if (args == null) {\n    args = {};\n  }\n  data = { action: action, arguments: args };\n  var url;\n  if (daJsEmbed) {\n    url =\n      daPostURL + \"&action=\" + encodeURIComponent(utoa(JSON_stringify(data)));\n  } else {\n    if (daLocationBar.indexOf(\"?\") !== -1) {\n      url =\n        daLocationBar +\n        \"&action=\" +\n        encodeURIComponent(utoa(JSON_stringify(data)));\n    } else {\n      url =\n        daLocationBar +\n        \"?action=\" +\n        encodeURIComponent(utoa(JSON_stringify(data)));\n    }\n  }\n  return url;\n}\nvar da_url_action = url_action;\nfunction action_call(\n  action,\n  args,\n  callback,\n  forgetPrior = false,\n  readOnly = false,\n) {\n  if (args == null) {\n    args = {};\n  }\n  if (forgetPrior) {\n    args = { _action: action, _arguments: args };\n    action = \"_da_priority_action\";\n  }\n  if (callback == null) {\n    callback = function () {};\n  }\n  var data = { action: action, arguments: args };\n  var url;\n  if (daJsEmbed) {\n    url = daPostURL;\n  } else {\n    url = daInterviewUrl;\n  }\n  return $.ajax({\n    type: \"POST\",\n    url: url,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: $.param({\n      _action: utoa(JSON_stringify(data)),\n      _readonly: readOnly ? \"1\" : \"0\",\n      csrf_token: daCsrf,\n    }),\n    success: callback,\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n}\nvar da_action_call = action_call;\nvar url_action_call = action_call;\nfunction action_perform(action, args, forgetPrior = false) {\n  if (args == null) {\n    args = {};\n  }\n  if (forgetPrior) {\n    args = { _action: action, _arguments: args };\n    action = \"_da_priority_action\";\n  }\n  var data = { action: action, arguments: args };\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  daRequestPending = true;\n  return $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: $.param({\n      _action: utoa(JSON_stringify(data)),\n      csrf_token: daCsrf,\n      ajax: 1,\n    }),\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(\"#daform\"), 1);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n    dataType: \"json\",\n  });\n}\nvar da_action_perform = action_perform;\nvar url_action_perform = action_perform;\nfunction action_perform_with_next(\n  action,\n  args,\n  next_data,\n  forgetPrior = false,\n) {\n  //console.log(\"action_perform_with_next: \" + action + \" | \" + next_data)\n  if (args == null) {\n    args = {};\n  }\n  if (forgetPrior) {\n    args = { _action: action, _arguments: args };\n    action = \"_da_priority_action\";\n  }\n  var data = { action: action, arguments: args };\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  daRequestPending = true;\n  return $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: $.param({\n      _action: utoa(JSON_stringify(data)),\n      _next_action_to_set: utoa(JSON_stringify(next_data)),\n      csrf_token: daCsrf,\n      ajax: 1,\n    }),\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(\"#daform\"), 1);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n    dataType: \"json\",\n  });\n}\nvar da_action_perform_with_next = action_perform_with_next;\nvar url_action_perform_with_next = action_perform_with_next;\nfunction get_interview_variables(callback) {\n  if (callback == null) {\n    callback = function () {};\n  }\n  return $.ajax({\n    type: \"GET\",\n    url: daGetVariablesUrl,\n    success: callback,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n}\nvar da_get_interview_variables = get_interview_variables;\nfunction daInformAbout(subject, chatMessage) {\n  if (subject in daInformed || (subject != \"chatmessage\" && !daIsUser)) {\n    return;\n  }\n  if (daShowingHelp && subject != \"chatmessage\") {\n    daInformed[subject] = 1;\n    daInformedChanged = true;\n    return;\n  }\n  if (daShowingHelp && subject == \"chatmessage\") {\n    return;\n  }\n  var target;\n  var message;\n  var waitPeriod = 3000;\n  if (subject == \"chat\") {\n    target = \"#daChatAvailable a\";\n    message = daLiveHelpMessage;\n  } else if (subject == \"chatmessage\") {\n    target = \"#daChatAvailable a\";\n    message = chatMessage;\n  } else if (subject == \"phone\") {\n    target = \"#daPhoneAvailable a\";\n    message = daLiveHelpMessagePhone;\n  } else {\n    return;\n  }\n  if (subject != \"chatmessage\") {\n    daInformed[subject] = 1;\n    daInformedChanged = true;\n  }\n  if (subject == \"chatmessage\") {\n    $(target).popover({\n      content: message,\n      placement: \"bottom\",\n      trigger: \"manual\",\n      container: \"body\",\n      title: daNewChatMessage,\n    });\n  } else {\n    $(target).popover({\n      content: message,\n      placement: \"bottom\",\n      trigger: \"manual\",\n      container: \"body\",\n      title: daLiveHelpAvailableMessage,\n    });\n  }\n  $(target).popover(\"show\");\n  setTimeout(function () {\n    $(target).popover(\"dispose\");\n    $(target).removeAttr(\"title\");\n  }, waitPeriod);\n}\n// function daCloseSocket(){\n//   if (typeof daSocket !== 'undefined' && daSocket.connected){\n//     //daSocket.emit('terminate');\n//     //io.unwatch();\n//   }\n// }\nfunction daPublishMessage(data) {\n  var newDiv = document.createElement(\"li\");\n  $(newDiv).addClass(\"list-group-item\");\n  if (data.is_self) {\n    $(newDiv).addClass(\"list-group-item-primary dalistright\");\n  } else {\n    $(newDiv).addClass(\"list-group-item-secondary dalistleft\");\n  }\n  //var newSpan = document.createElement('span');\n  //$(newSpan).html(data.message);\n  //$(newSpan).appendTo($(newDiv));\n  //var newName = document.createElement('span');\n  //$(newName).html(userNameString(data));\n  //$(newName).appendTo($(newDiv));\n  $(newDiv).html(data.message);\n  $(\"#daCorrespondence\").append(newDiv);\n}\nfunction daScrollChat() {\n  var chatScroller = $(\"#daCorrespondence\");\n  if (chatScroller.length) {\n    var height = chatScroller[0].scrollHeight;\n    //console.log(\"Slow scrolling to \" + height);\n    if (height == 0) {\n      daNotYetScrolled = true;\n      return;\n    }\n    chatScroller.animate({ scrollTop: height }, 800);\n  } else {\n    console.log(\"daScrollChat: error\");\n  }\n}\nfunction daScrollChatFast() {\n  var chatScroller = $(\"#daCorrespondence\");\n  if (chatScroller.length) {\n    var height = chatScroller[0].scrollHeight;\n    if (height == 0) {\n      daNotYetScrolled = true;\n      return;\n    }\n    //console.log(\"Scrolling to \" + height + \" where there are \" + chatScroller[0].childElementCount + \" children\");\n    chatScroller.scrollTop(height);\n  } else {\n    console.log(\"daScrollChatFast: error\");\n  }\n}\nfunction daSender() {\n  //console.log(\"daSender\");\n  if ($(\"#daMessage\").val().length) {\n    daSocket.emit(\"chatmessage\", {\n      data: $(\"#daMessage\").val(),\n      i: daYamlFilename,\n    });\n    $(\"#daMessage\").val(\"\");\n    $(\"#daMessage\").focus();\n  }\n  return false;\n}\nfunction daShowControl(mode) {\n  //console.log(\"You are now being controlled\");\n  if ($(\"body\").hasClass(\"dacontrolled\")) {\n    return;\n  }\n  $('input[type=\"submit\"], button[type=\"submit\"]').prop(\"disabled\", true);\n  $(\"body\").addClass(\"dacontrolled\");\n  var newDiv = document.createElement(\"div\");\n  $(newDiv).addClass(\n    \"datop-alert col-xs-10 col-sm-7 col-md-6 col-lg-5 dacol-centered\",\n  );\n  $(newDiv).html(daScreenBeingControlled);\n  $(newDiv).attr(\"id\", \"dacontrolAlert\");\n  $(newDiv).css(\"display\", \"none\");\n  $(newDiv).appendTo($(daTargetDiv));\n  if (mode == \"animated\") {\n    $(newDiv).slideDown();\n  } else {\n    $(newDiv).show();\n  }\n}\nfunction daHideControl() {\n  //console.log(\"You are no longer being controlled\");\n  if (!$(\"body\").hasClass(\"dacontrolled\")) {\n    return;\n  }\n  $('input[type=\"submit\"], button[type=\"submit\"]').prop(\"disabled\", false);\n  $(\"body\").removeClass(\"dacontrolled\");\n  $(\"#dacontrolAlert\").html(daScreenNoLongerBeingControlled);\n  setTimeout(function () {\n    $(\"#dacontrolAlert\").slideUp(300, function () {\n      $(\"#dacontrolAlert\").remove();\n    });\n  }, 2000);\n}\nfunction daInitializeSocket() {\n  if (daSocket != null) {\n    if (daSocket.connected) {\n      //console.log(\"Calling connectagain\");\n      if (daChatStatus == \"ready\") {\n        daSocket.emit(\"connectagain\", { i: daYamlFilename });\n      }\n      if (daBeingControlled) {\n        daShowControl(\"animated\");\n        daSocket.emit(\"start_being_controlled\", { i: daYamlFilename });\n      }\n    } else {\n      //console.log('daInitializeSocket: daSocket.connect()');\n      daSocket.connect();\n    }\n    return;\n  }\n  if (location.protocol === \"http:\" || document.location.protocol === \"http:\") {\n    daSocket = io.connect(\"http://\" + document.domain + \"/wsinterview\", {\n      path: daPathRoot + \"ws/socket.io\",\n      query: \"i=\" + daYamlFilename,\n    });\n  }\n  if (\n    location.protocol === \"https:\" ||\n    document.location.protocol === \"https:\"\n  ) {\n    daSocket = io.connect(\"https://\" + document.domain + \"/wsinterview\", {\n      path: daPathRoot + \"ws/socket.io\",\n      query: \"i=\" + daYamlFilename,\n    });\n  }\n  //console.log(\"daInitializeSocket: socket is \" + daSocket);\n  if (daSocket != null) {\n    daSocket.on(\"connect\", function () {\n      if (daSocket == null) {\n        console.log(\"Error: socket is null\");\n        return;\n      }\n      //console.log(\"Connected socket with sid \" + daSocket.id);\n      if (daChatStatus == \"ready\") {\n        daChatStatus = \"on\";\n        daDisplayChat();\n        daPushChanges();\n        //daTurnOnChat();\n        //console.log(\"Emitting chat_log from on connect\");\n        daSocket.emit(\"chat_log\", { i: daYamlFilename });\n      }\n      if (daBeingControlled) {\n        daShowControl(\"animated\");\n        daSocket.emit(\"start_being_controlled\", { i: daYamlFilename });\n      }\n    });\n    daSocket.on(\"chat_log\", function (arg) {\n      //console.log(\"Got chat_log\");\n      $(\"#daCorrespondence\").html(\"\");\n      daChatHistory = [];\n      var messages = arg.data;\n      for (var i = 0; i < messages.length; ++i) {\n        daChatHistory.push(messages[i]);\n        daPublishMessage(messages[i]);\n      }\n      daScrollChatFast();\n    });\n    daSocket.on(\"chatready\", function (data) {\n      //var key = 'da:session:uid:' + data.uid + ':i:' + data.i + ':userid:' + data.userid\n      //console.log('chatready');\n    });\n    daSocket.on(\"terminate\", function () {\n      //console.log(\"interview: terminating socket\");\n      daSocket.disconnect();\n    });\n    daSocket.on(\"controllerstart\", function () {\n      daBeingControlled = true;\n      daShowControl(\"animated\");\n    });\n    daSocket.on(\"controllerexit\", function () {\n      daBeingControlled = false;\n      //console.log(\"Hiding control 2\");\n      daHideControl();\n      if (daChatStatus != \"on\") {\n        if (daSocket != null && daSocket.connected) {\n          //console.log('Terminating interview socket because control over');\n          daSocket.emit(\"terminate\");\n        }\n      }\n    });\n    daSocket.on(\"disconnect\", function () {\n      //console.log(\"Manual disconnect\");\n      //daSocket.emit('manual_disconnect', {i: daYamlFilename});\n      //console.log(\"Disconnected socket\");\n      //daSocket = null;\n    });\n    daSocket.on(\"reconnected\", function () {\n      //console.log(\"Reconnected\");\n      daChatStatus = \"on\";\n      daDisplayChat();\n      daPushChanges();\n      daTurnOnChat();\n      //console.log(\"Emitting chat_log from reconnected\");\n      daSocket.emit(\"chat_log\", { i: daYamlFilename });\n    });\n    daSocket.on(\"mymessage\", function (arg) {\n      //console.log(\"Received \" + arg.data);\n      $(\"#daPushResult\").html(arg.data);\n    });\n    daSocket.on(\"departure\", function (arg) {\n      //console.log(\"Departure \" + arg.numpartners);\n      if (arg.numpartners == 0) {\n        daCloseChat();\n      }\n    });\n    daSocket.on(\"chatmessage\", function (arg) {\n      //console.log(\"Received chat message \" + arg.data);\n      daChatHistory.push(arg.data);\n      daPublishMessage(arg.data);\n      daScrollChat();\n      daInformAbout(\"chatmessage\", arg.data.message);\n    });\n    daSocket.on(\"newpage\", function (incoming) {\n      //console.log(\"newpage received\");\n      var data = incoming.obj;\n      daProcessAjax(data, $(\"#daform\"), 1);\n    });\n    daSocket.on(\"controllerchanges\", function (data) {\n      //console.log(\"controllerchanges: \" + data.parameters);\n      var valArray = Object();\n      var values = JSON.parse(data.parameters);\n      for (var i = 0; i < values.length; i++) {\n        valArray[values[i].name] = values[i].value;\n      }\n      //console.log(\"valArray is \" + JSON.stringify(valArray));\n      $(\"#daform\").each(function () {\n        $(this)\n          .find(\":input\")\n          .each(function () {\n            var type = $(this).attr(\"type\");\n            var id = $(this).attr(\"id\");\n            var name = $(this).attr(\"name\");\n            if (type == \"checkbox\") {\n              if (name in valArray) {\n                if (valArray[name] == \"True\") {\n                  if ($(this).prop(\"checked\") != true) {\n                    $(this).prop(\"checked\", true);\n                    $(this).trigger(\"change\");\n                  }\n                } else {\n                  if ($(this).prop(\"checked\") != false) {\n                    $(this).prop(\"checked\", false);\n                    $(this).trigger(\"change\");\n                  }\n                }\n              } else {\n                if ($(this).prop(\"checked\") != false) {\n                  $(this).prop(\"checked\", false);\n                  $(this).trigger(\"change\");\n                }\n              }\n            } else if (type == \"radio\") {\n              if (name in valArray) {\n                if (valArray[name] == $(this).val()) {\n                  if ($(this).prop(\"checked\") != true) {\n                    $(this).prop(\"checked\", true);\n                    $(this).trigger(\"change\");\n                  }\n                } else {\n                  if ($(this).prop(\"checked\") != false) {\n                    $(this).prop(\"checked\", false);\n                    $(this).trigger(\"change\");\n                  }\n                }\n              }\n            } else if ($(this).data().hasOwnProperty(\"sliderMax\")) {\n              $(this).slider(\"setValue\", parseInt(valArray[name]));\n            } else {\n              if (name in valArray) {\n                $(this).val(valArray[name]);\n              }\n            }\n          });\n      });\n      if (data.clicked) {\n        //console.log(\"Need to click \" + data.clicked);\n        $(data.clicked).prop(\"disabled\", false);\n        $(data.clicked).addClass(\"da-click-selected\");\n        if (\n          $(data.clicked).prop(\"tagName\") == \"A\" &&\n          typeof $(data.clicked).attr(\"href\") != \"undefined\" &&\n          ($(data.clicked).attr(\"href\").indexOf(\"javascript\") == 0 ||\n            $(data.clicked).attr(\"href\").indexOf(\"#\") == 0)\n        ) {\n          setTimeout(function () {\n            $(data.clicked).removeClass(\"da-click-selected\");\n          }, 2200);\n        }\n        setTimeout(function () {\n          //console.log(\"Clicking it now\");\n          $(data.clicked).click();\n          //console.log(\"Clicked it.\");\n        }, 200);\n      }\n    });\n  }\n}\nfunction daUnfakeHtmlResponse(text) {\n  text = text.substr(text.indexOf(\"ABCDABOUNDARYSTARTABC\") + 21);\n  text = text.substr(0, text.indexOf(\"ABCDABOUNDARYENDABC\")).replace(/\\s/g, \"\");\n  text = atou(text);\n  return text;\n}\nfunction daInjectTrim(handler) {\n  return function (element, event) {\n    if (\n      element.tagName === \"TEXTAREA\" ||\n      (element.tagName === \"INPUT\" &&\n        element.type !== \"password\" &&\n        element.type !== \"date\" &&\n        element.type !== \"datetime\" &&\n        element.type !== \"file\")\n    ) {\n      setTimeout(function () {\n        element.value = $.trim(element.value);\n      }, 10);\n    }\n    return handler.call(this, element, event);\n  };\n}\nfunction daInvalidHandler(form, validator) {\n  var errors = validator.numberOfInvalids();\n  var scrollTarget = null;\n  if (\n    errors &&\n    $(validator.errorList[0].element).parents(\".da-form-group\").length > 0\n  ) {\n    if (daJsEmbed) {\n      scrollTarget =\n        $(validator.errorList[0].element)\n          .parents(\".da-form-group\")\n          .first()\n          .position().top - 60;\n    } else {\n      scrollTarget =\n        $(validator.errorList[0].element)\n          .parents(\".da-form-group\")\n          .first()\n          .offset().top - 60;\n    }\n  }\n  if (scrollTarget != null) {\n    if (daJsEmbed) {\n      $(daTargetDiv).animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    } else {\n      $(\"html, body\").animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    }\n  }\n}\nvar daValidator;\nvar daValidationRules = {};\nfunction daValidationHandler(form) {\n  if (daObserverMode) {\n    return;\n  }\n  //form.submit();\n  //console.log(\"daValidationHandler\");\n  var visibleElements = [];\n  var seen = Object();\n  $(form)\n    .find(\"input, select, textarea\")\n    .filter(\":not(:disabled)\")\n    .each(function () {\n      //console.log(\"Considering an element\");\n      if (\n        $(this).attr(\"name\") &&\n        $(this).attr(\"type\") != \"hidden\" &&\n        (($(this).hasClass(\"da-active-invisible\") &&\n          $(this).parent().is(\":visible\")) ||\n          $(this).is(\":visible\"))\n      ) {\n        var theName = $(this).attr(\"name\");\n        //console.log(\"Including an element \" + theName);\n        if (!seen.hasOwnProperty(theName)) {\n          visibleElements.push(theName);\n          seen[theName] = 1;\n        }\n      }\n    });\n  $(form)\n    .find(\"input[name='_visible']\")\n    .val(utoa(JSON_stringify(visibleElements)));\n  $(form).each(function () {\n    $(this).find(\":input\").off(\"change\", daOnChange);\n  });\n  $(\"meta[name=viewport]\").attr(\n    \"content\",\n    \"width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0\",\n  );\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n  daDisable = setTimeout(function () {\n    $(form).find('input[type=\"submit\"]').prop(\"disabled\", true);\n    $(form).find('button[type=\"submit\"]').prop(\"disabled\", true);\n  }, 1);\n  if (daWhichButton != null) {\n    $(\".da-field-buttons .btn-da\").each(function () {\n      if (this != daWhichButton) {\n        $(this).removeClass(daAllButtonClasses);\n        $(this).addClass(daButtonStyle + \"light\");\n      }\n    });\n    if ($(daWhichButton).hasClass(daButtonStyle + \"success\")) {\n      $(daWhichButton).removeClass(daButtonStyle + \"success\");\n      $(daWhichButton).addClass(daButtonStyle + \"primary\");\n    } else {\n      $(daWhichButton).removeClass(\n        daButtonStyle +\n          \"primary \" +\n          daButtonStyle +\n          \"info \" +\n          daButtonStyle +\n          \"warning \" +\n          daButtonStyle +\n          \"danger \" +\n          daButtonStyle +\n          \"success \" +\n          daButtonStyle +\n          \"light\",\n      );\n      $(daWhichButton).addClass(daButtonStyle + \"secondary\");\n    }\n  }\n  var tableOrder = {};\n  var tableOrderChanges = {};\n  $(\"a.datableup\").each(function () {\n    var tableName = $(this).data(\"tablename\");\n    if (!tableOrder.hasOwnProperty(tableName)) {\n      tableOrder[tableName] = [];\n    }\n    tableOrder[tableName].push(parseInt($(this).data(\"tableitem\")));\n  });\n  var tableChanged = false;\n  for (var tableName in tableOrder) {\n    if (tableOrder.hasOwnProperty(tableName)) {\n      var n = tableOrder[tableName].length;\n      for (var i = 0; i < n; ++i) {\n        if (i != tableOrder[tableName][i]) {\n          tableChanged = true;\n          if (!tableOrderChanges.hasOwnProperty(tableName)) {\n            tableOrderChanges[tableName] = [];\n          }\n          tableOrderChanges[tableName].push([tableOrder[tableName][i], i]);\n        }\n      }\n    }\n  }\n  if (tableChanged) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"_order_changes\",\n        value: JSON.stringify(tableOrderChanges),\n      })\n      .appendTo($(form));\n  }\n  var collectToDelete = [];\n  $(\".dacollectunremove:visible\").each(function () {\n    collectToDelete.push(\n      parseInt($(this).parent().parent().data(\"collectnum\")),\n    );\n  });\n  var lastOk = parseInt(\n    $(\".dacollectremove:visible, .dacollectremoveexisting:visible\")\n      .last()\n      .parent()\n      .parent()\n      .data(\"collectnum\"),\n  );\n  $(\".dacollectremove, .dacollectremoveexisting\").each(function () {\n    if (parseInt($(this).parent().parent().data(\"collectnum\")) > lastOk) {\n      collectToDelete.push(\n        parseInt($(this).parent().parent().data(\"collectnum\")),\n      );\n    }\n  });\n  if (collectToDelete.length > 0) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"_collect_delete\",\n        value: JSON.stringify(collectToDelete),\n      })\n      .appendTo($(form));\n  }\n  $(\"select.damultiselect:not(:disabled)\").each(function () {\n    var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n    if (\n      showifParents.length == 0 ||\n      $(showifParents[0]).data(\"isVisible\") == \"1\"\n    ) {\n      $(this)\n        .find(\"option\")\n        .each(function () {\n          $(\"<input>\")\n            .attr({\n              type: \"hidden\",\n              name: $(this).val(),\n              value: $(this).prop(\"selected\") ? \"True\" : \"False\",\n            })\n            .appendTo($(form));\n        });\n    }\n    $(this).prop(\"disabled\", true);\n  });\n  daWhichButton = null;\n  if (\n    daSubmitter != null &&\n    daSubmitter.name &&\n    $('input[name=\"' + daSubmitter.name + '\"]').length == 0\n  ) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: daSubmitter.name,\n        value: daSubmitter.value,\n      })\n      .appendTo($(form));\n  }\n  if (daInformedChanged) {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"informed\",\n        value: Object.keys(daInformed).join(\",\"),\n      })\n      .appendTo($(form));\n  }\n  $(\"<input>\")\n    .attr({\n      type: \"hidden\",\n      name: \"ajax\",\n      value: \"1\",\n    })\n    .appendTo($(form));\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  var do_iframe_upload = false;\n  inline_succeeded = false;\n  if ($('input[name=\"_files\"]').length) {\n    var filesToRead = 0;\n    var filesRead = 0;\n    var newFileList = Array();\n    var nullFileList = Array();\n    var fileArray = { keys: Array(), values: Object() };\n    var file_list = JSON.parse(atou($('input[name=\"_files\"]').val()));\n    var inline_file_list = Array();\n    var namesWithImages = Object();\n    for (var i = 0; i < file_list.length; i++) {\n      var the_file_input = $(\n        \"#\" + file_list[i].replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\"),\n      )[0];\n      var the_max_size = $(the_file_input).data(\"maximagesize\");\n      var the_image_type = $(the_file_input).data(\"imagetype\");\n      var hasImages = false;\n      if (\n        typeof the_max_size != \"undefined\" ||\n        typeof the_image_type != \"undefined\"\n      ) {\n        for (var j = 0; j < the_file_input.files.length; j++) {\n          var the_file = the_file_input.files[j];\n          if (the_file.type.match(/image.*/)) {\n            hasImages = true;\n          }\n        }\n      }\n      if (hasImages || (daJsEmbed && the_file_input.files.length > 0)) {\n        for (var j = 0; j < the_file_input.files.length; j++) {\n          var the_file = the_file_input.files[j];\n          filesToRead++;\n        }\n        inline_file_list.push(file_list[i]);\n      } else if (the_file_input.files.length > 0) {\n        newFileList.push(file_list[i]);\n      } else {\n        nullFileList.push(file_list[i]);\n      }\n      namesWithImages[file_list[i]] = hasImages;\n    }\n    if (inline_file_list.length > 0) {\n      var originalFileList = atou($('input[name=\"_files\"]').val());\n      if (newFileList.length == 0 && nullFileList.length == 0) {\n        $('input[name=\"_files\"]').remove();\n      } else {\n        $('input[name=\"_files\"]').val(\n          utoa(JSON_stringify(newFileList.concat(nullFileList))),\n        );\n      }\n      for (var i = 0; i < inline_file_list.length; i++) {\n        fileArray.keys.push(inline_file_list[i]);\n        fileArray.values[inline_file_list[i]] = Array();\n        var fileInfoList = fileArray.values[inline_file_list[i]];\n        var file_input = $(\n          \"#\" + inline_file_list[i].replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\"),\n        )[0];\n        var max_size;\n        var image_type;\n        var image_mime_type;\n        var this_has_images = false;\n        if (namesWithImages[inline_file_list[i]]) {\n          this_has_images = true;\n          max_size = parseInt($(file_input).data(\"maximagesize\"));\n          image_type = $(file_input).data(\"imagetype\");\n          image_mime_type = null;\n          if (image_type) {\n            if (image_type == \"png\") {\n              image_mime_type = \"image/png\";\n            } else if (image_type == \"bmp\") {\n              image_mime_type = \"image/bmp\";\n            } else {\n              image_mime_type = \"image/jpeg\";\n              image_type = \"jpg\";\n            }\n          }\n        }\n        for (var j = 0; j < file_input.files.length; j++) {\n          var a_file = file_input.files[j];\n          var tempFunc = function (the_file, max_size, has_images) {\n            var reader = new FileReader();\n            var thisFileInfo = {\n              name: the_file.name,\n              size: the_file.size,\n              type: the_file.type,\n            };\n            fileInfoList.push(thisFileInfo);\n            reader.onload = function (readerEvent) {\n              if (\n                has_images &&\n                the_file.type.match(/image.*/) &&\n                !(the_file.type.indexOf(\"image/svg\") == 0)\n              ) {\n                var convertedName = the_file.name;\n                var convertedType = the_file.type;\n                if (image_type) {\n                  var pos = the_file.name.lastIndexOf(\".\");\n                  convertedName =\n                    the_file.name.substr(\n                      0,\n                      pos < 0 ? the_file.name.length : pos,\n                    ) +\n                    \".\" +\n                    image_type;\n                  convertedType = image_mime_type;\n                  thisFileInfo.name = convertedName;\n                  thisFileInfo.type = convertedType;\n                }\n                var image = new Image();\n                image.onload = function (imageEvent) {\n                  var canvas = document.createElement(\"canvas\"),\n                    width = image.width,\n                    height = image.height;\n                  if (width > height) {\n                    if (width > max_size) {\n                      height *= max_size / width;\n                      width = max_size;\n                    }\n                  } else {\n                    if (height > max_size) {\n                      width *= max_size / height;\n                      height = max_size;\n                    }\n                  }\n                  canvas.width = width;\n                  canvas.height = height;\n                  canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height);\n                  thisFileInfo[\"content\"] = canvas.toDataURL(convertedType);\n                  filesRead++;\n                  if (filesRead >= filesToRead) {\n                    daResumeUploadSubmission(\n                      form,\n                      fileArray,\n                      inline_file_list,\n                      newFileList,\n                    );\n                  }\n                };\n                image.src = reader.result;\n              } else {\n                thisFileInfo[\"content\"] = reader.result;\n                filesRead++;\n                if (filesRead >= filesToRead) {\n                  daResumeUploadSubmission(\n                    form,\n                    fileArray,\n                    inline_file_list,\n                    newFileList,\n                  );\n                }\n              }\n            };\n            reader.readAsDataURL(the_file);\n          };\n          tempFunc(a_file, max_size, this_has_images);\n          inline_succeeded = true;\n        }\n      }\n    }\n    if (newFileList.length == 0) {\n      //$('input[name=\"_files\"]').remove();\n    } else {\n      do_iframe_upload = true;\n    }\n  }\n  if (inline_succeeded) {\n    return false;\n  }\n  if (do_iframe_upload) {\n    $(\"#dauploadiframe\").remove();\n    var iframe = $(\n      '<iframe name=\"dauploadiframe\" id=\"dauploadiframe\" style=\"display: none\"></iframe>',\n    );\n    $(daTargetDiv).append(iframe);\n    $(form).attr(\"target\", \"dauploadiframe\");\n    iframe.bind(\"load\", function () {\n      setTimeout(function () {\n        try {\n          daProcessAjax(\n            $.parseJSON(\n              daUnfakeHtmlResponse($(\"#dauploadiframe\").contents().text()),\n            ),\n            form,\n            1,\n          );\n        } catch (e) {\n          try {\n            daProcessAjax(\n              $.parseJSON($(\"#dauploadiframe\").contents().text()),\n              form,\n              1,\n            );\n          } catch (f) {\n            daShowErrorScreen(\n              document.getElementById(\"dauploadiframe\").contentWindow.document\n                .body.innerHTML,\n              f,\n            );\n          }\n        }\n      }, 0);\n    });\n    form.submit();\n  } else {\n    daRequestPending = true;\n    $.ajax({\n      type: \"POST\",\n      url: daInterviewUrl,\n      data: $(form).serialize(),\n      beforeSend: addCsrfHeader,\n      xhrFields: {\n        withCredentials: true,\n      },\n      success: function (data) {\n        setTimeout(function () {\n          daProcessAjax(data, form, 1);\n        }, 0);\n      },\n      error: function (xhr, status, error) {\n        setTimeout(function () {\n          daProcessAjaxError(xhr, status, error);\n        }, 0);\n      },\n    });\n  }\n  return false;\n}\nfunction daSetupValidation(rules, messages) {\n  daValidationRules = rules;\n  daValidationRules.submitHandler = daValidationHandler;\n  daValidationRules.invalidHandler = daInvalidHandler;\n  daValidationRules.onfocusout = daInjectTrim($.validator.defaults.onfocusout);\n  if ($(\"#daform\").length > 0) {\n    daValidator = $(\"#daform\").validate(daValidationRules);\n    if (Object.keys(messages).length > 0) {\n      daValidator.showErrors(messages);\n    }\n  }\n}\nfunction daRecordLocation() {\n  if (document.getElementById(\"da_track_location\") == null) {\n    return;\n  }\n  if (navigator.geolocation) {\n    document.getElementById(\"da_track_location\").value = JSON.stringify({\n      error: \"getCurrentPosition was still running\",\n    });\n    navigator.geolocation.getCurrentPosition(daSetPosition, daShowError, {\n      timeout: 1000,\n      maximumAge: 3600000,\n    });\n  } else {\n    document.getElementById(\"da_track_location\").value = JSON.stringify({\n      error: \"navigator.geolocation not available in browser\",\n    });\n  }\n}\nfunction daSignatureSubmit(event) {\n  $(this).find(\"input[name='ajax']\").val(1);\n  daRequestPending = true;\n  $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    data: $(this).serialize(),\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(this), 1);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n  event.preventDefault();\n  event.stopPropagation();\n  return false;\n}\nfunction JSON_stringify(s) {\n  var json = JSON.stringify(s);\n  return json.replace(/[\\u007f-\\uffff]/g, function (c) {\n    return \"\\\\u\" + (\"0000\" + c.charCodeAt(0).toString(16)).slice(-4);\n  });\n}\nfunction daResumeUploadSubmission(\n  form,\n  fileArray,\n  inline_file_list,\n  newFileList,\n) {\n  $(\"<input>\")\n    .attr({\n      type: \"hidden\",\n      name: \"_files_inline\",\n      value: utoa(JSON_stringify(fileArray)),\n    })\n    .appendTo($(form));\n  for (var i = 0; i < inline_file_list.length; ++i) {\n    document.getElementById(inline_file_list[i]).disabled = true;\n  }\n  if (newFileList.length > 0) {\n    $(\"#dauploadiframe\").remove();\n    var iframe = $(\n      '<iframe name=\"dauploadiframe\" id=\"dauploadiframe\" style=\"display: none\"></iframe>',\n    );\n    $(daTargetDiv).append(iframe);\n    $(form).attr(\"target\", \"dauploadiframe\");\n    iframe.bind(\"load\", function () {\n      setTimeout(function () {\n        daProcessAjax(\n          $.parseJSON($(\"#dauploadiframe\").contents().text()),\n          form,\n          1,\n        );\n      }, 0);\n    });\n    form.submit();\n  } else {\n    daRequestPending = true;\n    $.ajax({\n      type: \"POST\",\n      url: daInterviewUrl,\n      data: $(form).serialize(),\n      beforeSend: addCsrfHeader,\n      xhrFields: {\n        withCredentials: true,\n      },\n      success: function (data) {\n        setTimeout(function () {\n          daProcessAjax(data, form, 1);\n        }, 0);\n      },\n      error: function (xhr, status, error) {\n        setTimeout(function () {\n          daProcessAjaxError(xhr, status, error);\n        }, 0);\n      },\n    });\n  }\n}\nfunction daOnChange() {\n  if (daObserverMode) {\n    return;\n  }\n  if (daCheckinSeconds == 0 || daShowIfInProcess) {\n    return true;\n  }\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n  var oThis = this;\n  daCheckin(oThis);\n  daCheckinInterval = setInterval(daCheckin, daCheckinSeconds);\n  return true;\n}\nfunction daPushChanges() {\n  //console.log(\"daPushChanges\");\n  if (daObserverMode) {\n    if (daObserverChangesInterval != null) {\n      clearInterval(daObserverChangesInterval);\n    }\n    if (!daSendChanges || !daConnected) {\n      return;\n    }\n    daObserverChangesInterval = setInterval(daPushChanges, daCheckinSeconds);\n    daSocket.emit(\"observerChanges\", {\n      uid: daUid,\n      i: daYamlFilename,\n      userid: daUserObserved,\n      parameters: JSON.stringify($(\"#daform\").serializeArray()),\n    });\n    return;\n  }\n  if (daCheckinSeconds == 0 || daShowIfInProcess) {\n    return true;\n  }\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n  daCheckin(null);\n  daCheckinInterval = setInterval(daCheckin, daCheckinSeconds);\n  return true;\n}\nfunction daProcessAjaxError(xhr, status, error) {\n  daRequestPending = false;\n  if (\n    xhr.responseType == undefined ||\n    xhr.responseType == \"\" ||\n    xhr.responseType == \"text\"\n  ) {\n    var theHtml = xhr.responseText;\n    if (theHtml == undefined) {\n      $(daTargetDiv).html(\"error\");\n    } else {\n      var newDiv = document.createElement(\"div\");\n      $(newDiv).html(theHtml);\n      var daDivs = $(newDiv).children(\"div\");\n      if (daDivs.length > 0) {\n        $(daTargetDiv).empty();\n        for (var i = 0; i < daDivs.length; i++) {\n          $(daTargetDiv).append(daDivs[i]);\n        }\n        var otherScripts = $(newDiv).children(\"script\");\n        if (otherScripts.length > 0) {\n          for (var i = 0; i < otherScripts.length; i++) {\n            var theHtml = $(otherScripts[i]).html();\n            if (theHtml.startsWith(\"Object.assign\")) {\n              eval(theHtml);\n            }\n          }\n        }\n        if (daErrorScript) {\n          var errorScriptDiv = document.createElement(\"div\");\n          $(errorScriptDiv).html(daErrorScript);\n          var daScripts = $(errorScriptDiv).find(\"script\");\n          if (daScripts.length > 0) {\n            for (var i = 0; i < daScripts.length; i++) {\n              var theHtml = $(daScripts[i]).html();\n              if (theHtml) {\n                eval(theHtml);\n              } else {\n                var scriptElement = document.createElement(\"script\");\n                scriptElement.src = $(daScripts[i]).attr(\"src\");\n                document.body.appendChild(scriptElement);\n              }\n            }\n          }\n          delete errorScriptDiv;\n        }\n        $(\"#da-retry\").on(\"click\", function (e) {\n          location.reload();\n          e.preventDefault();\n          return false;\n        });\n        daShowNotifications();\n        $(document).trigger(\"daPageError\");\n      } else {\n        $(daTargetDiv).html(theHtml);\n      }\n      delete newDiv;\n    }\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n    } else {\n      window.scrollTo(0, 1);\n    }\n  } else {\n    console.log(\"daProcessAjaxError: response was not text\");\n  }\n}\nfunction daAddScriptToHead(src) {\n  var head = document.getElementsByTagName(\"head\")[0];\n  var script = document.createElement(\"script\");\n  script.src = src;\n  script.async = true;\n  script.defer = true;\n  head.appendChild(script);\n}\n$(document).on(\"keydown\", function (e) {\n  if (e.which == 13) {\n    if (daShowingHelp == 0) {\n      var tag = $(document.activeElement).prop(\"tagName\");\n      if (\n        tag != \"INPUT\" &&\n        tag != \"TEXTAREA\" &&\n        tag != \"A\" &&\n        tag != \"LABEL\" &&\n        tag != \"BUTTON\"\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (\n          $(\"#daform .da-field-buttons button\").not(\".danonsubmit\").length == 1\n        ) {\n          $(\"#daform .da-field-buttons button\").not(\".danonsubmit\").click();\n        }\n        return false;\n      }\n    }\n    if ($(document.activeElement).hasClass(\"btn-file\")) {\n      e.preventDefault();\n      e.stopPropagation();\n      $(document.activeElement).find(\"input\").click();\n      return false;\n    }\n  }\n});\nfunction daShowErrorScreen(data, error) {\n  console.log(\"daShowErrorScreen: \" + error);\n  if (\"activeElement\" in document) {\n    document.activeElement.blur();\n  }\n  $(daTargetDiv).html(data);\n}\nfunction daEvalExtraScript(info) {\n  switch (info.type) {\n    case \"custom\":\n      daGlobalEval(info.script);\n      break;\n    case \"listeners\":\n      daAddListenersFor(info.element);\n      break;\n    case \"enable_tracking\":\n      daTrackingEnabled = true;\n      break;\n    case \"autocomplete\":\n      daInitAutocomplete(info.info);\n      break;\n    case \"autocomplete_old\":\n      daInitAutocompleteOld(info.info);\n      break;\n    case \"map\":\n      daInitMap(info.maps);\n      break;\n    case \"validation\":\n      daSetupValidation(info.rules, info.messages);\n      break;\n    case \"slider\":\n      $(\"#\" + info.id).slider({ tooltip: \"always\", enabled: info.enabled });\n      break;\n    case \"signature\":\n      daInitializeSignature(info.color, info.default);\n      break;\n    case \"wait\":\n      daWaitPage = true;\n      if (daInitialCheckinTimeout != null) {\n        clearTimeout(daInitialCheckinTimeout);\n      }\n      if (daCheckinInterval != null) {\n        clearInterval(daCheckinInterval);\n      }\n      if (daSpinnerTimeout == null && !daShowingSpinner) {\n        daShowSpinner();\n      }\n      setTimeout(daRefreshSubmit, (info.sleep || 4) * 1000);\n      break;\n  }\n}\nfunction daProcessAjax(data, form, doScroll, actionURL) {\n  daRequestPending = false;\n  daInformedChanged = false;\n  if (daDisable != null) {\n    clearTimeout(daDisable);\n  }\n  daCsrf = data.csrf_token;\n  if (data.question_data) {\n    daQuestionData = data.question_data;\n  }\n  if (data.action == \"body\") {\n    daWaitPage = false;\n    if (daShouldForceFullScreen) {\n      daForceFullScreen(data);\n    }\n    if (\"activeElement\" in document) {\n      document.activeElement.blur();\n    }\n    $(daTargetDiv).html(\"\");\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n    } else {\n      window.scrollTo(0, 1);\n    }\n    $(daTargetDiv).html(data.body);\n    $(daTargetDiv).parent().removeClass();\n    $(daTargetDiv).parent().addClass(data.bodyclass);\n    $(\"meta[name=viewport]\").attr(\n      \"content\",\n      \"width=device-width, initial-scale=1\",\n    );\n    daDoAction = data.do_action;\n    //daNextAction = data.next_action;\n    daChatAvailable = data.livehelp.availability;\n    daChatMode = data.livehelp.mode;\n    daChatRoles = data.livehelp.roles;\n    daChatPartnerRoles = data.livehelp.partner_roles;\n    daSteps = data.steps;\n    //console.log(\"daProcessAjax: pushing \" + daSteps);\n    if (!daJsEmbed && !daIframeEmbed) {\n      if (history.state != null && daSteps > history.state.steps) {\n        history.pushState(\n          { steps: daSteps },\n          data.browser_title + \" - page \" + daSteps,\n          daLocationBar + daPageSep + daSteps,\n        );\n      } else {\n        history.replaceState(\n          { steps: daSteps },\n          \"\",\n          daLocationBar + daPageSep + daSteps,\n        );\n      }\n    }\n    daAllowGoingBack = data.allow_going_back;\n    daQuestionID = data.id_dict;\n    daMessageLog = data.message_log;\n    daInitialize(doScroll);\n    //var tempDiv = document.createElement(\"div\");\n    //tempDiv.innerHTML = data.extra_scripts;\n    //var scripts = tempDiv.getElementsByTagName(\"script\");\n    //for (var i = 0; i < scripts.length; i++) {\n    for (var i = 0; i < data.extra_scripts.length; i++) {\n      //console.log(\"Found one script\");\n      //if (script[i].src != \"\") {\n      //console.log(\"Added script to head\");\n      //daAddScriptToHead(scripts[i].src);\n      //} else {\n      //daGlobalEval(scripts[i].innerHTML);\n      //}\n      daEvalExtraScript(data.extra_scripts[i]);\n    }\n    $(\".da-group-has-error\").each(function () {\n      if ($(this).is(\":visible\")) {\n        if (daJsEmbed) {\n          var scrollToTarget = $(this).position().top - 60;\n          setTimeout(function () {\n            $(daTargetDiv).animate({ scrollTop: scrollToTarget }, 1000);\n          }, 100);\n        } else {\n          var scrollToTarget = $(this).offset().top - 60;\n          setTimeout(function () {\n            $(daTargetDiv)\n              .parent()\n              .parent()\n              .animate({ scrollTop: scrollToTarget }, 1000);\n          }, 100);\n        }\n        return false;\n      }\n    });\n    for (var i = 0; i < data.extra_css.length; i++) {\n      $(\"head\").append(data.extra_css[i]);\n    }\n    document.title = data.browser_title;\n    if ($(\"html\").attr(\"lang\") != data.lang) {\n      $(\"html\").attr(\"lang\", data.lang);\n    }\n    if (daTrackingEnabled) {\n      daRecordLocation();\n    }\n    $(document).trigger(\"daPageLoad\");\n    if (daReloader != null) {\n      clearTimeout(daReloader);\n    }\n    if (data.reload_after != null && data.reload_after > 0) {\n      //daReloader = setTimeout(function(){location.reload();}, data.reload_after);\n      daReloader = setTimeout(function () {\n        daRefreshSubmit();\n      }, data.reload_after);\n    }\n    daUpdateHeight();\n  } else if (data.action == \"redirect\") {\n    if (daSpinnerTimeout != null) {\n      clearTimeout(daSpinnerTimeout);\n      daSpinnerTimeout = null;\n    }\n    if (daShowingSpinner) {\n      daHideSpinner();\n    }\n    window.location = data.url;\n  } else if (data.action == \"refresh\") {\n    daRefreshSubmit();\n  } else if (data.action == \"reload\") {\n    location.reload(true);\n  } else if (data.action == \"resubmit\") {\n    if (form == null) {\n      window.location = actionURL;\n    }\n    $(\"input[name='ajax']\").remove();\n    if (\n      daSubmitter != null &&\n      daSubmitter.name &&\n      $('input[name=\"' + daSubmitter.name + '\"]').length == 0\n    ) {\n      var input = $(\"<input>\")\n        .attr(\"type\", \"hidden\")\n        .attr(\"name\", daSubmitter.name)\n        .val(daSubmitter.value);\n      $(form).append($(input));\n    }\n    form.submit();\n  } else if (data.action == \"wait\") {\n    if (daSpinnerTimeout == null && !daShowingSpinner) {\n      daShowSpinner();\n    }\n    setTimeout(daRefreshSubmit, (data.sleep || 4) * 1000);\n  }\n}\nfunction daEmbeddedJs(e) {\n  //console.log(\"using embedded js\");\n  var data = decodeURIComponent($(this).data(\"js\"));\n  daGlobalEval(data);\n  e.preventDefault();\n  return false;\n}\nfunction daEmbeddedAction(e) {\n  if (daRequestPending) {\n    e.preventDefault();\n    $(this).blur();\n    return false;\n  }\n  if ($(this).hasClass(\"daremovebutton\")) {\n    if (confirm(daAreYouSure)) {\n      return true;\n    }\n    e.preventDefault();\n    $(this).blur();\n    return false;\n  }\n  var actionData = decodeURIComponent($(this).data(\"embaction\"));\n  var theURL = $(this).attr(\"href\");\n  daRequestPending = true;\n  $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    data: $.param({ _action: actionData, csrf_token: daCsrf, ajax: 1 }),\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, null, 1, theURL);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n    dataType: \"json\",\n  });\n  daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n  e.preventDefault();\n  return false;\n}\nfunction daReviewAction(e) {\n  if (daRequestPending) {\n    e.preventDefault();\n    $(this).blur();\n    return false;\n  }\n  //action_perform_with_next($(this).data('action'), null, daNextAction);\n  var info = $.parseJSON(atou($(this).data(\"action\")));\n  da_action_perform(info[\"action\"], info[\"arguments\"]);\n  e.preventDefault();\n  return false;\n}\nfunction daRingChat() {\n  daChatStatus = \"ringing\";\n  daPushChanges();\n}\nfunction daTurnOnChat() {\n  //console.log(\"Publishing from daTurnOnChat\");\n  $(\"#daChatOnButton\").addClass(\"dainvisible\");\n  $(\"#daChatBox\").removeClass(\"dainvisible\");\n  $(\"#daCorrespondence\").html(\"\");\n  for (var i = 0; i < daChatHistory.length; i++) {\n    daPublishMessage(daChatHistory[i]);\n  }\n  daScrollChatFast();\n  $(\"#daMessage\").prop(\"disabled\", false);\n  if (daShowingHelp) {\n    $(\"#daMessage\").focus();\n  }\n}\nfunction daCloseChat() {\n  //console.log('daCloseChat');\n  daChatStatus = \"hangup\";\n  daPushChanges();\n  if (daSocket != null && daSocket.connected) {\n    daSocket.disconnect();\n  }\n}\n// function daTurnOffChat(){\n//   $(\"#daChatOnButton\").removeClass(\"dainvisible\");\n//   $(\"#daChatBox\").addClass(\"dainvisible\");\n//   //daCloseSocket();\n//   $(\"#daMessage\").prop('disabled', true);\n//   $(\"#daSend\").unbind();\n//   //daStartCheckingIn();\n// }\nfunction daDisplayChat() {\n  if (daChatStatus == \"off\" || daChatStatus == \"observeonly\") {\n    $(\"#daChatBox\").addClass(\"dainvisible\");\n    $(\"#daChatAvailable\").addClass(\"dainvisible\");\n    $(\"#daChatOnButton\").addClass(\"dainvisible\");\n  } else {\n    if (daChatStatus == \"waiting\") {\n      if (daChatPartnersAvailable > 0) {\n        $(\"#daChatBox\").removeClass(\"dainvisible\");\n      }\n    } else {\n      $(\"#daChatBox\").removeClass(\"dainvisible\");\n    }\n  }\n  if (daChatStatus == \"waiting\") {\n    //console.log(\"I see waiting\")\n    if (daChatHistory.length > 0) {\n      $(\"#daChatAvailable a i\").removeClass(\"da-chat-active\");\n      $(\"#daChatAvailable a i\").addClass(\"da-chat-inactive\");\n      $(\"#daChatAvailable\").removeClass(\"dainvisible\");\n    } else {\n      $(\"#daChatAvailable a i\").removeClass(\"da-chat-active\");\n      $(\"#daChatAvailable a i\").removeClass(\"da-chat-inactive\");\n      $(\"#daChatAvailable\").addClass(\"dainvisible\");\n    }\n    $(\"#daChatOnButton\").addClass(\"dainvisible\");\n    $(\"#daChatOffButton\").addClass(\"dainvisible\");\n    $(\"#daMessage\").prop(\"disabled\", true);\n    $(\"#daSend\").prop(\"disabled\", true);\n  }\n  if (daChatStatus == \"standby\" || daChatStatus == \"ready\") {\n    //console.log(\"I see standby\")\n    $(\"#daChatAvailable\").removeClass(\"dainvisible\");\n    $(\"#daChatAvailable a i\").removeClass(\"da-chat-inactive\");\n    $(\"#daChatAvailable a i\").addClass(\"da-chat-active\");\n    $(\"#daChatOnButton\").removeClass(\"dainvisible\");\n    $(\"#daChatOffButton\").addClass(\"dainvisible\");\n    $(\"#daMessage\").prop(\"disabled\", true);\n    $(\"#daSend\").prop(\"disabled\", true);\n    daInformAbout(\"chat\");\n  }\n  if (daChatStatus == \"on\") {\n    $(\"#daChatAvailable\").removeClass(\"dainvisible\");\n    $(\"#daChatAvailable a i\").removeClass(\"da-chat-inactive\");\n    $(\"#daChatAvailable a i\").addClass(\"da-chat-active\");\n    $(\"#daChatOnButton\").addClass(\"dainvisible\");\n    $(\"#daChatOffButton\").removeClass(\"dainvisible\");\n    $(\"#daMessage\").prop(\"disabled\", false);\n    if (daShowingHelp) {\n      $(\"#daMessage\").focus();\n    }\n    $(\"#daSend\").prop(\"disabled\", false);\n    daInformAbout(\"chat\");\n  }\n  hideTablist();\n}\nfunction daChatLogCallback(data) {\n  if (data.action && data.action == \"reload\") {\n    location.reload(true);\n  }\n  //console.log(\"daChatLogCallback: success is \" + data.success);\n  if (data.success) {\n    $(\"#daCorrespondence\").html(\"\");\n    daChatHistory = [];\n    var messages = data.messages;\n    for (var i = 0; i < messages.length; ++i) {\n      daChatHistory.push(messages[i]);\n      daPublishMessage(messages[i]);\n    }\n    daDisplayChat();\n    daScrollChatFast();\n  }\n}\nfunction daRefreshSubmit() {\n  daRequestPending = true;\n  $.ajax({\n    type: \"POST\",\n    url: daInterviewUrl,\n    data: \"csrf_token=\" + daCsrf + \"&ajax=1\",\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    success: function (data) {\n      setTimeout(function () {\n        daProcessAjax(data, $(\"#daform\"), 0);\n      }, 0);\n    },\n    error: function (xhr, status, error) {\n      setTimeout(function () {\n        daProcessAjaxError(xhr, status, error);\n      }, 0);\n    },\n  });\n}\nfunction daResetCheckinCode() {\n  daCheckinCode = Math.random();\n}\nfunction daCheckinCallback(data) {\n  if (data.action && data.action == \"reload\") {\n    location.reload(true);\n  }\n  daCheckingIn = 0;\n  //console.log(\"daCheckinCallback: success is \" + data.success);\n  if (data.checkin_code != daCheckinCode) {\n    console.log(\"Ignoring checkincallback because code is wrong\");\n    return;\n  }\n  if (data.success) {\n    if (data.commands.length > 0) {\n      for (var i = 0; i < data.commands.length; ++i) {\n        var command = data.commands[i];\n        if (command.extra == \"flash\") {\n          if (!$(\"#daflash\").length) {\n            $(daTargetDiv).append(daSprintf(daNotificationContainer, \"\"));\n          }\n          $(\"#daflash\").append(\n            daSprintf(daNotificationMessage, \"info\", command.value),\n          );\n          //console.log(\"command is \" + command.value);\n        } else if (command.extra == \"refresh\") {\n          daRefreshSubmit();\n        } else if (command.extra == \"javascript\") {\n          //console.log(\"I should eval\" + command.value);\n          daGlobalEval(command.value);\n        } else if (command.extra == \"fields\") {\n          for (var key in command.value) {\n            if (command.value.hasOwnProperty(key)) {\n              if (\n                typeof command.value[key] === \"object\" &&\n                command.value[key] !== null\n              ) {\n                if (command.value[key].hasOwnProperty(\"choices\")) {\n                  daSetChoices(key, command.value[key][\"choices\"]);\n                }\n                if (command.value[key].hasOwnProperty(\"value\")) {\n                  daSetField(key, command.value[key][\"value\"]);\n                }\n              } else {\n                daSetField(key, command.value[key]);\n              }\n            }\n          }\n        } else if (command.extra == \"backgroundresponse\") {\n          var assignments = Array();\n          if (\n            command.value.hasOwnProperty(\"target\") &&\n            command.value.hasOwnProperty(\"content\")\n          ) {\n            assignments.push({\n              target: command.value.target,\n              content: command.value.content,\n            });\n          }\n          if (Array.isArray(command.value)) {\n            for (i = 0; i < command.value.length; ++i) {\n              var possible_assignment = command.value[i];\n              if (\n                possible_assignment.hasOwnProperty(\"target\") &&\n                possible_assignment.hasOwnProperty(\"content\")\n              ) {\n                assignments.push({\n                  target: possible_assignment.target,\n                  content: possible_assignment.content,\n                });\n              }\n            }\n          }\n          for (i = 0; i < assignments.length; ++i) {\n            var assignment = assignments[i];\n            $(\".datarget\" + assignment.target.replace(/[^A-Za-z0-9\\_]/g)).prop(\n              \"innerHTML\",\n              assignment.content,\n            );\n          }\n          //console.log(\"Triggering daCheckIn\");\n          $(document).trigger(\"daCheckIn\", [command.action, command.value]);\n        }\n      }\n      // setTimeout(function(){\n      //   $(\"#daflash .daalert-interlocutory\").hide(300, function(){\n      //     $(self).remove();\n      //   });\n      // }, 5000);\n    }\n    oldDaChatStatus = daChatStatus;\n    //console.log(\"daCheckinCallback: from \" + daChatStatus + \" to \" + data.chat_status);\n    if (data.phone == null) {\n      $(\"#daPhoneMessage\").addClass(\"dainvisible\");\n      $(\"#daPhoneMessage p\").html(\"\");\n      $(\"#daPhoneAvailable\").addClass(\"dainvisible\");\n      daPhoneAvailable = false;\n    } else {\n      $(\"#daPhoneMessage\").removeClass(\"dainvisible\");\n      $(\"#daPhoneMessage p\").html(data.phone);\n      $(\"#daPhoneAvailable\").removeClass(\"dainvisible\");\n      daPhoneAvailable = true;\n      daInformAbout(\"phone\");\n    }\n    var statusChanged;\n    if (daChatStatus == data.chat_status) {\n      statusChanged = false;\n    } else {\n      statusChanged = true;\n    }\n    if (statusChanged) {\n      daChatStatus = data.chat_status;\n      daDisplayChat();\n      if (daChatStatus == \"ready\") {\n        // console.log(\"calling initialize socket because ready\");\n        daInitializeSocket();\n      }\n    }\n    daChatPartnersAvailable = 0;\n    if (daChatMode == \"peer\" || daChatMode == \"peerhelp\") {\n      daChatPartnersAvailable += data.num_peers;\n      if (data.num_peers == 1) {\n        $(\"#dapeerMessage\").html(\n          '<span class=\"badge bg-info\">' +\n            data.num_peers +\n            \" \" +\n            daOtherUser +\n            \"</span>\",\n        );\n      } else {\n        $(\"#dapeerMessage\").html(\n          '<span class=\"badge bg-info\">' +\n            data.num_peers +\n            \" \" +\n            daOtherUsers +\n            \"</span>\",\n        );\n      }\n      $(\"#dapeerMessage\").removeClass(\"dainvisible\");\n    } else {\n      $(\"#dapeerMessage\").addClass(\"dainvisible\");\n    }\n    if (daChatMode == \"peerhelp\" || daChatMode == \"help\") {\n      if (data.help_available == 1) {\n        $(\"#dapeerHelpMessage\").html(\n          '<span class=\"badge bg-primary\">' +\n            data.help_available +\n            \" \" +\n            daOperator +\n            \"</span>\",\n        );\n      } else {\n        $(\"#dapeerHelpMessage\").html(\n          '<span class=\"badge bg-primary\">' +\n            data.help_available +\n            \" \" +\n            daOperators +\n            \"</span>\",\n        );\n      }\n      $(\"#dapeerHelpMessage\").removeClass(\"dainvisible\");\n    } else {\n      $(\"#dapeerHelpMessage\").addClass(\"dainvisible\");\n    }\n    if (daBeingControlled) {\n      if (!data.observerControl) {\n        daBeingControlled = false;\n        //console.log(\"Hiding control 1\");\n        daHideControl();\n        if (daChatStatus != \"on\") {\n          if (daSocket != null && daSocket.connected) {\n            //console.log('Terminating interview socket because control is over');\n            daSocket.emit(\"terminate\");\n          }\n        }\n      }\n    } else {\n      if (data.observerControl) {\n        daBeingControlled = true;\n        daInitializeSocket();\n      }\n    }\n  }\n  hideTablist();\n}\nfunction daCheckoutCallback(data) {}\nfunction daInitialCheckin() {\n  daCheckin(\"initial\");\n}\nfunction daCheckin(elem) {\n  //console.log(\"daCheckin\");\n  var elem = typeof elem === \"undefined\" ? null : elem;\n  daCheckingIn += 1;\n  //if (daCheckingIn > 1 && !(daCheckingIn % 3)){\n  if (elem === null && daCheckingIn > 1) {\n    //console.log(\"daCheckin: request already pending, not re-sending\");\n    return;\n  }\n  var datastring;\n  if (daChatStatus != \"off\" && $(\"#daform\").length > 0 && !daBeingControlled) {\n    if (daDoAction != null) {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        parameters: daFormAsJSON(elem),\n        raw_parameters: JSON.stringify($(\"#daform\").serializeArray()),\n        do_action: daDoAction,\n        ajax: \"1\",\n      });\n    } else {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        parameters: daFormAsJSON(elem),\n        raw_parameters: JSON.stringify($(\"#daform\").serializeArray()),\n        ajax: \"1\",\n      });\n    }\n  } else {\n    if (daDoAction != null) {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        do_action: daDoAction,\n        parameters: daFormAsJSON(elem),\n        ajax: \"1\",\n      });\n    } else {\n      datastring = $.param({\n        action: \"checkin\",\n        chatstatus: daChatStatus,\n        chatmode: daChatMode,\n        csrf_token: daCsrf,\n        checkinCode: daCheckinCode,\n        ajax: \"1\",\n      });\n    }\n  }\n  //console.log(\"Doing checkin with \" + daChatStatus);\n  $.ajax({\n    type: \"POST\",\n    url: daCheckinUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: datastring,\n    success: daCheckinCallback,\n    dataType: \"json\",\n  });\n  return true;\n}\nfunction daCheckout() {\n  $.ajax({\n    type: \"POST\",\n    url: daCheckoutUrl,\n    beforeSend: addCsrfHeader,\n    xhrFields: {\n      withCredentials: true,\n    },\n    data: \"csrf_token=\" + daCsrf + \"&ajax=1&action=checkout\",\n    success: daCheckoutCallback,\n    dataType: \"json\",\n  });\n  return true;\n}\nfunction daStopCheckingIn() {\n  daCheckout();\n  if (daCheckinInterval != null) {\n    clearInterval(daCheckinInterval);\n  }\n}\nfunction daShowSpinner() {\n  if ($(\"#daquestion\").length > 0) {\n    $(\n      '<div id=\"daSpinner\" class=\"da-spinner-container da-top-for-navbar\"><div class=\"container\"><div class=\"row\"><div class=\"col text-center\"><span class=\"da-spinner\"><i class=\"fa-solid fa-spinner fa-spin\"></i></span></div></div></div></div>',\n    ).appendTo(daTargetDiv);\n  } else {\n    var newSpan = document.createElement(\"span\");\n    var newI = document.createElement(\"i\");\n    $(newI).addClass(\"fa-solid fa-spinner fa-spin\");\n    $(newI).appendTo(newSpan);\n    $(newSpan).attr(\"id\", \"daSpinner\");\n    $(newSpan).addClass(\"da-sig-spinner da-top-for-navbar\");\n    $(newSpan).appendTo(\"#dasigtoppart\");\n  }\n  daShowingSpinner = true;\n}\nfunction daHideSpinner() {\n  $(\"#daSpinner\").remove();\n  daShowingSpinner = false;\n  daSpinnerTimeout = null;\n}\nfunction daObserverSubmitter(event) {\n  if (!daSendChanges || !daConnected) {\n    event.preventDefault();\n    return false;\n  }\n  var theAction = null;\n  if ($(this).hasClass(\"da-review-action\")) {\n    theAction = $(this).data(\"action\");\n  }\n  var embeddedJs = $(this).data(\"js\");\n  var embeddedAction = $(this).data(\"embaction\");\n  var linkNum = $(this).data(\"linknum\");\n  var theId = $(this).attr(\"id\");\n  if (theId == \"dapagetitle\") {\n    theId = \"daquestionlabel\";\n  }\n  var theName = $(this).attr(\"name\");\n  var theValue = $(this).val();\n  var skey;\n  if (linkNum) {\n    skey = 'a[data-linknum=\"' + linkNum + '\"]';\n  } else if (embeddedAction) {\n    skey =\n      'a[data-embaction=\"' +\n      embeddedAction.replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\") +\n      '\"]';\n  } else if (theAction) {\n    skey =\n      'a[data-action=\"' +\n      theAction.replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\") +\n      '\"]';\n  } else if (theId) {\n    skey = \"#\" + theId.replace(/(:|\\.|\\[|\\]|,|=|\\/|\\\")/g, \"\\\\$1\");\n  } else if (theName) {\n    skey =\n      \"#\" +\n      $(this).parents(\"form\").attr(\"id\") +\n      \" \" +\n      $(this).prop(\"tagName\").toLowerCase() +\n      '[name=\"' +\n      theName.replace(/(:|\\.|\\[|\\]|,|=|\\/)/g, \"\\\\$1\") +\n      '\"]';\n    if (typeof theValue !== \"undefined\") {\n      skey += '[value=\"' + theValue + '\"]';\n    }\n  } else {\n    skey =\n      \"#\" +\n      $(this).parents(\"form\").attr(\"id\") +\n      \" \" +\n      $(this).prop(\"tagName\").toLowerCase() +\n      '[type=\"submit\"]';\n  }\n  //console.log(\"Need to click on \" + skey);\n  if (\n    daObserverChangesInterval != null &&\n    embeddedJs == null &&\n    theId != \"dabackToQuestion\" &&\n    theId != \"dahelptoggle\" &&\n    theId != \"daquestionlabel\"\n  ) {\n    clearInterval(daObserverChangesInterval);\n  }\n  daSocket.emit(\"observerChanges\", {\n    uid: daUid,\n    i: daYamlFilename,\n    userid: daUserObserved,\n    clicked: skey,\n    parameters: JSON.stringify($(\"#daform\").serializeArray()),\n  });\n  if (embeddedJs != null) {\n    //console.log(\"Running the embedded js\");\n    daGlobalEval(decodeURIComponent(embeddedJs));\n  }\n  if (\n    theId != \"dabackToQuestion\" &&\n    theId != \"dahelptoggle\" &&\n    theId != \"daquestionlabel\"\n  ) {\n    event.preventDefault();\n    return false;\n  }\n}\nfunction daAdjustInputWidth(e) {\n  var contents = $(this).val();\n  var leftBracket = new RegExp(\"<\", \"g\");\n  var rightBracket = new RegExp(\">\", \"g\");\n  contents = contents\n    .replace(/&/g, \"&amp;\")\n    .replace(leftBracket, \"&lt;\")\n    .replace(rightBracket, \"&gt;\")\n    .replace(/ /g, \"&nbsp;\");\n  $('<span class=\"dainput-embedded\" id=\"dawidth\">')\n    .html(contents)\n    .appendTo(\"#daquestion\");\n  $(\"#dawidth\").css(\"min-width\", $(this).css(\"min-width\"));\n  $(\"#dawidth\").css(\"background-color\", $(daTargetDiv).css(\"background-color\"));\n  $(\"#dawidth\").css(\"color\", $(daTargetDiv).css(\"background-color\"));\n  $(this).width($(\"#dawidth\").width() + 16);\n  setTimeout(function () {\n    $(\"#dawidth\").remove();\n  }, 0);\n}\nfunction daShowNotifications() {\n  var n = daMessageLog.length;\n  for (var i = 0; i < n; i++) {\n    var message = daMessageLog[i];\n    if (message.priority == \"console\") {\n      console.log(message.message);\n    } else if (message.priority == \"javascript\") {\n      daGlobalEval(message.message);\n    } else if (\n      message.priority == \"success\" ||\n      message.priority == \"warning\" ||\n      message.priority == \"danger\" ||\n      message.priority == \"secondary\" ||\n      message.priority == \"tertiary\" ||\n      message.priority == \"info\" ||\n      message.priority == \"dark\" ||\n      message.priority == \"light\" ||\n      message.priority == \"primary\"\n    ) {\n      da_flash(message.message, message.priority);\n    } else {\n      da_flash(message.message, \"info\");\n    }\n  }\n}\nfunction daIgnoreAllButTab(event) {\n  event = event || window.event;\n  var code = event.keyCode;\n  if (code != 9) {\n    if (code == 13) {\n      $(event.target)\n        .parents(\".file-caption-main\")\n        .find(\"input.dafile\")\n        .click();\n    }\n    event.preventDefault();\n    return false;\n  }\n}\nfunction daDisableIfNotHidden(query, value) {\n  $(query).each(function () {\n    var showIfParent = $(this).parents(\".dashowif, .dajsshowif\");\n    if (\n      !(\n        showIfParent.length &&\n        ($(showIfParent[0]).data(\"isVisible\") == \"0\" ||\n          !$(showIfParent[0]).is(\":visible\"))\n      )\n    ) {\n      if (\n        $(this).prop(\"tagName\") == \"INPUT\" &&\n        $(this).hasClass(\"combobox\") &&\n        daComboBoxes[$(this).attr(\"id\")]\n      ) {\n        if (value) {\n          daComboBoxes[$(this).attr(\"id\")].disable();\n        } else {\n          daComboBoxes[$(this).attr(\"id\")].enable();\n        }\n      } else if ($(this).hasClass(\"dafile\")) {\n        if (value) {\n          $(this).data(\"fileinput\").disable();\n        } else {\n          $(this).data(\"fileinput\").enable();\n        }\n      } else if ($(this).hasClass(\"daslider\")) {\n        if (value) {\n          $(this).slider(\"disable\");\n        } else {\n          $(this).slider(\"enable\");\n        }\n      } else {\n        $(this).prop(\"disabled\", value);\n      }\n      if (value) {\n        $(this).parents(\".da-form-group\").addClass(\"dagreyedout\");\n      } else {\n        $(this).parents(\".da-form-group\").removeClass(\"dagreyedout\");\n      }\n    }\n  });\n}\nfunction daShowIfCompare(theVal, showIfVal) {\n  if (typeof theVal == \"string\" && theVal.match(/^-?\\d+\\.\\d+$/)) {\n    theVal = parseFloat(theVal);\n  } else if (typeof theVal == \"string\" && theVal.match(/^-?\\d+$/)) {\n    theVal = parseInt(theVal);\n  }\n  if (typeof showIfVal == \"string\" && showIfVal.match(/^-?\\d+\\.\\d+$/)) {\n    showIfVal = parseFloat(showIfVal);\n  } else if (typeof showIfVal == \"string\" && showIfVal.match(/^-?\\d+$/)) {\n    showIfVal = parseInt(showIfVal);\n  }\n  if (typeof theVal == \"string\" || typeof showIfVal == \"string\") {\n    if (\n      String(showIfVal) == \"None\" &&\n      (String(theVal) == \"\" || theVal === null)\n    ) {\n      return true;\n    }\n    return String(theVal) == String(showIfVal);\n  }\n  return theVal == showIfVal;\n}\nfunction rationalizeListCollect() {\n  var finalNum = $(\".dacollectextraheader\").last().data(\"collectnum\");\n  var num = $(\".dacollectextraheader:visible\").last().data(\"collectnum\");\n  if (parseInt(num) < parseInt(finalNum)) {\n    if (\n      $('div.dacollectextraheader[data-collectnum=\"' + num + '\"]')\n        .find(\".dacollectadd\")\n        .hasClass(\"dainvisible\")\n    ) {\n      $('div.dacollectextraheader[data-collectnum=\"' + (num + 1) + '\"]').show(\n        \"fast\",\n      );\n    }\n  }\n  var n = parseInt(finalNum);\n  var firstNum = parseInt(\n    $(\".dacollectextraheader\").first().data(\"collectnum\"),\n  );\n  while (n-- > firstNum) {\n    if (\n      $('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]:visible')\n        .length > 0\n    ) {\n      if (\n        !$('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]')\n          .find(\".dacollectadd\")\n          .hasClass(\"dainvisible\") &&\n        $('div.dacollectextraheader[data-collectnum=\"' + n + '\"]')\n          .find(\".dacollectremove\")\n          .hasClass(\"dainvisible\")\n      ) {\n        $('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]').hide();\n      }\n    }\n  }\n  var n = parseInt(finalNum);\n  var seenAddAnother = false;\n  while (n-- > firstNum) {\n    if (\n      $('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]:visible')\n        .length > 0\n    ) {\n      if (\n        !$('div.dacollectextraheader[data-collectnum=\"' + (n + 1) + '\"]')\n          .find(\".dacollectadd\")\n          .hasClass(\"dainvisible\")\n      ) {\n        seenAddAnother = true;\n      }\n      var current = $('div.dacollectextraheader[data-collectnum=\"' + n + '\"]');\n      if (\n        seenAddAnother &&\n        !$(current).find(\".dacollectadd\").hasClass(\"dainvisible\")\n      ) {\n        $(current).find(\".dacollectadd\").addClass(\"dainvisible\");\n        $(current).find(\".dacollectunremove\").removeClass(\"dainvisible\");\n      }\n    }\n  }\n}\nfunction daFetchAjax(elem, cb, doShow) {\n  var wordStart = $(elem).val();\n  if (wordStart.length < parseInt(cb.$source.data(\"trig\"))) {\n    if (cb.shown) {\n      cb.hide();\n    }\n    return;\n  }\n  if (daFetchAjaxTimeout != null && daFetchAjaxTimeoutRunning) {\n    daFetchAjaxTimeoutFetchAfter = true;\n    return;\n  }\n  if (doShow) {\n    daFetchAjaxTimeout = setTimeout(function () {\n      daFetchAjaxTimeoutRunning = false;\n      if (daFetchAjaxTimeoutFetchAfter) {\n        daFetchAjax(elem, cb, doShow);\n        daFetchAjaxTimeoutFetchAfter = false;\n      }\n    }, 2000);\n    daFetchAjaxTimeoutRunning = true;\n    daFetchAjaxTimeoutFetchAfter = false;\n  }\n  da_action_call(\n    cb.$source.data(\"action\"),\n    { wordstart: wordStart },\n    function (data) {\n      wordStart = $(elem).val();\n      if (typeof data == \"object\") {\n        var upperWordStart = wordStart.toUpperCase();\n        cb.$source.empty();\n        var emptyItem = $(\"<option>\");\n        emptyItem.val(\"\");\n        emptyItem.text(\"\");\n        cb.$source.append(emptyItem);\n        var notYetSelected = true;\n        var selectedValue = null;\n        if (Array.isArray(data)) {\n          for (var i = 0; i < data.length; ++i) {\n            if (Array.isArray(data[i])) {\n              if (data[i].length >= 2) {\n                var item = $(\"<option>\");\n                if (\n                  notYetSelected &&\n                  ((doShow && data[i][1].toString() == wordStart) ||\n                    data[i][0].toString() == wordStart)\n                ) {\n                  item.prop(\"selected\", true);\n                  notYetSelected = false;\n                  selectedValue = data[i][1];\n                }\n                item.text(data[i][1]);\n                item.val(data[i][0]);\n                cb.$source.append(item);\n              } else if (data[i].length == 1) {\n                var item = $(\"<option>\");\n                if (\n                  notYetSelected &&\n                  ((doShow && data[i][0].toString() == wordStart) ||\n                    data[i][0].toString() == wordStart)\n                ) {\n                  item.prop(\"selected\", true);\n                  notYetSelected = false;\n                  selectedValue = data[i][0];\n                }\n                item.text(data[i][0]);\n                item.val(data[i][0]);\n                cb.$source.append(item);\n              }\n            } else if (typeof data[i] == \"object\") {\n              for (var key in data[i]) {\n                if (data[i].hasOwnProperty(key)) {\n                  var item = $(\"<option>\");\n                  if (\n                    notYetSelected &&\n                    ((doShow && key.toString() == wordStart) ||\n                      key.toString() == wordStart)\n                  ) {\n                    item.prop(\"selected\", true);\n                    notYetSelected = false;\n                    selectedValue = data[i][key];\n                  }\n                  item.text(data[i][key]);\n                  item.val(key);\n                  cb.$source.append(item);\n                }\n              }\n            } else {\n              var item = $(\"<option>\");\n              if (\n                notYetSelected &&\n                ((doShow &&\n                  data[i].toString().toUpperCase() == upperWordStart) ||\n                  data[i].toString() == wordStart)\n              ) {\n                item.prop(\"selected\", true);\n                notYetSelected = false;\n                selectedValue = data[i];\n              }\n              item.text(data[i]);\n              item.val(data[i]);\n              cb.$source.append(item);\n            }\n          }\n        } else if (typeof data == \"object\") {\n          var keyList = Array();\n          for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n              keyList.push(key);\n            }\n          }\n          keyList = keyList.sort();\n          for (var i = 0; i < keyList.length; ++i) {\n            var item = $(\"<option>\");\n            if (\n              notYetSelected &&\n              ((doShow &&\n                keyList[i].toString().toUpperCase() == upperWordStart) ||\n                keyList[i].toString() == wordStart)\n            ) {\n              item.prop(\"selected\", true);\n              notYetSelected = false;\n              selectedValue = data[keyList[i]];\n            }\n            item.text(data[keyList[i]]);\n            item.val(keyList[i]);\n            cb.$source.append(item);\n          }\n        }\n        if (doShow) {\n          cb.refresh();\n          cb.clearTarget();\n          cb.$target.val(cb.$element.val());\n          cb.lookup();\n        } else {\n          if (!notYetSelected) {\n            cb.$element.val(selectedValue);\n          }\n        }\n      }\n    },\n  );\n}\n\nfunction jsonIfObject(value) {\n  if (typeof value === \"object\" || typeof value === \"boolean\") {\n    return JSON.stringify(value);\n  }\n  return value;\n}\n\nfunction underscoreToCamel(str) {\n  return str\n    .split(\"_\")\n    .map((word, index) => {\n      if (index === 0) return word;\n      return word.charAt(0).toUpperCase() + word.slice(1);\n    })\n    .join(\"\")\n    .replace(/Uri$/, \"URI\");\n}\n\nfunction camelToUnderscore(camelStr) {\n  return camelStr\n    .replace(/URI$/, \"Uri\")\n    .replace(/([A-Z])/g, \"_$1\")\n    .toLowerCase()\n    .replace(/^_/, \"\");\n}\n\nfunction daInitialize(doScroll) {\n  if (!daObserverMode) {\n    daResetCheckinCode();\n  }\n  daComboBoxes = Object();\n  daVarLookupSelect = Object();\n  daVarLookupCheckbox = Object();\n  if (daSpinnerTimeout != null) {\n    clearTimeout(daSpinnerTimeout);\n    daSpinnerTimeout = null;\n  }\n  if (daShowingSpinner && !daWaitPage) {\n    daHideSpinner();\n  }\n  if (daObserverMode) {\n    $(\n      'button[type=\"submit\"], input[type=\"submit\"], a.da-review-action, #dabackToQuestion, #daquestionlabel, #dapagetitle, #dahelptoggle, a[data-linknum], a[data-embaction], #dabackbutton',\n    ).click(daObserverSubmitter);\n  }\n  daNotYetScrolled = true;\n  // $(\".dahelptrigger\").click(function(e) {\n  //   e.preventDefault();\n  //   $(this).tab('show');\n  // });\n  $(\"input.dafile\").fileinput({\n    theme: \"fas\",\n    language: document.documentElement.lang,\n    allowedPreviewTypes: [\"image\"],\n  });\n  $(\".datableup,.databledown\").click(function (e) {\n    e.preventDefault();\n    $(this).blur();\n    var row = $(this).parents(\"tr\").first();\n    if ($(this).is(\".datableup\")) {\n      var prev = row.prev();\n      if (prev.length == 0) {\n        return false;\n      }\n      row.addClass(\"datablehighlighted\");\n      setTimeout(function () {\n        row.insertBefore(prev);\n      }, 200);\n    } else {\n      var next = row.next();\n      if (next.length == 0) {\n        return false;\n      }\n      row.addClass(\"datablehighlighted\");\n      setTimeout(function () {\n        row.insertAfter(row.next());\n      }, 200);\n    }\n    setTimeout(function () {\n      row.removeClass(\"datablehighlighted\");\n    }, 1000);\n    return false;\n  });\n  $(\".dacollectextra\").find(\"input, textarea, select\").prop(\"disabled\", true);\n  $(\".dacollectextra\")\n    .find(\"input.combobox\")\n    .each(function () {\n      if (daComboBoxes[$(this).attr(\"id\")]) {\n        daComboBoxes[$(this).attr(\"id\")].disable();\n      } else {\n        $(this).prop(\"disabled\", true);\n      }\n    });\n  $(\".dacollectextra\")\n    .find(\"input.daslider\")\n    .each(function () {\n      $(this).slider(\"disable\");\n    });\n  $(\".dacollectextra\")\n    .find(\"input.dafile\")\n    .each(function () {\n      $(this).data(\"fileinput\").disable();\n    });\n  $(\"#da-extra-collect\").on(\"click\", function () {\n    $(\"<input>\")\n      .attr({\n        type: \"hidden\",\n        name: \"_collect\",\n        value: $(this).val(),\n      })\n      .appendTo($(\"#daform\"));\n    $(\"#daform\").submit();\n    event.preventDefault();\n    return false;\n  });\n  $(\".dacollectadd\").on(\"click\", function (e) {\n    e.preventDefault();\n    if ($(\"#daform\").valid()) {\n      var num = $(this).parent().parent().data(\"collectnum\");\n      $('[data-collectnum=\"' + num + '\"]').show(\"fast\");\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input, textarea, select\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            $(this).prop(\"disabled\", false);\n          }\n        });\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input.combobox\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            if (daComboBoxes[$(this).attr(\"id\")]) {\n              daComboBoxes[$(this).attr(\"id\")].enable();\n            } else {\n              $(this).prop(\"disabled\", false);\n            }\n          }\n        });\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input.daslider\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            $(this).slider(\"enable\");\n          }\n        });\n      $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input.dafile\")\n        .each(function () {\n          var showifParents = $(this).parents(\".dajsshowif,.dashowif\");\n          if (showifParents.length == 0 || $(showifParents[0]).is(\":visible\")) {\n            $(this).data(\"fileinput\").enable();\n          }\n        });\n      $(this)\n        .parent()\n        .find(\"button.dacollectremove\")\n        .removeClass(\"dainvisible\");\n      $(this).parent().find(\"span.dacollectnum\").removeClass(\"dainvisible\");\n      $(this).addClass(\"dainvisible\");\n      $(\".da-first-delete\").removeClass(\"dainvisible\");\n      rationalizeListCollect();\n      var elem = $('[data-collectnum=\"' + num + '\"]')\n        .find(\"input, textarea, select\")\n        .first();\n      if ($(elem).visible()) {\n        $(elem).focus();\n      }\n    }\n    return false;\n  });\n  $(\"#dasigform\").on(\"submit\", daSignatureSubmit);\n  $(\".dacollectremove\").on(\"click\", function (e) {\n    e.preventDefault();\n    var num = $(this).parent().parent().data(\"collectnum\");\n    $(\n      '[data-collectnum=\"' +\n        num +\n        '\"]:not(.dacollectextraheader, .dacollectheader, .dacollectfirstheader)',\n    ).hide(\"fast\");\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input, textarea, select\")\n      .prop(\"disabled\", true);\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.combobox\")\n      .each(function () {\n        if (daComboBoxes[$(this).attr(\"id\")]) {\n          daComboBoxes[$(this).attr(\"id\")].disable();\n        } else {\n          $(this).prop(\"disabled\", true);\n        }\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.daslider\")\n      .each(function () {\n        $(this).slider(\"disable\");\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.dafile\")\n      .each(function () {\n        $(this).data(\"fileinput\").disable();\n      });\n    $(this).parent().find(\"button.dacollectadd\").removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectnum\").addClass(\"dainvisible\");\n    $(this).addClass(\"dainvisible\");\n    rationalizeListCollect();\n    return false;\n  });\n  $(\".dacollectremoveexisting\").on(\"click\", function (e) {\n    e.preventDefault();\n    var num = $(this).parent().parent().data(\"collectnum\");\n    $(\n      '[data-collectnum=\"' +\n        num +\n        '\"]:not(.dacollectextraheader, .dacollectheader, .dacollectfirstheader)',\n    ).hide(\"fast\");\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input, textarea, select\")\n      .prop(\"disabled\", true);\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.combobox\")\n      .each(function () {\n        if (daComboBoxes[$(this).attr(\"id\")]) {\n          daComboBoxes[$(this).attr(\"id\")].disable();\n        } else {\n          $(this).prop(\"disabled\", true);\n        }\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.daslider\")\n      .each(function () {\n        $(this).slider(\"disable\");\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.dafile\")\n      .each(function () {\n        $(this).data(\"fileinput\").disable();\n      });\n    $(this)\n      .parent()\n      .find(\"button.dacollectunremove\")\n      .removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectremoved\").removeClass(\"dainvisible\");\n    $(this).addClass(\"dainvisible\");\n    rationalizeListCollect();\n    return false;\n  });\n  $(\".dacollectunremove\").on(\"click\", function (e) {\n    e.preventDefault();\n    var num = $(this).parent().parent().data(\"collectnum\");\n    $('[data-collectnum=\"' + num + '\"]').show(\"fast\");\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input, textarea, select\")\n      .prop(\"disabled\", false);\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.combobox\")\n      .each(function () {\n        if (daComboBoxes[$(this).attr(\"id\")]) {\n          daComboBoxes[$(this).attr(\"id\")].enable();\n        } else {\n          $(this).prop(\"disabled\", false);\n        }\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.daslider\")\n      .each(function () {\n        $(this).slider(\"enable\");\n      });\n    $('[data-collectnum=\"' + num + '\"]')\n      .find(\"input.dafile\")\n      .each(function () {\n        $(this).data(\"fileinput\").enable();\n      });\n    $(this)\n      .parent()\n      .find(\"button.dacollectremoveexisting\")\n      .removeClass(\"dainvisible\");\n    $(this).parent().find(\"button.dacollectremove\").removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectnum\").removeClass(\"dainvisible\");\n    $(this).parent().find(\"span.dacollectremoved\").addClass(\"dainvisible\");\n    $(this).addClass(\"dainvisible\");\n    rationalizeListCollect();\n    return false;\n  });\n  //$('#daquestionlabel').click(function(e) {\n  //  e.preventDefault();\n  //  $(this).tab('show');\n  //});\n  //$('#dapagetitle').click(function(e) {\n  //  if ($(this).prop('href') == '#'){\n  //    e.preventDefault();\n  //    //$('#daquestionlabel').tab('show');\n  //  }\n  //});\n  $(\"select.damultiselect\").each(function () {\n    var isObject = $(this).hasClass(\"daobject\");\n    var varname = atou($(this).data(\"varname\"));\n    var theSelect = this;\n    $(this)\n      .find(\"option\")\n      .each(function () {\n        var theVal = atou($(this).data(\"valname\"));\n        if (isObject) {\n          theVal = atou(theVal);\n        }\n        var key = varname + '[\"' + theVal + '\"]';\n        if (!daVarLookupSelect[key]) {\n          daVarLookupSelect[key] = [];\n        }\n        daVarLookupSelect[key].push({\n          select: theSelect,\n          option: this,\n          value: theVal,\n        });\n        key = varname + \"['\" + theVal + \"']\";\n        if (!daVarLookupSelect[key]) {\n          daVarLookupSelect[key] = [];\n        }\n        daVarLookupSelect[key].push({\n          select: theSelect,\n          option: this,\n          value: theVal,\n        });\n      });\n  });\n  $(\"div.da-field-group.da-field-checkboxes\").each(function () {\n    var isObject = $(this).hasClass(\"daobject\");\n    var varname = atou($(this).data(\"varname\"));\n    var cbList = [];\n    if (!daVarLookupCheckbox[varname]) {\n      daVarLookupCheckbox[varname] = [];\n    }\n    $(this)\n      .find(\"input\")\n      .each(function () {\n        if ($(this).attr(\"name\").substr(0, 7) === \"_ignore\") {\n          return;\n        }\n        var theVal = atou($(this).data(\"cbvalue\"));\n        var theType = $(this).data(\"cbtype\");\n        var key;\n        if (theType == \"R\") {\n          key = varname + \"[\" + theVal + \"]\";\n        } else {\n          key = varname + '[\"' + theVal + '\"]';\n        }\n        cbList.push({\n          variable: key,\n          value: theVal,\n          type: theType,\n          elem: this,\n        });\n      });\n    daVarLookupCheckbox[varname].push({\n      elem: this,\n      checkboxes: cbList,\n      isObject: isObject,\n    });\n    $(this)\n      .find(\"input.danota-checkbox\")\n      .each(function () {\n        if (!daVarLookupCheckbox[varname + \"[nota]\"]) {\n          daVarLookupCheckbox[varname + \"[nota]\"] = [];\n        }\n        daVarLookupCheckbox[varname + \"[nota]\"].push({\n          elem: this,\n          checkboxes: [{ variable: varname + \"[nota]\", type: \"X\", elem: this }],\n          isObject: isObject,\n        });\n      });\n    $(this)\n      .find(\"input.daaota-checkbox\")\n      .each(function () {\n        if (!daVarLookupCheckbox[varname + \"[aota]\"]) {\n          daVarLookupCheckbox[varname + \"[aota]\"] = [];\n        }\n        daVarLookupCheckbox[varname + \"[aota]\"].push({\n          elem: this,\n          checkboxes: [{ variable: varname + \"[aota]\", type: \"X\", elem: this }],\n          isObject: isObject,\n        });\n      });\n  });\n  $(\".dacurrency\").each(function () {\n    var theVal = $(this).val().toString();\n    if (theVal.indexOf(\".\") >= 0) {\n      theVal = theVal.replace(\",\", \"\");\n      var num = parseFloat(theVal);\n      var cleanNum = num.toFixed(daCurrencyDecimalPlaces).toString();\n      if (cleanNum != \"NaN\") {\n        $(this).val(cleanNum);\n      }\n    }\n  });\n  $(\".dacurrency\").on(\"change\", function () {\n    var theVal = $(this).val().toString();\n    if (theVal.indexOf(\".\") >= 0) {\n      theVal = theVal.replaceAll(/[\\$,\\(\\)]/g, \"\");\n      var num = parseFloat(theVal);\n      var cleanNum = num.toFixed(daCurrencyDecimalPlaces).toString();\n      if (cleanNum != \"NaN\") {\n        $(this).val(cleanNum);\n      } else {\n        $(this).val(theVal);\n      }\n    } else {\n      $(this).val(theVal.replaceAll(/[^0-9\\.\\-]/g, \"\"));\n    }\n  });\n  $(\".danumeric\").on(\"change\", function () {\n    var theVal = $(this).val().toString();\n    $(this).val(theVal.replaceAll(/[\\$,\\(\\)]/g, \"\"));\n  });\n  // iOS will truncate text in `select` options. Adding an empty optgroup fixes that\n  if (navigator.userAgent.match(/(iPad|iPhone|iPod touch);/i)) {\n    var selects = document.querySelectorAll(\"select\");\n    for (var i = 0; i < selects.length; i++) {\n      selects[i].appendChild(document.createElement(\"optgroup\"));\n    }\n  }\n  $(\".da-to-labelauty\").labelauty({\n    class: \"labelauty da-active-invisible dafullwidth\",\n  });\n  $(\".da-to-labelauty-icon\").labelauty({ label: false });\n  $(\"input[type=radio].da-to-labelauty:checked\").trigger(\"change\");\n  $(\"input[type=radio].da-to-labelauty-icon:checked\").trigger(\"change\");\n  $(\"button\").on(\"click\", function () {\n    daWhichButton = this;\n    return true;\n  });\n  $(\"#dasource\").on(\"shown.bs.collapse\", function (e) {\n    if (daJsEmbed) {\n      var scrollTarget = $(\"#dasource\").first().position().top - 60;\n      $(daTargetDiv).animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    } else {\n      var scrollTarget = $(\"#dasource\").first().offset().top - 60;\n      $(\"html, body\").animate(\n        {\n          scrollTop: scrollTarget,\n        },\n        1000,\n      );\n    }\n  });\n  $('button[data-bs-target=\"#dahelp\"]').on(\"shown.bs.tab\", function (e) {\n    daShowingHelp = 1;\n    if (daNotYetScrolled) {\n      daScrollChatFast();\n      daNotYetScrolled = false;\n    }\n    if (daShouldDebugReadabilityHelp) {\n      $(\"#dareadability-help\").show();\n      $(\"#dareadability-question\").hide();\n    }\n  });\n  $('button[data-bs-target=\"#daquestion\"]').on(\"shown.bs.tab\", function (e) {\n    daShowingHelp = 0;\n    if (daShouldDebugReadabilityQuestion) {\n      $(\"#dareadability-help\").hide();\n      $(\"#dareadability-question\").show();\n    }\n  });\n  $(\"input.daaota-checkbox\").click(function () {\n    var anyChanged = false;\n    var firstEncountered = null;\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danon-nota-checkbox\")\n      .each(function () {\n        if (firstEncountered === null) {\n          firstEncountered = this;\n        }\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", true);\n        if (existing_val != true) {\n          $(this).trigger(\"change\");\n          anyChanged = true;\n        }\n      });\n    if (firstEncountered !== null && anyChanged === false) {\n      $(firstEncountered).trigger(\"change\");\n    }\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danota-checkbox\")\n      .each(function () {\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n        }\n      });\n  });\n  $(\"input.danota-checkbox\").click(function () {\n    var anyChanged = false;\n    var firstEncountered = null;\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danon-nota-checkbox\")\n      .each(function () {\n        if (firstEncountered === null) {\n          firstEncountered = this;\n        }\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n          anyChanged = true;\n        }\n      });\n    if (firstEncountered !== null && anyChanged === false) {\n      $(firstEncountered).trigger(\"change\");\n    }\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.daaota-checkbox\")\n      .each(function () {\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n        }\n      });\n  });\n  $(\"input.danon-nota-checkbox\").click(function () {\n    $(this)\n      .parents(\"div.da-field-group\")\n      .find(\"input.danota-checkbox\")\n      .each(function () {\n        var existing_val = $(this).prop(\"checked\");\n        $(this).prop(\"checked\", false);\n        if (existing_val != false) {\n          $(this).trigger(\"change\");\n        }\n      });\n    if (!$(this).prop(\"checked\")) {\n      $(this)\n        .parents(\"div.da-field-group\")\n        .find(\"input.daaota-checkbox\")\n        .each(function () {\n          var existing_val = $(this).prop(\"checked\");\n          $(this).prop(\"checked\", false);\n          if (existing_val != false) {\n            $(this).trigger(\"change\");\n          }\n        });\n    }\n  });\n  $(\"select.combobox\").combobox({\n    buttonLabel: daComboboxButtonLabel,\n    inputBox: daInputBox,\n  });\n  $(\"select.da-ajax-combobox\").combobox({\n    clearIfNoMatch: true,\n    buttonLabel: daComboboxButtonLabel,\n    functionalButton: false,\n    inputBox: daInputBox,\n  });\n  $(\"input.da-address-combobox\").combobox({\n    clearIfNoMatch: false,\n    showButton: false,\n    inputBox: daInputBox,\n    matcher: function (item) {\n      return true;\n    },\n    lookupWhileTyping: false,\n  });\n  $(\"input.da-ajax-combobox\").each(function () {\n    var cb = daComboBoxes[$(this).attr(\"id\")];\n    daFetchAjax(this, cb, false);\n    $(this).on(\"keyup\", function (e) {\n      switch (e.keyCode) {\n        case 40:\n        case 39: // right arrow\n        case 38: // up arrow\n        case 37: // left arrow\n        case 36: // home\n        case 35: // end\n        case 16: // shift\n        case 17: // ctrl\n        case 9: // tab\n        case 13: // enter\n        case 27: // escape\n        case 18: // alt\n          return;\n      }\n      daFetchAjax(this, cb, true);\n      daFetchAcceptIncoming = true;\n      e.preventDefault();\n      return false;\n    });\n  });\n  $.each(daComboBoxes, async function (thisId, cb) {\n    if (!this.$element.hasClass(\"da-address-combobox\")) {\n      return;\n    }\n    if (cb.$target.val()) {\n      cb.$element.val(cb.$target.val());\n    }\n    await daWaitForGoogle(false);\n    const { Place, AutocompleteSessionToken, AutocompleteSuggestion } =\n      await google.maps.importLibrary(\"places\");\n    const token = new AutocompleteSessionToken();\n    var elem = cb.$element;\n    var priorQuery = \"\";\n    var priorResults = [];\n    let request = {\n      language: \"en-US\",\n      region: \"us\",\n      sessionToken: token,\n    };\n    cb.$target.on(\"change\", async (e) => {\n      if (!daAutocomplete[thisId].suggestions[cb.$target.val()]) {\n        return;\n      }\n      var theVal = cb.$target.val();\n      cb.$container.removeClass(\"combobox-selected\");\n      cb.selected = false;\n      let place =\n        daAutocomplete[thisId].suggestions[theVal].placePrediction.toPlace();\n      await place.fetchFields({\n        fields: (\n          daAutocomplete[thisId].opts.fields || [\"addressComponents\"]\n        ).map(underscoreToCamel),\n      });\n      // console.log(place);\n      daFillInAddress(thisId, place);\n    });\n    elem.on(\"keyup\", async (e) => {\n      switch (e.keyCode) {\n        case 40:\n        case 39: // right arrow\n        case 38: // up arrow\n        case 37: // left arrow\n        case 36: // home\n        case 35: // end\n        case 16: // shift\n        case 17: // ctrl\n        case 9: // tab\n        case 13: // enter\n        case 27: // escape\n        case 18: // alt\n          return;\n      }\n      request.input = elem.val();\n      request.includedPrimaryTypes = daAutocomplete[thisId].opts.types || [\n        \"street_address\",\n      ];\n      if (request.input.length > 2 && request.input != priorQuery) {\n        priorQuery = request.input;\n        const { suggestions } =\n          await AutocompleteSuggestion.fetchAutocompleteSuggestions(request);\n        var results = [];\n        var sugMap = {};\n        for (let suggestion of suggestions) {\n          const placePrediction = suggestion.placePrediction;\n          const addressText = placePrediction.text.toString();\n          results.push(addressText);\n          sugMap[addressText] = suggestion;\n        }\n        if (\n          !(\n            results.length === priorResults.length &&\n            results.every((value, index) => value === priorResults[index])\n          )\n        ) {\n          daAutocomplete[thisId].suggestions = sugMap;\n          cb.options.items = results.length;\n          cb.map = results.reduce((obj, key) => ({ ...obj, [key]: key }), {});\n          cb.revMap = cb.map;\n          priorResults = results;\n        }\n        cb.process(results);\n      }\n      e.preventDefault();\n      return false;\n    });\n  });\n  $(\"#daemailform\").validate({\n    submitHandler: daValidationHandler,\n    rules: {\n      _attachment_email_address: { minlength: 1, required: true, email: true },\n    },\n    messages: {\n      _attachment_email_address: {\n        required: daEmailAddressRequired,\n        email: daNeedCompleteEmail,\n      },\n    },\n    errorClass: \"da-has-error invalid-feedback\",\n  });\n  $(\"a[data-embaction]\").click(daEmbeddedAction);\n  $(\"a[data-js]\").click(daEmbeddedJs);\n  $(\"a.da-review-action\").click(daReviewAction);\n  $(\"input.dainput-embedded\").on(\"keyup\", daAdjustInputWidth);\n  $(\"input.dainput-embedded\").each(daAdjustInputWidth);\n  var daPopoverTriggerList = [].slice.call(\n    document.querySelectorAll('[data-bs-toggle=\"popover\"]'),\n  );\n  var daPopoverTrigger = daDefaultPopoverTrigger;\n  var daPopoverList = daPopoverTriggerList.map(function (daPopoverTriggerEl) {\n    return new bootstrap.Popover(daPopoverTriggerEl, {\n      trigger: daPopoverTrigger,\n      html: true,\n    });\n  });\n  if (daPopoverTrigger == \"focus\") {\n    $(\n      'label a[data-bs-toggle=\"popover\"], legend a[data-bs-toggle=\"popover\"]',\n    ).on(\"click\", function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n      $(this).focus();\n      return false;\n    });\n  }\n  if (!daObserverMode) {\n    if (daPhoneAvailable) {\n      $(\"#daPhoneAvailable\").removeClass(\"dainvisible\");\n    }\n    $(\".daquestionbackbutton\").on(\"click\", function (event) {\n      event.preventDefault();\n      $(\"#dabackbutton\").submit();\n      return false;\n    });\n    $(\"#dabackbutton\").on(\"submit\", function (event) {\n      if (daShowingHelp) {\n        event.preventDefault();\n        $(\"#daquestionlabel\").tab(\"show\");\n        return false;\n      }\n      $(\"#dabackbutton\").addClass(\"dabackiconpressed\");\n      var informed = \"\";\n      if (daInformedChanged) {\n        informed = \"&informed=\" + Object.keys(daInformed).join(\",\");\n      }\n      var url;\n      if (daJsEmbed) {\n        url = daPostURL;\n      } else {\n        url = $(\"#dabackbutton\").attr(\"action\");\n      }\n      daRequestPending = true;\n      $.ajax({\n        type: \"POST\",\n        url: url,\n        beforeSend: addCsrfHeader,\n        xhrFields: {\n          withCredentials: true,\n        },\n        data: $(\"#dabackbutton\").serialize() + \"&ajax=1\" + informed,\n        success: function (data) {\n          setTimeout(function () {\n            daProcessAjax(data, document.getElementById(\"backbutton\"), 1);\n          }, 0);\n        },\n        error: function (xhr, status, error) {\n          setTimeout(function () {\n            daProcessAjaxError(xhr, status, error);\n          }, 0);\n        },\n      });\n      daSpinnerTimeout = setTimeout(daShowSpinner, 1000);\n      event.preventDefault();\n    });\n    $(\"#daChatOnButton\").click(daRingChat);\n    $(\"#daChatOffButton\").click(daCloseChat);\n    $(\"#daMessage\").bind(\"keypress keydown keyup\", function (e) {\n      var theCode = e.which || e.keyCode;\n      if (theCode == 13) {\n        daSender();\n        e.preventDefault();\n      }\n    });\n    $('#daform button[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      document.activeElement.blur();\n      return true;\n    });\n    $('#daform input[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      document.activeElement.blur();\n      return true;\n    });\n    $('#daemailform button[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      return true;\n    });\n    $('#dadownloadform button[type=\"submit\"]').click(function () {\n      daSubmitter = this;\n      return true;\n    });\n    $(\".danavlinks a.daclickable\").click(function (e) {\n      if (daRequestPending) {\n        e.preventDefault();\n        $(this).blur();\n        return false;\n      }\n      var the_key = $(this).data(\"key\");\n      da_action_perform(\"_da_priority_action\", { _action: the_key });\n      e.preventDefault();\n      return false;\n    });\n    $(\".danav-vertical .danavnested\").each(function () {\n      var box = this;\n      var prev = $(this).prev();\n      if (prev && !prev.hasClass(\"active\")) {\n        var toggler;\n        if ($(box).hasClass(\"danotshowing\")) {\n          toggler = $(\n            '<a href=\"#\" class=\"toggler\" role=\"button\" aria-pressed=\"false\">',\n          );\n          $('<i class=\"fa-solid fa-caret-right\">').appendTo(toggler);\n          $(\n            '<span class=\"visually-hidden\">' + daToggleWord + \"</span>\",\n          ).appendTo(toggler);\n        } else {\n          toggler = $(\n            '<a href=\"#\" class=\"toggler\" role=\"button\" aria-pressed=\"true\">',\n          );\n          $('<i class=\"fa-solid fa-caret-down\">').appendTo(toggler);\n          $(\n            '<span class=\"visually-hidden\">' + daToggleWord + \"</span>\",\n          ).appendTo(toggler);\n        }\n        toggler.appendTo(prev);\n        toggler.on(\"click\", function (e) {\n          var oThis = this;\n          $(this)\n            .find(\"svg\")\n            .each(function () {\n              if ($(this).attr(\"data-icon\") == \"caret-down\") {\n                $(this).removeClass(\"fa-caret-down\");\n                $(this).addClass(\"fa-caret-right\");\n                $(this).attr(\"data-icon\", \"caret-right\");\n                $(box).hide();\n                $(oThis).attr(\"aria-pressed\", \"false\");\n                $(box).toggleClass(\"danotshowing\");\n              } else if ($(this).attr(\"data-icon\") == \"caret-right\") {\n                $(this).removeClass(\"fa-caret-right\");\n                $(this).addClass(\"fa-caret-down\");\n                $(this).attr(\"data-icon\", \"caret-down\");\n                $(box).show();\n                $(oThis).attr(\"aria-pressed\", \"true\");\n                $(box).toggleClass(\"danotshowing\");\n              }\n            });\n          e.stopPropagation();\n          e.preventDefault();\n          return false;\n        });\n      }\n    });\n    $(\"body\").focus();\n    if (!daJsEmbed && !isAndroid) {\n      setTimeout(function () {\n        var firstInput = $(\"#daform .da-field-container\")\n          .not(\".da-field-container-note\")\n          .first()\n          .find(\"input, textarea, select\")\n          .filter(\":visible\")\n          .first();\n        if (firstInput.length > 0 && $(firstInput).visible()) {\n          $(firstInput).focus();\n          var inputType = $(firstInput).attr(\"type\");\n          if (\n            $(firstInput).prop(\"tagName\") != \"SELECT\" &&\n            inputType != \"checkbox\" &&\n            inputType != \"radio\" &&\n            inputType != \"hidden\" &&\n            inputType != \"submit\" &&\n            inputType != \"file\" &&\n            inputType != \"range\" &&\n            inputType != \"number\" &&\n            inputType != \"date\" &&\n            inputType != \"time\"\n          ) {\n            var strLength = $(firstInput).val().length * 2;\n            if (strLength > 0) {\n              try {\n                $(firstInput)[0].setSelectionRange(strLength, strLength);\n              } catch (err) {\n                console.log(err.message);\n              }\n            }\n          }\n        } else {\n          var firstButton = $(\"#danavbar-collapse .nav-link\")\n            .filter(\":visible\")\n            .first();\n          if (firstButton.length > 0 && $(firstButton).visible()) {\n            setTimeout(function () {\n              $(firstButton).focus();\n              $(firstButton).blur();\n            }, 0);\n          }\n        }\n      }, 15);\n    }\n  }\n  $(\"input.dauncheckspecificothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      var theIds = $.parseJSON(atou($(this).data(\"unchecklist\")));\n      var n = theIds.length;\n      for (var i = 0; i < n; ++i) {\n        var elem = document.getElementById(theIds[i]);\n        $(elem).prop(\"checked\", false);\n        $(elem).trigger(\"change\");\n      }\n    }\n  });\n  $(\"input.dauncheckspecificothers\").each(function () {\n    var theIds = $.parseJSON(atou($(this).data(\"unchecklist\")));\n    var n = theIds.length;\n    var oThis = this;\n    for (var i = 0; i < n; ++i) {\n      var elem = document.getElementById(theIds[i]);\n      $(elem).on(\"change\", function () {\n        if ($(this).is(\":checked\")) {\n          $(oThis).prop(\"checked\", false);\n          $(oThis).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dauncheckothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      $(\"input.dauncheckable,input.dacheckothers\").each(function () {\n        if ($(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dacheckspecificothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      var theIds = $.parseJSON(atou($(this).data(\"checklist\")));\n      var n = theIds.length;\n      for (var i = 0; i < n; ++i) {\n        var elem = document.getElementById(theIds[i]);\n        $(elem).prop(\"checked\", true);\n        $(elem).trigger(\"change\");\n      }\n    }\n  });\n  $(\"input.dacheckspecificothers\").each(function () {\n    var theIds = $.parseJSON(atou($(this).data(\"checklist\")));\n    var n = theIds.length;\n    var oThis = this;\n    for (var i = 0; i < n; ++i) {\n      var elem = document.getElementById(theIds[i]);\n      $(elem).on(\"change\", function () {\n        if (!$(this).is(\":checked\")) {\n          $(oThis).prop(\"checked\", false);\n          $(oThis).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dacheckothers\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      $(\"input.dauncheckable\").each(function () {\n        if (!$(this).is(\":checked\")) {\n          $(this).prop(\"checked\", true);\n          $(this).trigger(\"change\");\n        }\n      });\n      $(\"input.dauncheckothers\").each(function () {\n        if (!$(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    }\n  });\n  $(\"input.dauncheckable\").on(\"change\", function () {\n    if ($(this).is(\":checked\")) {\n      $(\"input.dauncheckothers\").each(function () {\n        if ($(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    } else {\n      $(\"input.dacheckothers\").each(function () {\n        if ($(this).is(\":checked\")) {\n          $(this).prop(\"checked\", false);\n          $(this).trigger(\"change\");\n        }\n      });\n    }\n  });\n  var navMain = $(\"#danavbar-collapse\");\n  navMain.on(\"click\", \"a\", null, function () {\n    if (!$(this).hasClass(\"dropdown-toggle\")) {\n      navMain.collapse(\"hide\");\n    }\n  });\n  $(\"button[data-bs-target='#dahelp']\").on(\"shown.bs.tab\", function () {\n    if (daJsEmbed) {\n      $(daTargetDiv)[0].scrollTo(0, 1);\n    } else {\n      window.scrollTo(0, 1);\n    }\n    $(\"#dahelptoggle\").removeClass(\"daactivetext\");\n    $(\"#dahelptoggle\").blur();\n  });\n  $(\"#dasourcetoggle\").on(\"click\", function () {\n    $(this).parent().toggleClass(\"active\");\n    $(this).blur();\n  });\n  $(\"#dabackToQuestion\").click(function (event) {\n    $(\"#daquestionlabel\").tab(\"show\");\n  });\n  daVarLookup = Object();\n  daVarLookupRev = Object();\n  daVarLookupMulti = Object();\n  daVarLookupRevMulti = Object();\n  daVarLookupOption = Object();\n  if ($(\"input[name='_varnames']\").length) {\n    the_hash = $.parseJSON(atou($(\"input[name='_varnames']\").val()));\n    for (var key in the_hash) {\n      if (the_hash.hasOwnProperty(key)) {\n        daVarLookup[the_hash[key]] = key;\n        daVarLookupRev[key] = the_hash[key];\n        if (!daVarLookupMulti.hasOwnProperty(the_hash[key])) {\n          daVarLookupMulti[the_hash[key]] = [];\n        }\n        daVarLookupMulti[the_hash[key]].push(key);\n        if (!daVarLookupRevMulti.hasOwnProperty(key)) {\n          daVarLookupRevMulti[key] = [];\n        }\n        daVarLookupRevMulti[key].push(the_hash[key]);\n      }\n    }\n  }\n  if ($(\"input[name='_checkboxes']\").length) {\n    var patt = new RegExp(/\\[B['\"][^\\]]*['\"]\\]$/);\n    var pattObj = new RegExp(/\\[O['\"][^\\]]*['\"]\\]$/);\n    var pattRaw = new RegExp(/\\[R['\"][^\\]]*['\"]\\]$/);\n    the_hash = $.parseJSON(atou($(\"input[name='_checkboxes']\").val()));\n    for (var key in the_hash) {\n      if (the_hash.hasOwnProperty(key)) {\n        var checkboxName = atou(key);\n        var baseName = checkboxName;\n        if (patt.test(baseName)) {\n          bracketPart = checkboxName.replace(\n            /^.*(\\[B?['\"][^\\]]*['\"]\\])$/,\n            \"$1\",\n          );\n          checkboxName = checkboxName.replace(\n            /^.*\\[B?['\"]([^\\]]*)['\"]\\]$/,\n            \"$1\",\n          );\n          baseName = baseName.replace(/^(.*)\\[.*/, \"$1\");\n          var transBaseName = baseName;\n          if (\n            $(\"[name='\" + key + \"']\").length == 0 &&\n            typeof daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")] !=\n              \"undefined\"\n          ) {\n            transBaseName = atou(\n              daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")],\n            );\n          }\n          var convertedName;\n          try {\n            convertedName = atou(checkboxName);\n          } catch (e) {\n            continue;\n          }\n          var daNameOne = utoa(transBaseName + bracketPart).replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameTwo = utoa(baseName + \"['\" + convertedName + \"']\").replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameThree = utoa(\n            baseName + '[\"' + convertedName + '\"]',\n          ).replace(/[\\n=]/g, \"\");\n          var daNameBase = utoa(baseName).replace(/[\\n=]/g, \"\");\n          daVarLookupRev[daNameOne] = daNameTwo;\n          daVarLookup[daNameTwo] = daNameOne;\n          daVarLookup[daNameThree] = daNameOne;\n          daVarLookupOption[key] = convertedName;\n          if (!daVarLookupRevMulti.hasOwnProperty(daNameOne)) {\n            daVarLookupRevMulti[daNameOne] = [];\n          }\n          daVarLookupRevMulti[daNameOne].push(daNameTwo);\n          if (!daVarLookupMulti.hasOwnProperty(daNameTwo)) {\n            daVarLookupMulti[daNameTwo] = [];\n          }\n          daVarLookupMulti[daNameTwo].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameThree)) {\n            daVarLookupMulti[daNameThree] = [];\n          }\n          daVarLookupMulti[daNameThree].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameBase)) {\n            daVarLookupMulti[daNameBase] = [];\n          }\n          daVarLookupMulti[daNameBase].push(daNameOne);\n        } else if (pattObj.test(baseName)) {\n          bracketPart = checkboxName.replace(\n            /^.*(\\[O?['\"][^\\]]*['\"]\\])$/,\n            \"$1\",\n          );\n          checkboxName = checkboxName.replace(\n            /^.*\\[O?['\"]([^\\]]*)['\"]\\]$/,\n            \"$1\",\n          );\n          baseName = baseName.replace(/^(.*)\\[.*/, \"$1\");\n          var transBaseName = baseName;\n          if (\n            $(\"[name='\" + key + \"']\").length == 0 &&\n            typeof daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")] !=\n              \"undefined\"\n          ) {\n            transBaseName = atou(\n              daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")],\n            );\n          }\n          var convertedName;\n          try {\n            convertedName = atou(atou(checkboxName));\n          } catch (e) {\n            continue;\n          }\n          var daNameOne = utoa(transBaseName + bracketPart).replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameTwo = utoa(baseName + \"['\" + convertedName + \"']\").replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameThree = utoa(\n            baseName + '[\"' + convertedName + '\"]',\n          ).replace(/[\\n=]/g, \"\");\n          var daNameBase = utoa(baseName).replace(/[\\n=]/g, \"\");\n          daVarLookupRev[daNameOne] = daNameTwo;\n          daVarLookup[daNameTwo] = daNameOne;\n          daVarLookup[daNameThree] = daNameOne;\n          daVarLookupOption[key] = convertedName;\n          if (!daVarLookupRevMulti.hasOwnProperty(daNameOne)) {\n            daVarLookupRevMulti[daNameOne] = [];\n          }\n          daVarLookupRevMulti[daNameOne].push(daNameTwo);\n          if (!daVarLookupMulti.hasOwnProperty(daNameTwo)) {\n            daVarLookupMulti[daNameTwo] = [];\n          }\n          daVarLookupMulti[daNameTwo].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameThree)) {\n            daVarLookupMulti[daNameThree] = [];\n          }\n          daVarLookupMulti[daNameThree].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameBase)) {\n            daVarLookupMulti[daNameBase] = [];\n          }\n          daVarLookupMulti[daNameBase].push(daNameOne);\n        } else if (pattRaw.test(baseName)) {\n          bracketPart = checkboxName.replace(\n            /^.*(\\[R?['\"][^\\]]*['\"]\\])$/,\n            \"$1\",\n          );\n          checkboxName = checkboxName.replace(\n            /^.*\\[R?['\"]([^\\]]*)['\"]\\]$/,\n            \"$1\",\n          );\n          baseName = baseName.replace(/^(.*)\\[.*/, \"$1\");\n          var transBaseName = baseName;\n          if (\n            $(\"[name='\" + key + \"']\").length == 0 &&\n            typeof daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")] !=\n              \"undefined\"\n          ) {\n            transBaseName = atou(\n              daVarLookup[utoa(transBaseName).replace(/[\\n=]/g, \"\")],\n            );\n          }\n          var convertedName;\n          try {\n            convertedName = atou(checkboxName);\n          } catch (e) {\n            continue;\n          }\n          var daNameOne = utoa(transBaseName + bracketPart).replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameTwo = utoa(baseName + \"[\" + convertedName + \"]\").replace(\n            /[\\n=]/g,\n            \"\",\n          );\n          var daNameBase = utoa(baseName).replace(/[\\n=]/g, \"\");\n          daVarLookupRev[daNameOne] = daNameTwo;\n          daVarLookup[daNameTwo] = daNameOne;\n          daVarLookupOption[key] = convertedName;\n          if (!daVarLookupRevMulti.hasOwnProperty(daNameOne)) {\n            daVarLookupRevMulti[daNameOne] = [];\n          }\n          daVarLookupRevMulti[daNameOne].push(daNameTwo);\n          if (!daVarLookupMulti.hasOwnProperty(daNameTwo)) {\n            daVarLookupMulti[daNameTwo] = [];\n          }\n          daVarLookupMulti[daNameTwo].push(daNameOne);\n          if (!daVarLookupMulti.hasOwnProperty(daNameBase)) {\n            daVarLookupMulti[daNameBase] = [];\n          }\n          daVarLookupMulti[daNameBase].push(daNameOne);\n        }\n      }\n    }\n  }\n  daShowIfInProcess = true;\n  var daTriggerQueries = [];\n  var daInputsSeen = {};\n  function daOnlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n  $(\".dajsshowif\").each(function () {\n    var showIfDiv = this;\n    var jsInfo = JSON.parse(atou($(this).data(\"jsshowif\")));\n    var showIfSign = jsInfo[\"sign\"];\n    var showIfMode = jsInfo[\"mode\"];\n    var jsExpression = jsInfo[\"expression\"];\n    jsInfo[\"vars\"].forEach(function (infoItem, i) {\n      var showIfVars = [];\n      var initShowIfVar = utoa(infoItem).replace(/[\\n=]/g, \"\");\n      var initShowIfVarEscaped = initShowIfVar.replace(\n        /(:|\\.|\\[|\\]|,|=)/g,\n        \"\\\\$1\",\n      );\n      var elem = $(\"[name='\" + initShowIfVarEscaped + \"']\");\n      if (elem.length > 0) {\n        showIfVars.push(initShowIfVar);\n      }\n      if (daVarLookupMulti.hasOwnProperty(initShowIfVar)) {\n        for (var j = 0; j < daVarLookupMulti[initShowIfVar].length; j++) {\n          var altShowIfVar = daVarLookupMulti[initShowIfVar][j];\n          var altShowIfVarEscaped = altShowIfVar.replace(\n            /(:|\\.|\\[|\\]|,|=)/g,\n            \"\\\\$1\",\n          );\n          var altElem = $(\"[name='\" + altShowIfVarEscaped + \"']\");\n          if (altElem.length > 0 && !$.contains(this, altElem[0])) {\n            showIfVars.push(altShowIfVar);\n          }\n        }\n      }\n      if (showIfVars.length == 0) {\n        console.log(\"ERROR: reference to non-existent field \" + infoItem);\n      }\n      showIfVars.forEach(function (showIfVar) {\n        var showIfVarEscaped = showIfVar.replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n        var varToUse = infoItem;\n        var showHideDiv = function (speed) {\n          var elem = daGetField(varToUse);\n          if (\n            elem != null &&\n            !$(elem)\n              .parents(\".da-form-group\")\n              .first()\n              .is($(this).parents(\".da-form-group\").first())\n          ) {\n            return;\n          }\n          var resultt = eval(jsExpression);\n          if (resultt) {\n            if (showIfSign) {\n              if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).show(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"1\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  if (daComboBoxes[$(this).attr(\"id\")]) {\n                    daComboBoxes[$(this).attr(\"id\")].enable();\n                  } else {\n                    $(this).prop(\"disabled\", false);\n                  }\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            } else {\n              if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).hide(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"0\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", true);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  if (daComboBoxes[$(this).attr(\"id\")]) {\n                    daComboBoxes[$(this).attr(\"id\")].disable();\n                  } else {\n                    $(this).prop(\"disabled\", false);\n                  }\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"disable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").disable();\n                });\n            }\n          } else {\n            if (showIfSign) {\n              if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).hide(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"0\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", true);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  if (daComboBoxes[$(this).attr(\"id\")]) {\n                    daComboBoxes[$(this).attr(\"id\")].disable();\n                  } else {\n                    $(this).prop(\"disabled\", true);\n                  }\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"disable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").disable();\n                });\n            } else {\n              if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n                daShowHideHappened = true;\n              }\n              if (showIfMode == 0) {\n                $(showIfDiv).show(speed);\n              }\n              $(showIfDiv).data(\"isVisible\", \"1\");\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  if (daComboBoxes[$(this).attr(\"id\")]) {\n                    daComboBoxes[$(this).attr(\"id\")].enable();\n                  } else {\n                    $(this).prop(\"disabled\", false);\n                  }\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            }\n          }\n          var leader = false;\n          if (!daShowIfInProcess) {\n            daShowIfInProcess = true;\n            daInputsSeen = {};\n            leader = true;\n          }\n          $(showIfDiv)\n            .find(\":input\")\n            .not(\"[type='file']\")\n            .each(function () {\n              if (!daInputsSeen.hasOwnProperty($(this).attr(\"id\"))) {\n                $(this).trigger(\"change\");\n              }\n              daInputsSeen[$(this).attr(\"id\")] = true;\n            });\n          if (leader) {\n            daShowIfInProcess = false;\n          }\n        };\n        var showHideDivImmediate = function () {\n          showHideDiv.apply(this, [null]);\n        };\n        var showHideDivFast = function () {\n          showHideDiv.apply(this, [\"fast\"]);\n        };\n        daTriggerQueries.push(\"#\" + showIfVarEscaped);\n        daTriggerQueries.push(\n          \"input[type='radio'][name='\" + showIfVarEscaped + \"']\",\n        );\n        daTriggerQueries.push(\n          \"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\",\n        );\n        $(\"#\" + showIfVarEscaped).change(showHideDivFast);\n        $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").change(\n          showHideDivFast,\n        );\n        $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").change(\n          showHideDivFast,\n        );\n        $(\"input.dafile[name='\" + showIfVarEscaped + \"']\").on(\n          \"filecleared\",\n          showHideDivFast,\n        );\n        $(\"#\" + showIfVarEscaped).on(\"daManualTrigger\", showHideDivImmediate);\n        $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").on(\n          \"daManualTrigger\",\n          showHideDivImmediate,\n        );\n        $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").on(\n          \"daManualTrigger\",\n          showHideDivImmediate,\n        );\n      });\n    });\n  });\n  $(\".dashowif\").each(function () {\n    var showIfVars = [];\n    var showIfSign = $(this).data(\"showif-sign\");\n    var showIfMode = parseInt($(this).data(\"showif-mode\"));\n    var initShowIfVar = $(this).data(\"showif-var\");\n    var varName = atou(initShowIfVar);\n    var elem = [];\n    if (varName.endsWith(\"[nota]\") || varName.endsWith(\"[aota]\")) {\n      var signifier = varName.endsWith(\"[nota]\") ? \"nota\" : \"aota\";\n      var cbVarName = varName.replace(/\\[[na]ota\\]$/, \"\");\n      $(\"div.da-field-group.da-field-checkboxes\").each(function () {\n        var thisVarName = atou($(this).data(\"varname\"));\n        if (thisVarName == cbVarName) {\n          elem = $(this).find(\"input.da\" + signifier + \"-checkbox\");\n          initShowIfVar = $(elem).attr(\"name\");\n        }\n      });\n    } else {\n      var initShowIfVarEscaped = initShowIfVar.replace(\n        /(:|\\.|\\[|\\]|,|=)/g,\n        \"\\\\$1\",\n      );\n      elem = $(\"[name='\" + initShowIfVarEscaped + \"']\");\n    }\n    if (elem.length > 0) {\n      showIfVars.push(initShowIfVar);\n    }\n    if (daVarLookupMulti.hasOwnProperty(initShowIfVar)) {\n      var n = daVarLookupMulti[initShowIfVar].length;\n      for (var i = 0; i < n; i++) {\n        var altShowIfVar = daVarLookupMulti[initShowIfVar][i];\n        var altShowIfVarEscaped = altShowIfVar.replace(\n          /(:|\\.|\\[|\\]|,|=)/g,\n          \"\\\\$1\",\n        );\n        var altElem = $(\"[name='\" + altShowIfVarEscaped + \"']\");\n        if (altElem.length > 0 && !$.contains(this, altElem[0])) {\n          showIfVars.push(altShowIfVar);\n        }\n      }\n    }\n    var showIfVal = $(this).data(\"showif-val\");\n    var saveAs = $(this).data(\"saveas\");\n    var showIfDiv = this;\n    showIfVars.forEach(function (showIfVar) {\n      var showIfVarEscaped = showIfVar.replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n      var showHideDiv = function (speed) {\n        var elem = daGetField(varName, showIfDiv);\n        if (\n          elem != null &&\n          !$(elem)\n            .parents(\".da-form-group\")\n            .first()\n            .is($(this).parents(\".da-form-group\").first())\n        ) {\n          return;\n        }\n        var theVal;\n        var showifParents = $(this).parents(\".dashowif\");\n        if (\n          showifParents.length !== 0 &&\n          !($(showifParents[0]).data(\"isVisible\") == \"1\")\n        ) {\n          theVal = \"\";\n          //console.log(\"Setting theVal to blank.\");\n        } else if ($(this).attr(\"type\") == \"checkbox\") {\n          theVal = $(\"input[name='\" + showIfVarEscaped + \"']:checked\").val();\n          if (typeof theVal == \"undefined\") {\n            //console.log('manually setting checkbox value to False');\n            theVal = \"False\";\n          }\n        } else if ($(this).attr(\"type\") == \"radio\") {\n          theVal = $(\"input[name='\" + showIfVarEscaped + \"']:checked\").val();\n          if (typeof theVal == \"undefined\") {\n            theVal = \"\";\n          } else if (\n            theVal != \"\" &&\n            $(\"input[name='\" + showIfVarEscaped + \"']:checked\").hasClass(\n              \"daobject\",\n            )\n          ) {\n            try {\n              theVal = atou(theVal);\n            } catch (e) {}\n          }\n        } else {\n          theVal = $(this).val();\n          if (theVal != \"\" && $(this).hasClass(\"daobject\")) {\n            try {\n              theVal = atou(theVal);\n            } catch (e) {}\n          }\n        }\n        // console.log(\"There was a trigger on \" + $(this).attr('id') + \". This handler was installed based on varName \" + varName + \", showIfVar \" + atou(showIfVar) + \". This handler was installed for the benefit of the .dashowif div encompassing the field for \" + atou(saveAs) + \". The comparison value is \" + String(showIfVal) + \" and the current value of the element on the screen is \" + String(theVal) + \".\");\n        if (daShowIfCompare(theVal, showIfVal)) {\n          if (showIfSign) {\n            if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).show(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"1\");\n            var firstChild = $(showIfDiv).children()[0];\n            if (\n              !$(firstChild).hasClass(\"dacollectextra\") ||\n              $(firstChild).is(\":visible\")\n            ) {\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  if (daComboBoxes[$(this).attr(\"id\")]) {\n                    daComboBoxes[$(this).attr(\"id\")].enable();\n                  } else {\n                    $(this).prop(\"disabled\", false);\n                  }\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            }\n          } else {\n            if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).hide(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"0\");\n            $(showIfDiv).find(\"input, textarea, select\").prop(\"disabled\", true);\n            $(showIfDiv)\n              .find(\"input.combobox\")\n              .each(function () {\n                if (daComboBoxes[$(this).attr(\"id\")]) {\n                  daComboBoxes[$(this).attr(\"id\")].disable();\n                } else {\n                  $(this).prop(\"disabled\", true);\n                }\n              });\n            $(showIfDiv)\n              .find(\"input.daslider\")\n              .each(function () {\n                $(this).slider(\"disable\");\n              });\n            $(showIfDiv)\n              .find(\"input.dafile\")\n              .each(function () {\n                $(this).data(\"fileinput\").disable();\n              });\n          }\n        } else {\n          if (showIfSign) {\n            if ($(showIfDiv).data(\"isVisible\") != \"0\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).hide(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"0\");\n            $(showIfDiv).find(\"input, textarea, select\").prop(\"disabled\", true);\n            $(showIfDiv)\n              .find(\"input.combobox\")\n              .each(function () {\n                if (daComboBoxes[$(this).attr(\"id\")]) {\n                  daComboBoxes[$(this).attr(\"id\")].disable();\n                } else {\n                  $(this).prop(\"disabled\", true);\n                }\n              });\n            $(showIfDiv)\n              .find(\"input.daslider\")\n              .each(function () {\n                $(this).slider(\"disable\");\n              });\n            $(showIfDiv)\n              .find(\"input.dafile\")\n              .each(function () {\n                $(this).data(\"fileinput\").disable();\n              });\n          } else {\n            if ($(showIfDiv).data(\"isVisible\") != \"1\") {\n              daShowHideHappened = true;\n            }\n            if (showIfMode == 0) {\n              $(showIfDiv).show(speed);\n            }\n            $(showIfDiv).data(\"isVisible\", \"1\");\n            var firstChild = $(showIfDiv).children()[0];\n            if (\n              !$(firstChild).hasClass(\"dacollectextra\") ||\n              $(firstChild).is(\":visible\")\n            ) {\n              $(showIfDiv)\n                .find(\"input, textarea, select\")\n                .prop(\"disabled\", false);\n              $(showIfDiv)\n                .find(\"input.combobox\")\n                .each(function () {\n                  if (daComboBoxes[$(this).attr(\"id\")]) {\n                    daComboBoxes[$(this).attr(\"id\")].enable();\n                  } else {\n                    $(this).prop(\"disabled\", false);\n                  }\n                });\n              $(showIfDiv)\n                .find(\"input.daslider\")\n                .each(function () {\n                  $(this).slider(\"enable\");\n                });\n              $(showIfDiv)\n                .find(\"input.dafile\")\n                .each(function () {\n                  $(this).data(\"fileinput\").enable();\n                });\n            }\n          }\n        }\n        var leader = false;\n        if (!daShowIfInProcess) {\n          daShowIfInProcess = true;\n          daInputsSeen = {};\n          leader = true;\n        }\n        $(showIfDiv)\n          .find(\":input\")\n          .not(\"[type='file']\")\n          .each(function () {\n            if (!daInputsSeen.hasOwnProperty($(this).attr(\"id\"))) {\n              $(this).trigger(\"change\");\n            }\n            daInputsSeen[$(this).attr(\"id\")] = true;\n          });\n        if (leader) {\n          daShowIfInProcess = false;\n        }\n      };\n      var showHideDivImmediate = function () {\n        showHideDiv.apply(this, [null]);\n      };\n      var showHideDivFast = function () {\n        showHideDiv.apply(this, [\"fast\"]);\n      };\n      daTriggerQueries.push(\"#\" + showIfVarEscaped);\n      daTriggerQueries.push(\n        \"input[type='radio'][name='\" + showIfVarEscaped + \"']\",\n      );\n      daTriggerQueries.push(\n        \"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\",\n      );\n      $(\"#\" + showIfVarEscaped).change(showHideDivFast);\n      $(\"#\" + showIfVarEscaped).on(\"daManualTrigger\", showHideDivImmediate);\n      $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").change(\n        showHideDivFast,\n      );\n      $(\"input[type='radio'][name='\" + showIfVarEscaped + \"']\").on(\n        \"daManualTrigger\",\n        showHideDivImmediate,\n      );\n      $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").change(\n        showHideDivFast,\n      );\n      $(\"input[type='checkbox'][name='\" + showIfVarEscaped + \"']\").on(\n        \"daManualTrigger\",\n        showHideDivImmediate,\n      );\n      $(\"input.dafile[name='\" + showIfVarEscaped + \"']\").on(\n        \"filecleared\",\n        showHideDivFast,\n      );\n    });\n  });\n  function daTriggerAllShowHides() {\n    var daUniqueTriggerQueries = daTriggerQueries.filter(daOnlyUnique);\n    var daFirstTime = true;\n    var daTries = 0;\n    while ((daFirstTime || daShowHideHappened) && ++daTries < 100) {\n      daShowHideHappened = false;\n      daFirstTime = false;\n      var n = daUniqueTriggerQueries.length;\n      for (var i = 0; i < n; ++i) {\n        $(daUniqueTriggerQueries[i]).trigger(\"daManualTrigger\");\n      }\n    }\n    if (daTries >= 100) {\n      console.log(\"Too many contradictory 'show if' conditions\");\n    }\n  }\n  if (daTriggerQueries.length > 0) {\n    daTriggerAllShowHides();\n  }\n  $(\".danavlink\").last().addClass(\"thelast\");\n  $(\".danavlink\").each(function () {\n    if ($(this).hasClass(\"btn\") && !$(this).hasClass(\"danotavailableyet\")) {\n      var the_a = $(this);\n      var the_delay = 1000 + 250 * parseInt($(this).data(\"index\"));\n      setTimeout(function () {\n        $(the_a).removeClass(daButtonStyle + \"secondary\");\n        if ($(the_a).hasClass(\"active\")) {\n          $(the_a).addClass(daButtonStyle + \"success\");\n        } else {\n          $(the_a).addClass(daButtonStyle + \"warning\");\n        }\n      }, the_delay);\n    }\n  });\n  daShowIfInProcess = false;\n  if (!daObserverMode) {\n    $(\"#daSend\").click(daSender);\n    if (daChatAvailable == \"unavailable\") {\n      daChatStatus = \"off\";\n    }\n    if (daChatAvailable == \"observeonly\") {\n      daChatStatus = \"observeonly\";\n    }\n    if (\n      (daChatStatus == \"off\" || daChatStatus == \"observeonly\") &&\n      daChatAvailable == \"available\"\n    ) {\n      daChatStatus = \"waiting\";\n    }\n    daDisplayChat();\n    if (daBeingControlled) {\n      daShowControl(\"fast\");\n    }\n    if (daChatStatus == \"ready\" || daBeingControlled) {\n      daInitializeSocket();\n    }\n    if (daInitialized == false && daCheckinSeconds > 0) {\n      // why was this set to always retrieve the chat log?\n      setTimeout(function () {\n        //console.log(\"daInitialize call to chat_log in checkin\");\n        $.ajax({\n          type: \"POST\",\n          url: daCheckinUrlWithInterview,\n          beforeSend: addCsrfHeader,\n          xhrFields: {\n            withCredentials: true,\n          },\n          data: $.param({ action: \"chat_log\", ajax: \"1\", csrf_token: daCsrf }),\n          success: daChatLogCallback,\n          dataType: \"json\",\n        });\n      }, 200);\n    }\n    if (daInitialized == true) {\n      //console.log(\"Publishing from memory\");\n      $(\"#daCorrespondence\").html(\"\");\n      for (var i = 0; i < daChatHistory.length; i++) {\n        daPublishMessage(daChatHistory[i]);\n      }\n    }\n    if (daChatStatus != \"off\") {\n      daSendChanges = true;\n    } else {\n      if (daDoAction == null) {\n        daSendChanges = false;\n      } else {\n        daSendChanges = true;\n      }\n    }\n  }\n  if (daSendChanges || daObserverMode) {\n    $(\"#daform\").each(function () {\n      $(this).find(\":input\").change(daOnChange);\n    });\n  }\n  daInitialized = true;\n  daShowingHelp = 0;\n  daSubmitter = null;\n  $(\"#daflash .alert-success\").each(function () {\n    var oThis = this;\n    setTimeout(function () {\n      $(oThis).hide(300, function () {\n        $(self).remove();\n      });\n    }, 3000);\n  });\n  if (doScroll && !daObserverMode) {\n    setTimeout(function () {\n      if (daJsEmbed) {\n        $(daTargetDiv)[0].scrollTo(0, 1);\n        if (daSteps > 1) {\n          $(daTargetDiv)[0].scrollIntoView();\n        }\n      } else {\n        window.scrollTo(0, 1);\n      }\n    }, 20);\n  }\n  if (daShowingSpinner && !daWaitPage) {\n    daHideSpinner();\n  }\n  if (!daObserverMode) {\n    if (daCheckinInterval != null) {\n      clearInterval(daCheckinInterval);\n    }\n    if (daCheckinSeconds > 0 && !daWaitPage) {\n      daInitialCheckinTimeout = setTimeout(daInitialCheckin, 100);\n      daCheckinInterval = setInterval(daCheckin, daCheckinSeconds);\n    }\n    daShowNotifications();\n    if (daUsingGA) {\n      daPageview();\n    }\n    if (daUsingSegment) {\n      daSegmentEvent();\n    }\n    hideTablist();\n  }\n}\nfunction daUpdateHeight() {\n  $(\".dagooglemap\").each(function () {\n    var size = $(this).width();\n    $(this).css(\"height\", size);\n  });\n}\nfunction daConfigureJqueryFuncs() {\n  $.validator.setDefaults({\n    ignore: \".danovalidation\",\n    highlight: function (element) {\n      $(element).closest(\".da-form-group\").addClass(\"da-group-has-error\");\n      $(element).addClass(\"is-invalid\");\n    },\n    unhighlight: function (element) {\n      $(element).closest(\".da-form-group\").removeClass(\"da-group-has-error\");\n      $(element).removeClass(\"is-invalid\");\n    },\n    errorElement: \"span\",\n    errorClass: \"da-has-error invalid-feedback\",\n    errorPlacement: function (error, element) {\n      $(error).addClass(\"invalid-feedback\");\n      var elementName = $(element).attr(\"name\");\n      var idOfErrorSpan = $(element).attr(\"id\") + \"-error\";\n      $(\"#\" + idOfErrorSpan).remove();\n      $(error).attr(\"id\", idOfErrorSpan);\n      $(element).attr(\"aria-invalid\", \"true\");\n      $(element).attr(\"aria-errormessage\", idOfErrorSpan);\n      var lastInGroup = $.map(\n        daValidationRules[\"groups\"],\n        function (thefields, thename) {\n          var fieldsArr;\n          if (thefields.indexOf(elementName) >= 0) {\n            fieldsArr = thefields.split(\" \");\n            return fieldsArr[fieldsArr.length - 1];\n          } else {\n            return null;\n          }\n        },\n      )[0];\n      if (element.hasClass(\"dainput-embedded\")) {\n        error.insertAfter(element);\n      } else if (element.hasClass(\"dafile-embedded\")) {\n        error.insertAfter(element);\n      } else if (element.hasClass(\"daradio-embedded\")) {\n        element.parent().append(error);\n      } else if (element.hasClass(\"dacheckbox-embedded\")) {\n        element.parent().append(error);\n      } else if (element.hasClass(\"dauncheckable\") && lastInGroup) {\n        $(\"input[name='\" + lastInGroup + \"']\")\n          .parent()\n          .append(error);\n      } else if (element.parent().hasClass(\"combobox-container\")) {\n        element.parent().append(error);\n      } else if (element.hasClass(\"dafile\")) {\n        var fileContainer = $(element).parents(\".file-input\").first();\n        if (fileContainer.length > 0) {\n          $(fileContainer).append(error);\n        } else {\n          error.insertAfter(element.parent());\n        }\n      } else if (element.parent(\".input-group\").length) {\n        error.insertAfter(element.parent());\n      } else if (element.hasClass(\"da-active-invisible\")) {\n        var choice_with_help = $(element).parents(\".dachoicewithhelp\").first();\n        if (choice_with_help.length > 0) {\n          $(choice_with_help).parent().append(error);\n        } else {\n          element.parent().append(error);\n        }\n      } else if (element.hasClass(\"danon-nota-checkbox\")) {\n        element.parents(\"div.da-field-group\").append(error);\n      } else {\n        error.insertAfter(element);\n      }\n    },\n  });\n  $.validator.addMethod(\"datetime\", function (a, b) {\n    return true;\n  });\n  $.validator.addMethod(\"ajaxrequired\", function (value, element, params) {\n    var realElement = $(\"#\" + $(element).attr(\"name\") + \"combobox\");\n    var realValue = $(realElement).val();\n    if (!$(realElement).parent().is(\":visible\")) {\n      return true;\n    }\n    if (realValue == null || realValue.replace(/\\s/g, \"\") == \"\") {\n      return false;\n    }\n    return true;\n  });\n  $.validator.addMethod(\"checkone\", function (value, element, params) {\n    var number_needed = params[0];\n    var css_query = params[1];\n    if ($(css_query).length >= number_needed) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  $.validator.addMethod(\"checkatleast\", function (value, element, params) {\n    if ($(element).attr(\"name\") != \"_ignore\" + params[0]) {\n      return true;\n    }\n    if ($(\".dafield\" + params[0] + \":checked\").length >= params[1]) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  $.validator.addMethod(\"checkatmost\", function (value, element, params) {\n    if ($(element).attr(\"name\") != \"_ignore\" + params[0]) {\n      return true;\n    }\n    if ($(\".dafield\" + params[0] + \":checked\").length > params[1]) {\n      return false;\n    } else {\n      return true;\n    }\n  });\n  $.validator.addMethod(\"checkexactly\", function (value, element, params) {\n    if ($(element).attr(\"name\") != \"_ignore\" + params[0]) {\n      return true;\n    }\n    if ($(\".dafield\" + params[0] + \":checked\").length != params[1]) {\n      return false;\n    } else {\n      return true;\n    }\n  });\n  $.validator.addMethod(\"selectexactly\", function (value, element, params) {\n    if ($(element).find(\"option:selected\").length == params[0]) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  $.validator.addMethod(\"mindate\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var date = new Date(value);\n      var comparator = new Date(params);\n      if (date >= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxdate\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var date = new Date(value);\n      var comparator = new Date(params);\n      if (date <= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"minmaxdate\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var date = new Date(value);\n      var before_comparator = new Date(params[0]);\n      var after_comparator = new Date(params[1]);\n      if (date >= before_comparator && date <= after_comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"mintime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var time = new Date(\"1970-01-01T\" + value + \"Z\");\n      var comparator = new Date(\"1970-01-01T\" + params + \"Z\");\n      if (time >= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxtime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var time = new Date(\"1970-01-01T\" + value + \"Z\");\n      var comparator = new Date(\"1970-01-01T\" + params + \"Z\");\n      if (time <= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"minmaxtime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var time = new Date(\"1970-01-01T\" + value + \"Z\");\n      var before_comparator = new Date(\"1970-01-01T\" + params[0] + \"Z\");\n      var after_comparator = new Date(\"1970-01-01T\" + params[1] + \"Z\");\n      if (time >= before_comparator && time <= after_comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"mindatetime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var datetime = new Date(value + \"Z\");\n      var comparator = new Date(params + \"Z\");\n      if (datetime >= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxdatetime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var datetime = new Date(value + \"Z\");\n      var comparator = new Date(params + \"Z\");\n      if (datetime <= comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"minmaxdatetime\", function (value, element, params) {\n    if (value == null || value == \"\") {\n      return true;\n    }\n    try {\n      var datetime = new Date(value + \"Z\");\n      var before_comparator = new Date(params[0] + \"Z\");\n      var after_comparator = new Date(params[1] + \"Z\");\n      if (datetime >= before_comparator && datetime <= after_comparator) {\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n  $.validator.addMethod(\"maxuploadsize\", function (value, element, param) {\n    try {\n      var limit = parseInt(param) - 2000;\n      if (limit <= 0) {\n        return true;\n      }\n      var maxImageSize;\n      if ($(element).data(\"maximagesize\")) {\n        maxImageSize =\n          parseInt($(element).data(\"maximagesize\")) *\n          parseInt($(element).data(\"maximagesize\")) *\n          2;\n      } else {\n        maxImageSize = 0;\n      }\n      if ($(element).attr(\"type\") === \"file\") {\n        if (element.files && element.files.length) {\n          var totalSize = 0;\n          for (i = 0; i < element.files.length; i++) {\n            if (\n              maxImageSize > 0 &&\n              element.files[i].size > 0.2 * maxImageSize &&\n              element.files[i].type.match(/image.*/) &&\n              !(element.files[i].type.indexOf(\"image/svg\") == 0)\n            ) {\n              totalSize += maxImageSize;\n            } else {\n              totalSize += element.files[i].size;\n            }\n          }\n          if (totalSize > limit) {\n            return false;\n          }\n        }\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  });\n}\nvar dataLayer = (window.dataLayer = window.dataLayer || []);\nfunction gtag() {\n  dataLayer.push(arguments);\n}\nfunction daPageview() {\n  var idToUse = daQuestionID[\"id\"];\n  if (daQuestionID[\"ga\"] != undefined && daQuestionID[\"ga\"] != null) {\n    idToUse = daQuestionID[\"ga\"];\n  }\n  if (idToUse != null) {\n    idToUse = idToUse.replace(/[^A-Za-z0-9]+/g, \"_\");\n    if (!daGAConfigured) {\n      var opts = { send_page_view: false };\n      if (daSecureCookies) {\n        opts[\"cookie_flags\"] = \"SameSite=None;Secure\";\n      }\n      for (var i = 0; i < daGaIds.length; i++) {\n        gtag(\"config\", daGaIds[i], opts);\n        daGAConfigured = true;\n      }\n    }\n    gtag(\n      \"set\",\n      \"page_path\",\n      daInterviewPackage + \"/\" + daInterviewFilename + \"/\" + idToUse,\n    );\n    gtag(\"event\", \"page_view\", {\n      page_path: daInterviewPackage + \"/\" + daInterviewFilename + \"/\" + idToUse,\n    });\n  }\n}\nfunction daStopPushChanges() {\n  if (daObserverChangesInterval != null) {\n    clearInterval(daObserverChangesInterval);\n  }\n}\nfunction daResetPushChanges() {\n  if (daObserverChangesInterval != null) {\n    clearInterval(daObserverChangesInterval);\n  }\n  daObserverChangesInterval = setInterval(daPushChanges, 6000);\n}\nfunction daReadyFunction() {\n  daInitialize(1);\n  //console.log(\"ready: replaceState \" + daSteps);\n  if (!daJsEmbed && !daIframeEmbed) {\n    history.replaceState(\n      { steps: daSteps },\n      \"\",\n      daLocationBar + daPageSep + daSteps,\n    );\n  }\n  var daReloadAfter = daReloadAfterSeconds;\n  if (daReloadAfter > 0) {\n    daReloader = setTimeout(function () {\n      daRefreshSubmit();\n    }, daReloadAfter);\n  }\n  if (daUsingGA && !daObserverMode) {\n    gtag(\"js\", new Date());\n  }\n  window.onpopstate = function (event) {\n    if (\n      event.state != null &&\n      event.state.steps < daSteps &&\n      daAllowGoingBack\n    ) {\n      $(\"#dabackbutton\").submit();\n    }\n  };\n  $(window).bind(\"unload\", function () {\n    if (!daObserverMode) {\n      daStopCheckingIn();\n    }\n    if (daSocket != null && daSocket.connected) {\n      //console.log('Terminating interview socket because window unloaded');\n      daSocket.emit(\"terminate\");\n    }\n  });\n  var daDefaultAllowList = bootstrap.Tooltip.Default.allowList;\n  daDefaultAllowList[\"*\"].push(\"style\");\n  daDefaultAllowList[\"a\"].push(\"style\");\n  daDefaultAllowList[\"img\"].push(\"style\");\n  if (daJsEmbed) {\n    $.ajax({\n      type: \"POST\",\n      url: daPostURL,\n      beforeSend: addCsrfHeader,\n      xhrFields: {\n        withCredentials: true,\n      },\n      data: \"csrf_token=\" + daCsrf + \"&ajax=1\",\n      success: function (data) {\n        setTimeout(function () {\n          daProcessAjax(data, $(\"#daform\"), 0);\n        }, 0);\n      },\n      error: function (xhr, status, error) {\n        setTimeout(function () {\n          daProcessAjaxError(xhr, status, error);\n        }, 0);\n      },\n    });\n  }\n  if (daObserverMode) {\n    if (\n      location.protocol === \"http:\" ||\n      document.location.protocol === \"http:\"\n    ) {\n      daSocket = io.connect(\"http://\" + document.domain + \"/observer\", {\n        path: daRootUrl + \"/ws/socket.io\",\n        query: \"i=\" + daYamlFilename,\n      });\n    }\n    if (\n      location.protocol === \"https:\" ||\n      document.location.protocol === \"https:\"\n    ) {\n      daSocket = io.connect(\"https://\" + document.domain + \"/observer\", {\n        path: daRootUrl + \"/ws/socket.io\",\n        query: \"i=\" + daYamlFilename,\n      });\n    }\n    if (typeof daSocket !== \"undefined\") {\n      daSocket.on(\"connect\", function () {\n        //console.log(\"Connected!\");\n        daSocket.emit(\"observe\", {\n          uid: daUid,\n          i: daYamlFilename,\n          userid: daUserObserved,\n        });\n        daConnected = true;\n      });\n      daSocket.on(\"terminate\", function () {\n        //console.log(\"Terminating socket\");\n        daSocket.disconnect();\n      });\n      daSocket.on(\"disconnect\", function () {\n        //console.log(\"Disconnected socket\");\n        //daSocket = null;\n      });\n      daSocket.on(\"stopcontrolling\", function (data) {\n        window.parent.daStopControlling(data.key);\n      });\n      daSocket.on(\"start_being_controlled\", function (data) {\n        //console.log(\"Got start_being_controlled\");\n        daConfirmed = true;\n        daPushChanges();\n        window.parent.daGotConfirmation(data.key);\n      });\n      daSocket.on(\"abortcontrolling\", function (data) {\n        //console.log(\"Got abortcontrolling\");\n        //daSendChanges = false;\n        //daConfirmed = false;\n        //daStopPushChanges();\n        window.parent.daAbortControlling(data.key);\n      });\n      daSocket.on(\"noconnection\", function (data) {\n        //console.log(\"warning: no connection\");\n        if (daNoConnectionCount++ > 2) {\n          //console.log(\"error: no connection\");\n          window.parent.daStopControlling(data.key);\n        }\n      });\n      daSocket.on(\"newpage\", function (incoming) {\n        //console.log(\"Got newpage\")\n        var data = incoming.obj;\n        $(daTargetDiv).html(data.body);\n        $(daTargetDiv).parent().removeClass();\n        $(daTargetDiv).parent().addClass(data.bodyclass);\n        daInitialize(1);\n        for (var i = 0; i < data.extra_scripts.length; i++) {\n          daEvalExtraScript(data.extra_scripts[i]);\n        }\n        for (var i = 0; i < data.extra_css.length; i++) {\n          $(\"head\").append(data.extra_css[i]);\n        }\n        document.title = data.browser_title;\n        if ($(\"html\").attr(\"lang\") != data.lang) {\n          $(\"html\").attr(\"lang\", data.lang);\n        }\n        daPushChanges();\n      });\n      daSocket.on(\"pushchanges\", function (data) {\n        //console.log(\"Got pushchanges: \" + JSON.stringify(data));\n        var valArray = Object();\n        var values = data.parameters;\n        for (var i = 0; i < values.length; i++) {\n          valArray[values[i].name] = values[i].value;\n        }\n        $(\"#daform\").each(function () {\n          $(this)\n            .find(\":input\")\n            .each(function () {\n              var type = $(this).attr(\"type\");\n              var id = $(this).attr(\"id\");\n              var name = $(this).attr(\"name\");\n              if (type == \"checkbox\") {\n                if (name in valArray) {\n                  if (valArray[name] == \"True\") {\n                    if ($(this).prop(\"checked\") != true) {\n                      $(this).prop(\"checked\", true);\n                      $(this).trigger(\"change\");\n                    }\n                  } else {\n                    if ($(this).prop(\"checked\") != false) {\n                      $(this).prop(\"checked\", false);\n                      $(this).trigger(\"change\");\n                    }\n                  }\n                } else {\n                  if ($(this).prop(\"checked\") != false) {\n                    $(this).prop(\"checked\", false);\n                    $(this).trigger(\"change\");\n                  }\n                }\n              } else if (type == \"radio\") {\n                if (name in valArray) {\n                  if (valArray[name] == $(this).val()) {\n                    if ($(this).prop(\"checked\") != true) {\n                      $(this).prop(\"checked\", true);\n                      $(this).trigger(\"change\");\n                    }\n                  } else {\n                    if ($(this).prop(\"checked\") != false) {\n                      $(this).prop(\"checked\", false);\n                      $(this).trigger(\"change\");\n                    }\n                  }\n                }\n              } else if ($(this).data().hasOwnProperty(\"sliderMax\")) {\n                $(this).slider(\"setValue\", parseInt(valArray[name]));\n              } else {\n                if (name in valArray) {\n                  $(this).val(valArray[name]);\n                }\n              }\n            });\n        });\n      });\n    }\n    daObserverChangesInterval = setInterval(daPushChanges, daCheckinSeconds);\n  }\n  $(document).trigger(\"daPageLoad\");\n}\n\nfunction daSetPosition(position) {\n  document.getElementById(\"da_track_location\").value = JSON.stringify({\n    latitude: position.coords.latitude,\n    longitude: position.coords.longitude,\n  });\n}\n\nfunction daAddListenersFor(elementId) {\n  $('[name=\"' + elementId + '\"]').change(function () {\n    if ($(this).attr(\"type\") == \"checkbox\" || $(this).attr(\"type\") == \"radio\") {\n      theVal = $('[name=\"' + elementId + '\"]:checked').val();\n    } else {\n      theVal = $(this).val();\n    }\n    var n = 0;\n    if ($(this).data(\"disableothers\")) {\n      var id_list = JSON.parse(\n        decodeURIComponent(escape(atob($(this).data(\"disableothers\")))),\n      );\n      n = id_list.length;\n    }\n    if (n) {\n      for (var i = 0; i < n; ++i) {\n        var theElementId = id_list[i].replace(/(:|\\.|\\[|\\]|,|=)/g, \"\\\\$1\");\n        if (theVal == null || theVal == \"\") {\n          daDisableIfNotHidden(\n            \"#daform [name='\" + theElementId + \"']:not([type=hidden])\",\n            false,\n          );\n          daDisableIfNotHidden(\n            \"#daform [id='\" + theElementId + \"']:not([type=hidden])\",\n            false,\n          );\n        } else {\n          daDisableIfNotHidden(\n            \"#daform [name='\" + theElementId + \"']:not([type=hidden])\",\n            true,\n          );\n          daDisableIfNotHidden(\n            \"#daform [id='\" + theElementId + \"']:not([type=hidden])\",\n            true,\n          );\n        }\n      }\n    } else {\n      if (theVal == null || theVal == \"\") {\n        daDisableIfNotHidden(\n          \"#daform input:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          false,\n        );\n        daDisableIfNotHidden(\n          \"#daform select:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          false,\n        );\n        daDisableIfNotHidden(\n          \"#daform textarea:not([name='\" + elementId + \"']):not([type=hidden])\",\n          false,\n        );\n      } else {\n        daDisableIfNotHidden(\n          \"#daform input:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          true,\n        );\n        daDisableIfNotHidden(\n          \"#daform select:not([name='\" +\n            elementId +\n            \"']):not([id^='\" +\n            elementId +\n            \"']):not([type=hidden])\",\n          true,\n        );\n        daDisableIfNotHidden(\n          \"#daform textarea:not([name='\" + elementId + \"']):not([type=hidden])\",\n          true,\n        );\n      }\n    }\n  });\n  $(\"[data-disableothers]\").trigger(\"change\");\n}\n\nfunction daShowError(error) {\n  switch (error.code) {\n    case error.PERMISSION_DENIED:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"User denied the request for Geolocation\",\n      });\n      console.log(\"User denied the request for Geolocation.\");\n      break;\n    case error.POSITION_UNAVAILABLE:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"Location information is unavailable\",\n      });\n      console.log(\"Location information is unavailable.\");\n      break;\n    case error.TIMEOUT:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"The request to get user location timed out\",\n      });\n      console.log(\"The request to get user location timed out.\");\n      break;\n    case error.UNKNOWN_ERROR:\n      document.getElementById(\"da_track_location\").value = JSON.stringify({\n        error: \"An unknown error occurred\",\n      });\n      console.log(\"An unknown error occurred.\");\n      break;\n  }\n}\n\n/*!\n * LABELAUTY jQuery Plugin\n *\n * @file: jquery-labelauty.js\n * @author: Francisco Neves (@fntneves)\n * @site: www.francisconeves.com\n * @license: MIT License\n */\n\n// Edited by Jonathan Pyle, 2018-2019\n\n(function ($) {\n  $.fn.labelauty = function (options) {\n    /*\n     * Our default settings\n     * Hope you don't need to change anything, with these settings\n     */\n    var settings = $.extend(\n      {\n        // Development Mode\n        // This will activate console debug messages\n        development: false,\n\n        // Trigger Class\n        // This class will be used to apply styles\n        class: \"labelauty\",\n\n        // Use icon?\n        // If false, then only a text label represents the input\n        icon: true,\n\n        // Use text label ?\n        // If false, then only an icon represents the input\n        label: true,\n\n        // Separator between labels' messages\n        // If you use this separator for anything, choose a new one\n        separator: \"|\",\n\n        // Default Checked Message\n        // This message will be visible when input is checked\n        checked_label: \"Checked\",\n\n        // Default UnChecked Message\n        // This message will be visible when input is unchecked\n        unchecked_label: \"Unchecked\",\n\n        // Force random ID's\n        // Replace original ID's with random ID's,\n        force_random_id: false,\n\n        // Minimum Label Width\n        // This value will be used to apply a minimum width to the text labels\n        minimum_width: false,\n\n        // Use the greatest width between two text labels ?\n        // If this has a true value, then label width will be the greatest between labels\n        same_width: false,\n      },\n      options,\n    );\n\n    /*\n     * Let's create the core function\n     * It will try to cover all settings and mistakes of using\n     */\n    return this.each(function () {\n      var $object = $(this);\n      var selected = $object.is(\":checked\");\n      var type = $object.attr(\"type\");\n      var use_icons = true;\n      var use_labels = true;\n      var labels;\n      var labels_object;\n      var color;\n      var classes;\n      var input_id;\n\n      //Get the aria label from the input element\n      var aria_label = $object.attr(\"aria-label\");\n\n      // Hide the object form screen readers\n      $object.attr(\"aria-hidden\", true);\n\n      // Test if object is a check input\n      // Don't mess me up, come on\n      if ($object.is(\":checkbox\") === false && $object.is(\":radio\") === false)\n        return this;\n\n      classes = $object\n        .attr(\"class\")\n        .split(/\\s+/)\n        .filter(function (value, index, arr) {\n          return value != \"da-to-labelauty\";\n        });\n      // Add \"labelauty\" class to all checkboxes\n      // So you can apply some custom styles\n      $object.addClass(settings.class);\n\n      // Get the value of \"data-labelauty\" attribute\n      // Then, we have the labels for each case (or not, as we will see)\n      labels = $object.attr(\"data-labelauty\");\n      color = $object.attr(\"data-color\");\n\n      use_labels = settings.label;\n      use_icons = settings.icon;\n\n      // It's time to check if it's going to the right way\n      // Null values, more labels than expected or no labels will be handled here\n      if (use_labels === true) {\n        if (labels == null || labels.length === 0) {\n          // If attribute has no label and we want to use, then use the default labels\n          labels_object = [settings.unchecked_label, settings.checked_label];\n        } else {\n          // Ok, ok, it's time to split Checked and Unchecked labels\n          // We split, by the \"settings.separator\" option\n          labels_object = labels.split(settings.separator);\n\n          // Now, let's check if exist _only_ two labels\n          // If there's more than two, then we do not use labels :(\n          // Else, do some additional tests\n          if (labels_object.length > 2) {\n            use_labels = false;\n            debug(\n              settings.development,\n              \"There's more than two labels. LABELAUTY will not use labels.\",\n            );\n          } else {\n            // If there's just one label (no split by \"settings.separator\"), it will be used for both cases\n            // Here, we have the possibility of use the same label for both cases\n            if (labels_object.length === 1)\n              debug(\n                settings.development,\n                \"There's just one label. LABELAUTY will use this one for both cases.\",\n              );\n          }\n        }\n      }\n\n      /*\n       * Let's begin the beauty\n       */\n\n      // Start hiding ugly checkboxes\n      // Obviously, we don't need native checkboxes :O\n      $object.css({ display: \"none\" });\n\n      // We don't need more data-labelauty attributes!\n      // Ok, ok, it's just for beauty improvement\n      $object.removeAttr(\"data-labelauty\");\n\n      // Now, grab checkbox ID Attribute for \"label\" tag use\n      // If there's no ID Attribute, then generate a new one\n      input_id = $object.attr(\"id\");\n\n      if (\n        settings.force_random_id ||\n        input_id == null ||\n        input_id.trim() === \"\"\n      ) {\n        var input_id_number = 1 + Math.floor(Math.random() * 1024000);\n        input_id = \"labelauty-\" + input_id_number;\n\n        // Is there any element with this random ID ?\n        // If exists, then increment until get an unused ID\n        while ($(input_id).length !== 0) {\n          input_id_number++;\n          input_id = \"labelauty-\" + input_id_number;\n          debug(\n            settings.development,\n            \"Holy crap, between 1024 thousand numbers, one raised a conflict. Trying again.\",\n          );\n        }\n\n        $object.attr(\"id\", input_id);\n      }\n\n      // Now, add necessary tags to make this work\n      // Here, we're going to test some control variables and act properly\n\n      var element = jQuery(\n        create(\n          input_id,\n          aria_label,\n          selected,\n          type,\n          labels_object,\n          use_labels,\n          use_icons,\n        ),\n      );\n\n      for (var idx = 0; idx < classes.length; idx++) {\n        $(element).addClass(classes[idx]);\n      }\n      if ($object.is(\":checked\")) {\n        $(element).addClass(\"btn-\" + color);\n        $(element).removeClass(\n          \"btn-light bg-secondary-subtle text-light-emphasis\",\n        );\n        $(element).attr(\"aria-checked\", true);\n      } else {\n        $(element).removeClass(\"btn-\" + color);\n        $(element).addClass(\n          \"btn-light bg-secondary-subtle text-light-emphasis\",\n        );\n        $(element).attr(\"aria-checked\", false);\n      }\n      var the_name = $object.attr(\"name\");\n      if (type == \"radio\") {\n        $object.on(\"change\", function () {\n          $object\n            .parents(\".da-fieldset\")\n            .first()\n            .find(\".da-has-error\")\n            .remove();\n          var anyChecked = false;\n          $('input.labelauty[name=\"' + the_name + '\"]:enabled').each(\n            function () {\n              if ($(this).is(\":checked\")) {\n                $(this)\n                  .next()\n                  .addClass(\"btn-\" + color);\n                $(this)\n                  .next()\n                  .removeClass(\n                    \"btn-light bg-secondary-subtle text-light-emphasis\",\n                  );\n                $(this).next().attr(\"aria-checked\", true);\n                anyChecked = true;\n              } else {\n                $(this)\n                  .next()\n                  .removeClass(\"btn-\" + color);\n                $(this)\n                  .next()\n                  .addClass(\n                    \"btn-light bg-secondary-subtle text-light-emphasis\",\n                  );\n                $(this).next().attr(\"aria-checked\", false);\n              }\n            },\n          );\n          if (anyChecked) {\n            $('input.labelauty[name=\"' + the_name + '\"]:enabled').each(\n              function () {\n                if ($(this).is(\":checked\")) {\n                  $(this).next().attr(\"tabindex\", 0);\n                } else {\n                  $(this).next().attr(\"tabindex\", -1);\n                }\n              },\n            );\n          }\n        });\n      } else {\n        $object.on(\"change\", function () {\n          $object\n            .parents(\".da-fieldset\")\n            .first()\n            .find(\".da-has-error\")\n            .remove();\n          if ($(this).is(\":checked\")) {\n            $(this)\n              .next()\n              .addClass(\"btn-\" + color);\n            $(this)\n              .next()\n              .removeClass(\"btn-light bg-secondary-subtle text-light-emphasis\");\n            $(this).next().attr(\"aria-checked\", true);\n          } else {\n            $(this)\n              .next()\n              .removeClass(\"btn-\" + color);\n            $(this)\n              .next()\n              .addClass(\"btn-light bg-secondary-subtle text-light-emphasis\");\n            $(this).next().attr(\"aria-checked\", false);\n          }\n        });\n      }\n\n      element.keydown(function (event) {\n        $object.parents(\".da-fieldset\").first().find(\".da-has-error\").remove();\n        var theCode = event.which || event.keyCode;\n        if ($object.closest(\".dachoicewithhelp\").length > 0) {\n          if (theCode === 40) {\n            event.preventDefault();\n            var nextElement = $object\n              .closest(\".dachoicewithhelp\")\n              .next(\"div\")\n              .find(\"label\");\n            if (nextElement.length) {\n              nextElement.focus();\n              nextElement.click();\n            }\n            return false;\n          }\n          if (theCode === 38) {\n            event.preventDefault();\n            var prevElement = $object\n              .closest(\".dachoicewithhelp\")\n              .prev(\"div\")\n              .find(\"label\");\n            if (prevElement.length) {\n              prevElement.focus();\n              prevElement.click();\n            }\n            return false;\n          }\n        } else {\n          if (theCode === 40) {\n            event.preventDefault();\n            var nextElement = $object.next(\"label\").next(\"input\").next(\"label\");\n            if (nextElement.length) {\n              nextElement.focus();\n              nextElement.click();\n            }\n            return false;\n          }\n          if (theCode === 38) {\n            event.preventDefault();\n            var prevElement = $object.prev(\"label\");\n            if (prevElement.length) {\n              prevElement.focus();\n              prevElement.click();\n            }\n            return false;\n          }\n        }\n        if (theCode === 32 || theCode === 13) {\n          event.preventDefault();\n          if ($object.is(\":checked\")) {\n            $(this).addClass(\"btn-\" + color);\n            $(this).removeClass(\n              \"btn-light bg-secondary-subtle text-light-emphasis\",\n            );\n            $object.prop(\"checked\", false);\n            $(this).attr(\"aria-checked\", true);\n          } else {\n            $(this).addClass(\"btn-\" + color);\n            $(this).removeClass(\n              \"btn-light bg-secondary-subtle text-light-emphasis\",\n            );\n            $object.prop(\"checked\", true);\n            $(this).attr(\"aria-checked\", false);\n          }\n          $object.trigger(\"change\");\n        }\n      });\n\n      $object.after(element);\n\n      // Now, add \"min-width\" to label\n      // Let's say the truth, a fixed width is more beautiful than a variable width\n      if (settings.minimum_width !== false)\n        $object\n          .next(\"label[for='\" + input_id + \"']\")\n          .css({ \"min-width\": settings.minimum_width });\n\n      // Now, add \"min-width\" to label\n      // Let's say the truth, a fixed width is more beautiful than a variable width\n      if (settings.same_width != false && settings.label == true) {\n        var label_object = $object.next(\"label[for='\" + input_id + \"']\");\n        var unchecked_width = getRealWidth(\n          label_object.find(\"span.labelauty-unchecked\"),\n        );\n        var checked_width = getRealWidth(\n          label_object.find(\"span.labelauty-checked\"),\n        );\n\n        if (unchecked_width > checked_width)\n          label_object.find(\"span.labelauty-checked\").width(unchecked_width);\n        else label_object.find(\"span.labelauty-unchecked\").width(checked_width);\n      }\n    });\n  };\n\n  /*\n   * Tricky code to work with hidden elements, like tabs.\n   * Note: This code is based on jquery.actual plugin.\n   * https://github.com/dreamerslab/jquery.actual\n   */\n  function getRealWidth(element) {\n    var width = 0;\n    var $target = element;\n    var css_class = \"hiddenelement\";\n\n    $target = $target.clone().attr(\"class\", css_class).appendTo(\"body\");\n    width = $target.width(true);\n    $target.remove();\n\n    return width;\n  }\n\n  function debug(debug, message) {\n    if (debug && window.console && window.console.log)\n      window.console.log(\"jQuery-LABELAUTY: \" + message);\n  }\n\n  function decode_html(text) {\n    text = text.replace(/&amp;/g, \"&\");\n    text = text.replace(/&lt;/g, \"<\");\n    text = text.replace(/&gt;/g, \">\");\n    text = text.replace(/&quot;/g, '\"');\n    return text;\n  }\n  function create(\n    input_id,\n    aria_label,\n    selected,\n    type,\n    messages_object,\n    label,\n    icon,\n  ) {\n    var block;\n    var unchecked_message;\n    var checked_message;\n    var aria = \"\";\n\n    if (messages_object == null) unchecked_message = checked_message = \"\";\n    else {\n      unchecked_message = messages_object[0];\n\n      // If checked message is null, then put the same text of unchecked message\n      if (messages_object[1] == null) checked_message = unchecked_message;\n      else checked_message = messages_object[1];\n    }\n    var uncheck_icon;\n    if (type == \"checkbox\") {\n      uncheck_icon = '<i class=\"fa-regular fa-square fa-fw\"></i>';\n    } else {\n      uncheck_icon = '<i class=\"fa-regular fa-circle fa-fw\"></i>';\n    }\n    var check_icon;\n    if (type == \"checkbox\") {\n      check_icon = '<i class=\"fa-solid fa-check fa-fw\"></i>';\n    } else {\n      check_icon = '<i class=\"fa-solid fa-check-circle fa-fw\"></i>';\n    }\n\n    if (aria_label == null) aria = \"\";\n    else\n      aria =\n        'tabindex=\"0\" role=\"' +\n        type +\n        '\" aria-checked=\"' +\n        selected +\n        '\" aria-label=\"' +\n        aria_label +\n        '\"';\n\n    if (label == true && icon == true) {\n      block =\n        '<label class=\"text-start btn btn-light bg-secondary-subtle text-light-emphasis dalabelauty\" for=\"' +\n        input_id +\n        '\" ' +\n        aria +\n        \">\" +\n        '<span class=\"labelauty-unchecked-image text-body-secondary\">' +\n        uncheck_icon +\n        \"</span>\" +\n        '<span class=\"labelauty-unchecked\">' +\n        decode_html(unchecked_message) +\n        \"</span>\" +\n        '<span class=\"labelauty-checked-image\">' +\n        check_icon +\n        \"</span>\" +\n        '<span class=\"labelauty-checked\">' +\n        decode_html(checked_message) +\n        \"</span>\" +\n        \"</label>\";\n    } else if (label == true) {\n      block =\n        '<label class=\"text-start btn btn-light bg-secondary-subtle text-light-emphasis dalabelauty\" for=\"' +\n        input_id +\n        '\" ' +\n        aria +\n        \">\" +\n        '<span class=\"labelauty-unchecked\">' +\n        decode_html(unchecked_message) +\n        \"</span>\" +\n        '<span class=\"labelauty-checked\">' +\n        decode_html(checked_message) +\n        \"</span>\" +\n        \"</label>\";\n    } else {\n      block =\n        '<label class=\"text-start btn btn-light bg-secondary-subtle text-light-emphasis dalabelauty\" for=\"' +\n        input_id +\n        '\" ' +\n        aria +\n        \">\" +\n        '<span class=\"labelauty-unchecked-image text-body-secondary\">' +\n        uncheck_icon +\n        \"</span>\" +\n        '<span class=\"labelauty-checked-image\">' +\n        check_icon +\n        \"</span>\" +\n        \"</label>\";\n    }\n\n    return block;\n  }\n})(window.jQuery);\n\n/* =============================================================\n * bootstrap-combobox.js v1.1.8\n * =============================================================\n * Copyright 2012 Daniel Farrell\n * Modified 2018 for docassemble by Jonathan Pyle\n * Modified 2022 for docassemble by Bryce Willey\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n(function ($) {\n  \"use strict\";\n\n  /* COMBOBOX PUBLIC CLASS DEFINITION\n   * ================================ */\n\n  var Combobox = function (element, options) {\n    this.options = $.extend({}, $.fn.combobox.defaults, options);\n    this.template = this.options.template || this.template;\n    this.$source = $(element);\n    if (this.$source.hasClass(\"da-combobox-floating\")) {\n      this.$label = this.$source.next(\"label\");\n    } else {\n      this.$label = null;\n    }\n    this.$container = this.setup();\n    this.$element = this.$container.find(\"input[type=text]\");\n    this.$target = this.$container.find(\"input[type=hidden]\");\n    this.mousedover = false;\n    if (this.$source.attr(\"disabled\") !== undefined) {\n      this.$target.prop(\"disabled\", true);\n    }\n    this.$button = this.$container.find(\".dacomboboxtoggle\");\n    if (this.$float) {\n      this.$menu = $(this.options.menu).insertAfter(this.$float);\n    } else {\n      this.$menu = $(this.options.menu).insertAfter(this.$element);\n    }\n    this.matcher = this.options.matcher || this.matcher;\n    this.sorter = this.options.sorter || this.sorter;\n    this.highlighter = this.options.highlighter || this.highlighter;\n    this.clearIfNoMatch = this.options.clearIfNoMatch;\n    this.shown = false;\n    this.selected = false;\n    this.refresh();\n    this.transferAttributes();\n    this.listen();\n  };\n\n  Combobox.prototype = {\n    constructor: Combobox,\n\n    setup: function () {\n      //console.log('setup');\n      var combobox = $(this.template());\n      this.$source.before(combobox);\n      this.$source.hide();\n      if (this.$label) {\n        this.$float = $('<div class=\"form-floating\"></div>');\n        var innerText = this.$label.text();\n        var inputElement = combobox.find('input[type=\"text\"]');\n        inputElement.attr(\"placeholder\", innerText);\n        inputElement.detach();\n        this.$label.detach();\n        this.$float.append(inputElement, this.$label);\n        this.$float.insertAfter(inputElement);\n      } else {\n        this.$float = null;\n      }\n      return combobox;\n    },\n\n    template: function () {\n      //console.log('template');\n      if (this.options.showButton) {\n        if (this.options.functionalButton) {\n          return (\n            '<div class=\"combobox-container\"> <input type=\"hidden\" /> ' +\n            '<div class=\"input-group\"> <input type=\"text\" alt=\"' +\n            this.options.inputBox +\n            '\" role=\"combobox\" aria-autocomplete=\"list\" aria-expanded=\"false\" aria-activedescendant=\"\" autocomplete=\"off\" /> ' +\n            '<button class=\"btn btn-outline-secondary dacomboboxtoggle\" type=\"button\" tabindex=\"-1\" aria-label=\"' +\n            this.options.buttonLabel +\n            '\" aria-expanded=\"false\" aria-controls=\"id_controls\">' +\n            '<span class=\"fa-solid fa-caret-down\"></span><span class=\"fa-solid fa-xmark\"></span>' +\n            \"</button></div> </div>\"\n          );\n        } else {\n          return (\n            '<div class=\"combobox-container\"> <input type=\"hidden\" /> ' +\n            '<div class=\"input-group\"> <input type=\"text\" alt=\"' +\n            this.options.inputBox +\n            '\" role=\"combobox\" aria-autocomplete=\"list\" aria-expanded=\"false\" aria-activedescendant=\"\" autocomplete=\"off\" /> ' +\n            '<button class=\"btn btn-outline-secondary\" type=\"button\" disabled tabindex=\"-1\">' +\n            '<span class=\"fa-solid fa-caret-down\"></span>' +\n            \"</button></div> </div>\"\n          );\n        }\n      } else {\n        return (\n          '<div class=\"combobox-container\"> <input type=\"hidden\" /> ' +\n          '<input type=\"text\" alt=\"' +\n          this.options.inputBox +\n          '\" role=\"combobox\" aria-autocomplete=\"list\" aria-expanded=\"false\" aria-activedescendant=\"\" autocomplete=\"off\" /></div>'\n        );\n      }\n    },\n\n    disable: function () {\n      this.$element.prop(\"disabled\", true);\n      this.$button.attr(\"disabled\", true);\n      this.$target.prop(\"disabled\", true);\n      this.$source.prop(\"disabled\", true);\n      this.disabled = true;\n      this.$container.addClass(\"combobox-disabled\");\n    },\n\n    enable: function () {\n      this.$element.prop(\"disabled\", false);\n      this.$button.attr(\"disabled\", false);\n      this.$target.prop(\"disabled\", false);\n      this.$source.prop(\"disabled\", false);\n      this.disabled = false;\n      this.$container.removeClass(\"combobox-disabled\");\n    },\n    parse: function () {\n      //console.log('parse');\n      var that = this,\n        map = {},\n        revMap = {},\n        source = [],\n        selected = false,\n        selectedValue = \"\";\n      this.$source.find(\"option\").each(function () {\n        var option = $(this);\n        if (option.val() === \"\") {\n          that.options.placeholder = option.text();\n          return;\n        }\n        map[option.text()] = option.val();\n        revMap[option.val()] = option.text();\n        source.push(option.text());\n        if (option.prop(\"selected\")) {\n          selected = option.text();\n          selectedValue = option.val();\n        }\n      });\n      this.map = map;\n      this.revMap = revMap;\n      if (selected) {\n        var triggerElement = false;\n        var triggerTarget = false;\n        var oldVal;\n        oldVal = this.$element.val();\n        if (oldVal !== selected) {\n          this.$element.val(selected);\n          triggerElement = true;\n        }\n        oldVal = this.$target.val();\n        if (oldVal !== selectedValue) {\n          this.$target.val(selectedValue);\n          triggerTarget = true;\n        }\n        this.$container.addClass(\"combobox-selected\");\n        this.selected = true;\n        if (triggerTarget) {\n          this.$target.trigger(\"change\");\n        }\n        if (triggerElement) {\n          this.$element.trigger(\"change\");\n        }\n      } else {\n        this.$container.removeClass(\"combobox-selected\");\n        this.selected = false;\n      }\n      return source;\n    },\n\n    transferAttributes: function () {\n      //console.log('transferAttributes');\n      this.options.placeholder =\n        this.$source.attr(\"data-placeholder\") || this.options.placeholder;\n      if (this.options.appendId !== \"undefined\") {\n        // keep the source id on the input, otherwise the label (which refers to it by id) will be lost\n        this.$element.attr(\"id\", this.$source.attr(\"id\"));\n        this.$source.attr(\n          \"id\",\n          this.$source.attr(\"id\") + this.options.appendId,\n        );\n        daComboBoxes[this.$element.attr(\"id\")] = this;\n      }\n      this.$menu.attr(\"id\", this.$element.attr(\"id\") + \"menu\");\n      // Set aria-controls now that things have ids\n      this.$element.attr(\"aria-controls\", this.$menu.attr(\"id\"));\n      this.$element.attr(\"aria-owns\", this.$menu.attr(\"id\"));\n      this.$button.attr(\"aria-controls\", this.$menu.attr(\"id\"));\n      this.$button.attr(\"aria-label\", this.$source.attr(\"aria-label\"));\n      if (this.$source.attr(\"aria-labelledby\")) {\n        this.$element.attr(\n          \"aria-labelledby\",\n          this.$source.attr(\"aria-labelledby\"),\n        );\n      } else {\n        this.$source.attr(\"aria-labelledby\", \"daMainQuestion\");\n      }\n      this.$button.attr(\n        \"aria-labelledby\",\n        this.$source.attr(\"aria-labelledby\"),\n      );\n      this.$button.attr(\n        \"aria-describedby\",\n        this.$source.attr(\"aria-describedby\"),\n      );\n      this.$element.attr(\"placeholder\", this.options.placeholder);\n      this.$target.prop(\"name\", this.$source.prop(\"name\"));\n      this.$target.val(this.$source.val());\n      this.$source.removeAttr(\"name\"); // Remove from source otherwise form will pass parameter twice.\n      this.$element.attr(\"required\", this.$source.attr(\"required\"));\n      this.$element.attr(\"rel\", this.$source.attr(\"rel\"));\n      this.$element.attr(\"title\", this.$source.attr(\"title\"));\n      this.$element.attr(\"class\", this.$source.attr(\"class\"));\n      if (this.$element.hasClass(\"daspaceafter\")) {\n        this.$element.removeClass(\"daspaceafter\");\n        this.$container.addClass(\"daspaceafter\");\n      }\n      this.$element.attr(\"tabindex\", this.$source.attr(\"tabindex\"));\n      this.$source.removeAttr(\"tabindex\");\n      if (!this.$target.val() && this.$source.data(\"default\")) {\n        var defaultVal = this.$source.data(\"default\");\n        this.$element.val(defaultVal);\n        this.$target.val(defaultVal);\n      }\n      this.$element.addClass(\"danovalidation\");\n      this.$source.addClass(\"danovalidation\");\n      if (this.$source.attr(\"disabled\") !== undefined) this.disable();\n    },\n\n    select: function () {\n      //console.log(\"select\");\n      var val = this.$menu.find(\".active\").attr(\"data-value\");\n      var oldVal;\n      var triggerElement = false;\n      var triggerTarget = false;\n      var triggerSource = false;\n      this.$container.parent().find(\".da-has-error\").remove();\n      oldVal = this.$element.val();\n      var newVal = this.updater(val);\n      if (oldVal !== newVal) {\n        this.$element.val(newVal);\n        triggerElement = true;\n      }\n      oldVal = this.$target.val();\n      if (oldVal !== this.map[val]) {\n        this.$target.val(this.map[val]); //.trigger(\"change\");\n        triggerTarget = true;\n      }\n      oldVal = this.$source.val();\n      if (oldVal !== this.map[val]) {\n        this.$source.val(this.map[val]);\n        triggerSource = true;\n      }\n      this.$container.addClass(\"combobox-selected\");\n      this.selected = true;\n      this.hide();\n      if (triggerTarget) {\n        this.$target.trigger(\"change\");\n      }\n      if (triggerElement) {\n        this.$element.trigger(\"change\");\n      }\n      if (triggerSource) {\n        this.$source.trigger(\"change\");\n      }\n      return;\n    },\n\n    manualSelect: function (val) {\n      //console.log(\"manualSelect\");\n      var oldVal;\n      var found = false;\n      var triggerSource = false;\n      var triggerTarget = false;\n      this.$container.parent().find(\".da-has-error\").remove();\n      if (val !== \"\" && this.revMap[val] !== undefined) {\n        this.$element.val(this.revMap[val]);\n        found = true;\n      } else {\n        this.$element.val(val);\n      }\n      oldVal = this.$target.val();\n      if (oldVal !== val) {\n        this.$target.val(val);\n        triggerTarget = true;\n      }\n      oldVal = this.$source.val();\n      if (oldVal !== val) {\n        this.$source.val(val);\n        triggerSource = true;\n      }\n      if (val !== \"\" && found) {\n        this.$container.addClass(\"combobox-selected\");\n        this.selected = true;\n      }\n      if (triggerTarget) {\n        this.$target.trigger(\"change\");\n      }\n      this.$element.trigger(\"change\");\n      if (triggerSource) {\n        this.$source.trigger(\"change\");\n      }\n      return;\n    },\n\n    updater: function (item) {\n      //console.log('updater');\n      return item;\n    },\n\n    show: function () {\n      //console.log(\"show\");\n      var pos = $.extend({}, this.$element.position(), {\n        height: this.$element[0].offsetHeight,\n      });\n      this.$menu\n        .insertAfter(this.$element)\n        .css({\n          top: pos.top + pos.height,\n          left: pos.left,\n        })\n        .show();\n\n      this.hidden = false;\n\n      this.$element.attr(\"aria-expanded\", true);\n      this.$button.attr(\"aria-expanded\", true);\n\n      this.shown = true;\n      return this;\n    },\n\n    hide: function () {\n      //console.log('hide');\n      this.$menu.hide();\n      this.hidden = true;\n      this.$element.on(\"blur\", $.proxy(this.blur, this));\n      this.$element.attr(\"aria-expanded\", false);\n      this.$button.attr(\"aria-expanded\", false);\n      this.shown = false;\n      return this;\n    },\n\n    lookup: function (event) {\n      //console.log(\"lookup\");\n      this.query = this.$element.val();\n      this.process(this.source);\n    },\n\n    process: function (items) {\n      var that = this;\n\n      items = $.grep(items, function (item) {\n        return that.matcher(item);\n      });\n\n      items = this.sorter(items);\n\n      if (!items.length) {\n        return this.shown ? this.hide() : this;\n      }\n\n      return this.render(items.slice(0, this.options.items)).show();\n    },\n\n    matcher: function (item) {\n      //console.log('matcher');\n      return ~item.toLowerCase().indexOf(this.query.toLowerCase());\n    },\n\n    sorter: function (items) {\n      //console.log('sorter');\n      var beginswith = [],\n        caseSensitive = [],\n        caseInsensitive = [],\n        item;\n\n      while ((item = items.shift())) {\n        if (!item.toLowerCase().indexOf(this.query.toLowerCase())) {\n          beginswith.push(item);\n        } else if (~item.indexOf(this.query)) {\n          caseSensitive.push(item);\n        } else {\n          caseInsensitive.push(item);\n        }\n      }\n\n      return beginswith.concat(caseSensitive, caseInsensitive);\n    },\n\n    highlighter: function (item) {\n      //console.log('highlighter');\n      var query = this.query.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n      if (!query) {\n        return item;\n      }\n      return item.replace(\n        new RegExp(\"(\" + query + \")\", \"ig\"),\n        function ($1, match) {\n          return \"<b>\" + match + \"</b>\";\n        },\n      );\n    },\n\n    render: function (items) {\n      //console.log('render');\n      var that = this;\n\n      items = $(items).map(function (i, item) {\n        i = $(that.options.item)\n          .attr(\"data-value\", item)\n          .attr(\"aria-label\", item);\n        i.attr(\"id\", that.$element.attr(\"id\") + \"-option-\" + item);\n        i.html(that.highlighter(item));\n        return i[0];\n      });\n\n      this.setActive(items.first());\n      this.$menu.html(items);\n      return this;\n    },\n\n    setActive: function (elem) {\n      elem.addClass(\"active\").attr(\"aria-selected\", true);\n      this.$element.attr(\"aria-activedescendant\", elem.attr(\"id\"));\n    },\n\n    swapActive: function (oldElem, newElem) {\n      oldElem.removeClass(\"active\").attr(\"aria-selected\", false);\n      this.setActive(newElem);\n    },\n\n    next: function (event) {\n      //console.log('next');\n      var active = this.$menu.find('[aria-selected=\"true\"]');\n      var next = active.next();\n\n      if (!next.length) {\n        next = $(this.$menu.find(\"li\")[0]);\n      }\n\n      this.swapActive(active, next);\n    },\n\n    prev: function (event) {\n      //console.log('prev');\n      var active = this.$menu.find('[aria-selected=\"true\"]');\n      var prev = active.prev();\n\n      if (!prev.length) {\n        prev = this.$menu.find(\"li\").last();\n      }\n\n      this.swapActive(active, prev);\n    },\n\n    toggle: function (e) {\n      //console.log(\"toggle\");\n      if (!this.disabled) {\n        if (this.$container.hasClass(\"combobox-selected\")) {\n          this.clearAll();\n          this.$element.attr(\"aria-expanded\", false);\n          this.$button.attr(\"aria-expanded\", false);\n        } else {\n          if (this.shown) {\n            this.$element.attr(\"aria-expanded\", false);\n            this.$button.attr(\"aria-expanded\", false);\n            this.hide();\n          } else {\n            this.$element.attr(\"aria-expanded\", true);\n            this.$button.attr(\"aria-expanded\", true);\n            this.clearElement();\n            this.lookup();\n          }\n        }\n      }\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      return false;\n    },\n\n    clearAll: function () {\n      //console.log('clearAll');\n      var triggerElement = false;\n      var triggerSource = false;\n      var triggerTarget = false;\n      var oldVal;\n      oldVal = this.$element.val();\n      if (oldVal !== \"\") {\n        this.$element.val(\"\");\n        triggerElement = true;\n      }\n      oldVal = this.$source.val();\n      if (oldVal !== \"\") {\n        this.$source.val(\"\");\n        triggerSource = true;\n      }\n      oldVal = this.$target.val();\n      if (oldVal !== \"\") {\n        this.$target.val(\"\");\n        triggerTarget = true;\n      }\n      this.$container.removeClass(\"combobox-selected\");\n      if (triggerTarget) {\n        this.$target.trigger(\"change\");\n      }\n      if (triggerElement) {\n        this.$element.trigger(\"change\");\n      }\n      if (triggerSource) {\n        this.$source.trigger(\"change\");\n      }\n    },\n\n    clearElement: function () {\n      //console.log('clearElement');\n      this.$element.val(\"\").focus();\n    },\n\n    clearTarget: function () {\n      //console.log('clearTarget');\n      this.$source.val(\"\");\n      this.$target.val(\"\");\n      this.$container.removeClass(\"combobox-selected\");\n      this.selected = false;\n    },\n\n    refresh: function () {\n      //console.log('refresh');\n      this.source = this.parse();\n      this.options.items = this.source.length;\n    },\n\n    listen: function () {\n      //console.log('listen');\n      this.$element\n        .on(\"focus\", $.proxy(this.focus, this))\n        .on(\"change\", $.proxy(this.change, this))\n        .on(\"blur\", $.proxy(this.blur, this))\n        .on(\"keypress\", $.proxy(this.keypress, this))\n        .on(\"keyup\", $.proxy(this.keyup, this));\n\n      if (this.eventSupported(\"keydown\")) {\n        this.$element.on(\"keydown\", $.proxy(this.keydown, this));\n      }\n\n      this.$menu\n        .on(\"click\", $.proxy(this.click, this))\n        .on(\"mouseenter\", \"li\", $.proxy(this.mouseenter, this))\n        .on(\"mouseleave\", \"li\", $.proxy(this.mouseleave, this))\n        .on(\"mousedown\", \"li\", $.proxy(this.mousedown, this));\n\n      if (this.options.showButton && this.options.functionalButton) {\n        this.$button.on(\"click touchend\", $.proxy(this.toggle, this));\n      }\n    },\n\n    eventSupported: function (eventName) {\n      //console.log('eventSupported');\n      var isSupported = eventName in this.$element;\n      if (!isSupported) {\n        this.$element.setAttribute(eventName, \"return;\");\n        isSupported = typeof this.$element[eventName] === \"function\";\n      }\n      return isSupported;\n    },\n\n    move: function (e) {\n      //console.log(\"move\");\n      if (!this.shown) {\n        return;\n      }\n\n      switch (e.keyCode) {\n        case 9: // tab\n        case 13: // enter\n        case 27: // escape\n          e.preventDefault();\n          break;\n\n        case 38: // up arrow\n          e.preventDefault();\n          this.prev();\n          this.fixMenuScroll();\n          break;\n\n        case 40: // down arrow\n          e.preventDefault();\n          this.next();\n          this.fixMenuScroll();\n          break;\n      }\n      e.stopPropagation();\n    },\n\n    fixMenuScroll: function () {\n      //console.log('fixMenuScroll');\n      var active = this.$menu.find(\".active\");\n      if (active.length) {\n        this.$element.attr(\"aria-activedescendant\", active.attr(\"id\"));\n        var top = active.position().top;\n        var bottom = top + active.height();\n        var scrollTop = this.$menu.scrollTop();\n        var menuHeight = this.$menu.height();\n        if (bottom > menuHeight) {\n          this.$menu.scrollTop(scrollTop + bottom - menuHeight);\n        } else if (top < 0) {\n          this.$menu.scrollTop(scrollTop + top);\n        }\n      }\n    },\n\n    setActiveDescendant: function (e) {\n      if (this.mousedover) {\n        this.swapActive(this.$menu.find(\".active\"), $(e.currentTarget));\n      }\n    },\n\n    keydown: function (e) {\n      //console.log('keyDown');\n      this.suppressKeyPressRepeat = ~$.inArray(e.keyCode, [40, 38, 9, 13, 27]);\n      this.move(e);\n    },\n\n    keypress: function (e) {\n      //console.log('keyPress');\n      if (this.suppressKeyPressRepeat) {\n        return;\n      }\n      this.move(e);\n    },\n\n    keyup: function (e) {\n      //console.log(\"keyUp\");\n      switch (e.keyCode) {\n        case 40: // down arrow\n          if (!this.shown) {\n            this.toggle();\n          }\n          break;\n        case 39: // right arrow\n        case 38: // up arrow\n        case 37: // left arrow\n        case 36: // home\n        case 35: // end\n        case 16: // shift\n        case 17: // ctrl\n        case 18: // alt\n          break;\n\n        case 9: // tab\n        case 13: // enter\n          if (e) {\n            e.stopPropagation();\n            e.preventDefault();\n          }\n          daFetchAjaxTimeoutFetchAfter = false;\n          daFetchAcceptIncoming = false;\n          if (!this.shown) {\n            return;\n          }\n          if (!this.selected) {\n            this.select();\n          } else {\n            var val = this.$element.val();\n            var opts = this.$menu.find(\"li\");\n            var n = opts.length;\n            for (var i = 0; i < n; ++i) {\n              if ($(opts[i]).attr(\"data-value\") == val) {\n                e.stopPropagation();\n                e.preventDefault();\n                $(opts[i]).click();\n                return false;\n              }\n            }\n          }\n          break;\n\n        case 27: // escape\n          if (e) {\n            e.stopPropagation();\n            e.preventDefault();\n          }\n          daFetchAjaxTimeoutFetchAfter = false;\n          daFetchAcceptIncoming = false;\n          if (!this.shown) {\n            return;\n          }\n          this.hide();\n          break;\n\n        default:\n          if (this.options.lookupWhileTyping) {\n            this.clearTarget();\n            this.$target.val(this.$element.val());\n            this.lookup();\n          } else {\n            this.query = this.$element.val();\n          }\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n    },\n\n    focus: function (e) {\n      //console.log('focus');\n      this.focused = true;\n    },\n\n    blur: function (e) {\n      //console.log('blur');\n      var that = this;\n      this.focused = false;\n      var val = this.$element.val();\n      if (this.shown) {\n        var opts = this.$menu.find(\"li\");\n        var n = opts.length;\n        for (var i = 0; i < n; ++i) {\n          if ($(opts[i]).attr(\"data-value\") == val) {\n            $(opts[i]).click();\n            return;\n          }\n        }\n      }\n      var oldVal;\n      var triggerElement = false;\n      var triggerSource = false;\n      var triggerTarget = false;\n      if (this.clearIfNoMatch && !this.selected && val !== \"\") {\n        oldVal = this.$element.val();\n        if (oldVal !== \"\") {\n          this.$element.val(\"\");\n          triggerElement = true;\n        }\n        oldVal = this.$source.val();\n        if (oldVal !== \"\") {\n          this.$source.val(\"\");\n          triggerSource = true;\n        }\n        oldVal = this.$target.val();\n        if (oldVal !== \"\") {\n          this.$target.val(\"\"); //.trigger(\"change\");\n          triggerTarget = true;\n        }\n      }\n      if (!this.selected) {\n        oldVal = this.$target.val();\n        if (oldVal !== val) {\n          this.$target.val(val); //.trigger(\"change\");\n          triggerTarget = true;\n        }\n      }\n      if (triggerTarget) {\n        this.$target.trigger(\"change\");\n      }\n      if (triggerElement) {\n        this.$element.trigger(\"change\");\n      }\n      if (triggerSource) {\n        this.$source.trigger(\"change\");\n      }\n      if (!this.mousedover && this.shown) {\n        setTimeout(function () {\n          that.hide();\n        }, 200);\n      }\n    },\n\n    click: function (e) {\n      //console.log(\"click\");\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      daFetchAjaxTimeoutFetchAfter = false;\n      daFetchAcceptIncoming = false;\n      this.select();\n      this.$element.focus();\n    },\n\n    mouseenter: function (e) {\n      //console.log('mouseenter');\n      this.mousedover = true;\n      this.setActiveDescendant(e);\n    },\n\n    mousedown: function (e) {\n      this.mousedover = true;\n      this.setActiveDescendant(e);\n      this.mousedover = false;\n      if (!this.hidden) {\n        if (e.target.tagName == \"UL\") {\n          this.$element.off(\"blur\");\n        }\n      }\n    },\n\n    mouseleave: function (e) {\n      //console.log('mouseleave');\n      this.mousedover = false;\n      this.setActiveDescendant(e);\n    },\n  };\n\n  /* COMBOBOX PLUGIN DEFINITION\n   * =========================== */\n  $.fn.combobox = function (option) {\n    return this.each(function () {\n      var $this = $(this),\n        data = $this.data(\"combobox\"),\n        options = typeof option == \"object\" && option;\n      if (!data) {\n        $this.data(\"combobox\", (data = new Combobox(this, options)));\n      }\n      if (typeof option == \"string\") {\n        data[option]();\n      }\n    });\n  };\n\n  $.fn.combobox.defaults = {\n    bsVersion: \"5\",\n    menu: '<ul role=\"listbox\" class=\"typeahead typeahead-long dropdown-menu\"></ul>',\n    item: '<li role=\"option\" class=\"dropdown-item dapointer\"></li>',\n    appendId: \"combobox\",\n    buttonLabel: \"dropdown\",\n    clearIfNoMatch: false,\n    showButton: true,\n    functionalButton: true,\n    inputBox: \"Input box\",\n    lookupWhileTyping: true,\n  };\n\n  $.fn.combobox.Constructor = Combobox;\n})(window.jQuery);\n\n/*!\n * Socket.IO v4.8.1\n * (c) 2014-2024 Guillermo Rauch\n * Released under the MIT License.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.io = factory());\n})(this, (function () { 'use strict';\n\n  function _arrayLikeToArray(r, a) {\n    (null == a || a > r.length) && (a = r.length);\n    for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n    return n;\n  }\n  function _arrayWithoutHoles(r) {\n    if (Array.isArray(r)) return _arrayLikeToArray(r);\n  }\n  function _construct(t, e, r) {\n    if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n    var o = [null];\n    o.push.apply(o, e);\n    var p = new (t.bind.apply(t, o))();\n    return r && _setPrototypeOf(p, r.prototype), p;\n  }\n  function _defineProperties(e, r) {\n    for (var t = 0; t < r.length; t++) {\n      var o = r[t];\n      o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n    }\n  }\n  function _createClass(e, r, t) {\n    return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n      writable: !1\n    }), e;\n  }\n  function _createForOfIteratorHelper(r, e) {\n    var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n    if (!t) {\n      if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n        t && (r = t);\n        var n = 0,\n          F = function () {};\n        return {\n          s: F,\n          n: function () {\n            return n >= r.length ? {\n              done: !0\n            } : {\n              done: !1,\n              value: r[n++]\n            };\n          },\n          e: function (r) {\n            throw r;\n          },\n          f: F\n        };\n      }\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var o,\n      a = !0,\n      u = !1;\n    return {\n      s: function () {\n        t = t.call(r);\n      },\n      n: function () {\n        var r = t.next();\n        return a = r.done, r;\n      },\n      e: function (r) {\n        u = !0, o = r;\n      },\n      f: function () {\n        try {\n          a || null == t.return || t.return();\n        } finally {\n          if (u) throw o;\n        }\n      }\n    };\n  }\n  function _extends() {\n    return _extends = Object.assign ? Object.assign.bind() : function (n) {\n      for (var e = 1; e < arguments.length; e++) {\n        var t = arguments[e];\n        for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n      }\n      return n;\n    }, _extends.apply(null, arguments);\n  }\n  function _getPrototypeOf(t) {\n    return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n      return t.__proto__ || Object.getPrototypeOf(t);\n    }, _getPrototypeOf(t);\n  }\n  function _inheritsLoose(t, o) {\n    t.prototype = Object.create(o.prototype), t.prototype.constructor = t, _setPrototypeOf(t, o);\n  }\n  function _isNativeFunction(t) {\n    try {\n      return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n    } catch (n) {\n      return \"function\" == typeof t;\n    }\n  }\n  function _isNativeReflectConstruct() {\n    try {\n      var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    } catch (t) {}\n    return (_isNativeReflectConstruct = function () {\n      return !!t;\n    })();\n  }\n  function _iterableToArray(r) {\n    if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n  }\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  function _setPrototypeOf(t, e) {\n    return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n      return t.__proto__ = e, t;\n    }, _setPrototypeOf(t, e);\n  }\n  function _toConsumableArray(r) {\n    return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n  }\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n  function _unsupportedIterableToArray(r, a) {\n    if (r) {\n      if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n      var t = {}.toString.call(r).slice(8, -1);\n      return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n    }\n  }\n  function _wrapNativeSuper(t) {\n    var r = \"function\" == typeof Map ? new Map() : void 0;\n    return _wrapNativeSuper = function (t) {\n      if (null === t || !_isNativeFunction(t)) return t;\n      if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n      if (void 0 !== r) {\n        if (r.has(t)) return r.get(t);\n        r.set(t, Wrapper);\n      }\n      function Wrapper() {\n        return _construct(t, arguments, _getPrototypeOf(this).constructor);\n      }\n      return Wrapper.prototype = Object.create(t.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), _setPrototypeOf(Wrapper, t);\n    }, _wrapNativeSuper(t);\n  }\n\n  var PACKET_TYPES = Object.create(null); // no Map = no polyfill\n  PACKET_TYPES[\"open\"] = \"0\";\n  PACKET_TYPES[\"close\"] = \"1\";\n  PACKET_TYPES[\"ping\"] = \"2\";\n  PACKET_TYPES[\"pong\"] = \"3\";\n  PACKET_TYPES[\"message\"] = \"4\";\n  PACKET_TYPES[\"upgrade\"] = \"5\";\n  PACKET_TYPES[\"noop\"] = \"6\";\n  var PACKET_TYPES_REVERSE = Object.create(null);\n  Object.keys(PACKET_TYPES).forEach(function (key) {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n  });\n  var ERROR_PACKET = {\n    type: \"error\",\n    data: \"parser error\"\n  };\n\n  var withNativeBlob$1 = typeof Blob === \"function\" || typeof Blob !== \"undefined\" && Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\";\n  var withNativeArrayBuffer$2 = typeof ArrayBuffer === \"function\";\n  // ArrayBuffer.isView method is not defined in IE10\n  var isView$1 = function isView(obj) {\n    return typeof ArrayBuffer.isView === \"function\" ? ArrayBuffer.isView(obj) : obj && obj.buffer instanceof ArrayBuffer;\n  };\n  var encodePacket = function encodePacket(_ref, supportsBinary, callback) {\n    var type = _ref.type,\n      data = _ref.data;\n    if (withNativeBlob$1 && data instanceof Blob) {\n      if (supportsBinary) {\n        return callback(data);\n      } else {\n        return encodeBlobAsBase64(data, callback);\n      }\n    } else if (withNativeArrayBuffer$2 && (data instanceof ArrayBuffer || isView$1(data))) {\n      if (supportsBinary) {\n        return callback(data);\n      } else {\n        return encodeBlobAsBase64(new Blob([data]), callback);\n      }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n  };\n  var encodeBlobAsBase64 = function encodeBlobAsBase64(data, callback) {\n    var fileReader = new FileReader();\n    fileReader.onload = function () {\n      var content = fileReader.result.split(\",\")[1];\n      callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n  };\n  function toArray(data) {\n    if (data instanceof Uint8Array) {\n      return data;\n    } else if (data instanceof ArrayBuffer) {\n      return new Uint8Array(data);\n    } else {\n      return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n  }\n  var TEXT_ENCODER;\n  function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob$1 && packet.data instanceof Blob) {\n      return packet.data.arrayBuffer().then(toArray).then(callback);\n    } else if (withNativeArrayBuffer$2 && (packet.data instanceof ArrayBuffer || isView$1(packet.data))) {\n      return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, function (encoded) {\n      if (!TEXT_ENCODER) {\n        TEXT_ENCODER = new TextEncoder();\n      }\n      callback(TEXT_ENCODER.encode(encoded));\n    });\n  }\n\n  // imported from https://github.com/socketio/base64-arraybuffer\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  // Use a lookup table to find the index.\n  var lookup$1 = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup$1[chars.charCodeAt(i)] = i;\n  }\n  var decode$1 = function decode(base64) {\n    var bufferLength = base64.length * 0.75,\n      len = base64.length,\n      i,\n      p = 0,\n      encoded1,\n      encoded2,\n      encoded3,\n      encoded4;\n    if (base64[base64.length - 1] === '=') {\n      bufferLength--;\n      if (base64[base64.length - 2] === '=') {\n        bufferLength--;\n      }\n    }\n    var arraybuffer = new ArrayBuffer(bufferLength),\n      bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n      encoded1 = lookup$1[base64.charCodeAt(i)];\n      encoded2 = lookup$1[base64.charCodeAt(i + 1)];\n      encoded3 = lookup$1[base64.charCodeAt(i + 2)];\n      encoded4 = lookup$1[base64.charCodeAt(i + 3)];\n      bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n      bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n      bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return arraybuffer;\n  };\n\n  var withNativeArrayBuffer$1 = typeof ArrayBuffer === \"function\";\n  var decodePacket = function decodePacket(encodedPacket, binaryType) {\n    if (typeof encodedPacket !== \"string\") {\n      return {\n        type: \"message\",\n        data: mapBinary(encodedPacket, binaryType)\n      };\n    }\n    var type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n      return {\n        type: \"message\",\n        data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n      };\n    }\n    var packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n      return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1 ? {\n      type: PACKET_TYPES_REVERSE[type],\n      data: encodedPacket.substring(1)\n    } : {\n      type: PACKET_TYPES_REVERSE[type]\n    };\n  };\n  var decodeBase64Packet = function decodeBase64Packet(data, binaryType) {\n    if (withNativeArrayBuffer$1) {\n      var decoded = decode$1(data);\n      return mapBinary(decoded, binaryType);\n    } else {\n      return {\n        base64: true,\n        data: data\n      }; // fallback for old browsers\n    }\n  };\n  var mapBinary = function mapBinary(data, binaryType) {\n    switch (binaryType) {\n      case \"blob\":\n        if (data instanceof Blob) {\n          // from WebSocket + binaryType \"blob\"\n          return data;\n        } else {\n          // from HTTP long-polling or WebTransport\n          return new Blob([data]);\n        }\n      case \"arraybuffer\":\n      default:\n        if (data instanceof ArrayBuffer) {\n          // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n          return data;\n        } else {\n          // from WebTransport (Uint8Array)\n          return data.buffer;\n        }\n    }\n  };\n\n  var SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\n  var encodePayload = function encodePayload(packets, callback) {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    var length = packets.length;\n    var encodedPackets = new Array(length);\n    var count = 0;\n    packets.forEach(function (packet, i) {\n      // force base64 encoding for binary packets\n      encodePacket(packet, false, function (encodedPacket) {\n        encodedPackets[i] = encodedPacket;\n        if (++count === length) {\n          callback(encodedPackets.join(SEPARATOR));\n        }\n      });\n    });\n  };\n  var decodePayload = function decodePayload(encodedPayload, binaryType) {\n    var encodedPackets = encodedPayload.split(SEPARATOR);\n    var packets = [];\n    for (var i = 0; i < encodedPackets.length; i++) {\n      var decodedPacket = decodePacket(encodedPackets[i], binaryType);\n      packets.push(decodedPacket);\n      if (decodedPacket.type === \"error\") {\n        break;\n      }\n    }\n    return packets;\n  };\n  function createPacketEncoderStream() {\n    return new TransformStream({\n      transform: function transform(packet, controller) {\n        encodePacketToBinary(packet, function (encodedPacket) {\n          var payloadLength = encodedPacket.length;\n          var header;\n          // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n          if (payloadLength < 126) {\n            header = new Uint8Array(1);\n            new DataView(header.buffer).setUint8(0, payloadLength);\n          } else if (payloadLength < 65536) {\n            header = new Uint8Array(3);\n            var view = new DataView(header.buffer);\n            view.setUint8(0, 126);\n            view.setUint16(1, payloadLength);\n          } else {\n            header = new Uint8Array(9);\n            var _view = new DataView(header.buffer);\n            _view.setUint8(0, 127);\n            _view.setBigUint64(1, BigInt(payloadLength));\n          }\n          // first bit indicates whether the payload is plain text (0) or binary (1)\n          if (packet.data && typeof packet.data !== \"string\") {\n            header[0] |= 0x80;\n          }\n          controller.enqueue(header);\n          controller.enqueue(encodedPacket);\n        });\n      }\n    });\n  }\n  var TEXT_DECODER;\n  function totalLength(chunks) {\n    return chunks.reduce(function (acc, chunk) {\n      return acc + chunk.length;\n    }, 0);\n  }\n  function concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n      return chunks.shift();\n    }\n    var buffer = new Uint8Array(size);\n    var j = 0;\n    for (var i = 0; i < size; i++) {\n      buffer[i] = chunks[0][j++];\n      if (j === chunks[0].length) {\n        chunks.shift();\n        j = 0;\n      }\n    }\n    if (chunks.length && j < chunks[0].length) {\n      chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n  }\n  function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n      TEXT_DECODER = new TextDecoder();\n    }\n    var chunks = [];\n    var state = 0 /* State.READ_HEADER */;\n    var expectedLength = -1;\n    var isBinary = false;\n    return new TransformStream({\n      transform: function transform(chunk, controller) {\n        chunks.push(chunk);\n        while (true) {\n          if (state === 0 /* State.READ_HEADER */) {\n            if (totalLength(chunks) < 1) {\n              break;\n            }\n            var header = concatChunks(chunks, 1);\n            isBinary = (header[0] & 0x80) === 0x80;\n            expectedLength = header[0] & 0x7f;\n            if (expectedLength < 126) {\n              state = 3 /* State.READ_PAYLOAD */;\n            } else if (expectedLength === 126) {\n              state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n            } else {\n              state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n            }\n          } else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n            if (totalLength(chunks) < 2) {\n              break;\n            }\n            var headerArray = concatChunks(chunks, 2);\n            expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n            state = 3 /* State.READ_PAYLOAD */;\n          } else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n            if (totalLength(chunks) < 8) {\n              break;\n            }\n            var _headerArray = concatChunks(chunks, 8);\n            var view = new DataView(_headerArray.buffer, _headerArray.byteOffset, _headerArray.length);\n            var n = view.getUint32(0);\n            if (n > Math.pow(2, 53 - 32) - 1) {\n              // the maximum safe integer in JavaScript is 2^53 - 1\n              controller.enqueue(ERROR_PACKET);\n              break;\n            }\n            expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n            state = 3 /* State.READ_PAYLOAD */;\n          } else {\n            if (totalLength(chunks) < expectedLength) {\n              break;\n            }\n            var data = concatChunks(chunks, expectedLength);\n            controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n            state = 0 /* State.READ_HEADER */;\n          }\n          if (expectedLength === 0 || expectedLength > maxPayload) {\n            controller.enqueue(ERROR_PACKET);\n            break;\n          }\n        }\n      }\n    });\n  }\n  var protocol$1 = 4;\n\n  /**\n   * Initialize a new `Emitter`.\n   *\n   * @api public\n   */\n\n  function Emitter(obj) {\n    if (obj) return mixin(obj);\n  }\n\n  /**\n   * Mixin the emitter properties.\n   *\n   * @param {Object} obj\n   * @return {Object}\n   * @api private\n   */\n\n  function mixin(obj) {\n    for (var key in Emitter.prototype) {\n      obj[key] = Emitter.prototype[key];\n    }\n    return obj;\n  }\n\n  /**\n   * Listen on the given `event` with `fn`.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn) {\n    this._callbacks = this._callbacks || {};\n    (this._callbacks['$' + event] = this._callbacks['$' + event] || []).push(fn);\n    return this;\n  };\n\n  /**\n   * Adds an `event` listener that will be invoked a single\n   * time then automatically removed.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.once = function (event, fn) {\n    function on() {\n      this.off(event, on);\n      fn.apply(this, arguments);\n    }\n    on.fn = fn;\n    this.on(event, on);\n    return this;\n  };\n\n  /**\n   * Remove the given callback for `event` or all\n   * registered callbacks.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function (event, fn) {\n    this._callbacks = this._callbacks || {};\n\n    // all\n    if (0 == arguments.length) {\n      this._callbacks = {};\n      return this;\n    }\n\n    // specific event\n    var callbacks = this._callbacks['$' + event];\n    if (!callbacks) return this;\n\n    // remove all handlers\n    if (1 == arguments.length) {\n      delete this._callbacks['$' + event];\n      return this;\n    }\n\n    // remove specific handler\n    var cb;\n    for (var i = 0; i < callbacks.length; i++) {\n      cb = callbacks[i];\n      if (cb === fn || cb.fn === fn) {\n        callbacks.splice(i, 1);\n        break;\n      }\n    }\n\n    // Remove event specific arrays for event types that no\n    // one is subscribed for to avoid memory leak.\n    if (callbacks.length === 0) {\n      delete this._callbacks['$' + event];\n    }\n    return this;\n  };\n\n  /**\n   * Emit `event` with the given args.\n   *\n   * @param {String} event\n   * @param {Mixed} ...\n   * @return {Emitter}\n   */\n\n  Emitter.prototype.emit = function (event) {\n    this._callbacks = this._callbacks || {};\n    var args = new Array(arguments.length - 1),\n      callbacks = this._callbacks['$' + event];\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n    if (callbacks) {\n      callbacks = callbacks.slice(0);\n      for (var i = 0, len = callbacks.length; i < len; ++i) {\n        callbacks[i].apply(this, args);\n      }\n    }\n    return this;\n  };\n\n  // alias used for reserved events (protected method)\n  Emitter.prototype.emitReserved = Emitter.prototype.emit;\n\n  /**\n   * Return array of callbacks for `event`.\n   *\n   * @param {String} event\n   * @return {Array}\n   * @api public\n   */\n\n  Emitter.prototype.listeners = function (event) {\n    this._callbacks = this._callbacks || {};\n    return this._callbacks['$' + event] || [];\n  };\n\n  /**\n   * Check if this emitter has `event` handlers.\n   *\n   * @param {String} event\n   * @return {Boolean}\n   * @api public\n   */\n\n  Emitter.prototype.hasListeners = function (event) {\n    return !!this.listeners(event).length;\n  };\n\n  var nextTick = function () {\n    var isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n      return function (cb) {\n        return Promise.resolve().then(cb);\n      };\n    } else {\n      return function (cb, setTimeoutFn) {\n        return setTimeoutFn(cb, 0);\n      };\n    }\n  }();\n  var globalThisShim = function () {\n    if (typeof self !== \"undefined\") {\n      return self;\n    } else if (typeof window !== \"undefined\") {\n      return window;\n    } else {\n      return Function(\"return this\")();\n    }\n  }();\n  var defaultBinaryType = \"arraybuffer\";\n  function createCookieJar() {}\n\n  function pick(obj) {\n    for (var _len = arguments.length, attr = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      attr[_key - 1] = arguments[_key];\n    }\n    return attr.reduce(function (acc, k) {\n      if (obj.hasOwnProperty(k)) {\n        acc[k] = obj[k];\n      }\n      return acc;\n    }, {});\n  }\n  // Keep a reference to the real timeout functions so they can be used when overridden\n  var NATIVE_SET_TIMEOUT = globalThisShim.setTimeout;\n  var NATIVE_CLEAR_TIMEOUT = globalThisShim.clearTimeout;\n  function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n      obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThisShim);\n      obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThisShim);\n    } else {\n      obj.setTimeoutFn = globalThisShim.setTimeout.bind(globalThisShim);\n      obj.clearTimeoutFn = globalThisShim.clearTimeout.bind(globalThisShim);\n    }\n  }\n  // base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\n  var BASE64_OVERHEAD = 1.33;\n  // we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\n  function byteLength(obj) {\n    if (typeof obj === \"string\") {\n      return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n  }\n  function utf8Length(str) {\n    var c = 0,\n      length = 0;\n    for (var i = 0, l = str.length; i < l; i++) {\n      c = str.charCodeAt(i);\n      if (c < 0x80) {\n        length += 1;\n      } else if (c < 0x800) {\n        length += 2;\n      } else if (c < 0xd800 || c >= 0xe000) {\n        length += 3;\n      } else {\n        i++;\n        length += 4;\n      }\n    }\n    return length;\n  }\n  /**\n   * Generates a random 8-characters string.\n   */\n  function randomString() {\n    return Date.now().toString(36).substring(3) + Math.random().toString(36).substring(2, 5);\n  }\n\n  // imported from https://github.com/galkn/querystring\n  /**\n   * Compiles a querystring\n   * Returns string representation of the object\n   *\n   * @param {Object}\n   * @api private\n   */\n  function encode(obj) {\n    var str = '';\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        if (str.length) str += '&';\n        str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n      }\n    }\n    return str;\n  }\n  /**\n   * Parses a simple querystring into an object\n   *\n   * @param {String} qs\n   * @api private\n   */\n  function decode(qs) {\n    var qry = {};\n    var pairs = qs.split('&');\n    for (var i = 0, l = pairs.length; i < l; i++) {\n      var pair = pairs[i].split('=');\n      qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n  }\n\n  var TransportError = /*#__PURE__*/function (_Error) {\n    function TransportError(reason, description, context) {\n      var _this;\n      _this = _Error.call(this, reason) || this;\n      _this.description = description;\n      _this.context = context;\n      _this.type = \"TransportError\";\n      return _this;\n    }\n    _inheritsLoose(TransportError, _Error);\n    return TransportError;\n  }( /*#__PURE__*/_wrapNativeSuper(Error));\n  var Transport = /*#__PURE__*/function (_Emitter) {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    function Transport(opts) {\n      var _this2;\n      _this2 = _Emitter.call(this) || this;\n      _this2.writable = false;\n      installTimerFunctions(_this2, opts);\n      _this2.opts = opts;\n      _this2.query = opts.query;\n      _this2.socket = opts.socket;\n      _this2.supportsBinary = !opts.forceBase64;\n      return _this2;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    _inheritsLoose(Transport, _Emitter);\n    var _proto = Transport.prototype;\n    _proto.onError = function onError(reason, description, context) {\n      _Emitter.prototype.emitReserved.call(this, \"error\", new TransportError(reason, description, context));\n      return this;\n    }\n    /**\n     * Opens the transport.\n     */;\n    _proto.open = function open() {\n      this.readyState = \"opening\";\n      this.doOpen();\n      return this;\n    }\n    /**\n     * Closes the transport.\n     */;\n    _proto.close = function close() {\n      if (this.readyState === \"opening\" || this.readyState === \"open\") {\n        this.doClose();\n        this.onClose();\n      }\n      return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */;\n    _proto.send = function send(packets) {\n      if (this.readyState === \"open\") {\n        this.write(packets);\n      }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */;\n    _proto.onOpen = function onOpen() {\n      this.readyState = \"open\";\n      this.writable = true;\n      _Emitter.prototype.emitReserved.call(this, \"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */;\n    _proto.onData = function onData(data) {\n      var packet = decodePacket(data, this.socket.binaryType);\n      this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */;\n    _proto.onPacket = function onPacket(packet) {\n      _Emitter.prototype.emitReserved.call(this, \"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */;\n    _proto.onClose = function onClose(details) {\n      this.readyState = \"closed\";\n      _Emitter.prototype.emitReserved.call(this, \"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */;\n    _proto.pause = function pause(onPause) {};\n    _proto.createUri = function createUri(schema) {\n      var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return schema + \"://\" + this._hostname() + this._port() + this.opts.path + this._query(query);\n    };\n    _proto._hostname = function _hostname() {\n      var hostname = this.opts.hostname;\n      return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    };\n    _proto._port = function _port() {\n      if (this.opts.port && (this.opts.secure && Number(this.opts.port !== 443) || !this.opts.secure && Number(this.opts.port) !== 80)) {\n        return \":\" + this.opts.port;\n      } else {\n        return \"\";\n      }\n    };\n    _proto._query = function _query(query) {\n      var encodedQuery = encode(query);\n      return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    };\n    return Transport;\n  }(Emitter);\n\n  var Polling = /*#__PURE__*/function (_Transport) {\n    function Polling() {\n      var _this;\n      _this = _Transport.apply(this, arguments) || this;\n      _this._polling = false;\n      return _this;\n    }\n    _inheritsLoose(Polling, _Transport);\n    var _proto = Polling.prototype;\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    _proto.doOpen = function doOpen() {\n      this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */;\n    _proto.pause = function pause(onPause) {\n      var _this2 = this;\n      this.readyState = \"pausing\";\n      var pause = function pause() {\n        _this2.readyState = \"paused\";\n        onPause();\n      };\n      if (this._polling || !this.writable) {\n        var total = 0;\n        if (this._polling) {\n          total++;\n          this.once(\"pollComplete\", function () {\n            --total || pause();\n          });\n        }\n        if (!this.writable) {\n          total++;\n          this.once(\"drain\", function () {\n            --total || pause();\n          });\n        }\n      } else {\n        pause();\n      }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */;\n    _proto._poll = function _poll() {\n      this._polling = true;\n      this.doPoll();\n      this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */;\n    _proto.onData = function onData(data) {\n      var _this3 = this;\n      var callback = function callback(packet) {\n        // if its the first message we consider the transport open\n        if (\"opening\" === _this3.readyState && packet.type === \"open\") {\n          _this3.onOpen();\n        }\n        // if its a close packet, we close the ongoing requests\n        if (\"close\" === packet.type) {\n          _this3.onClose({\n            description: \"transport closed by the server\"\n          });\n          return false;\n        }\n        // otherwise bypass onData and handle the message\n        _this3.onPacket(packet);\n      };\n      // decode payload\n      decodePayload(data, this.socket.binaryType).forEach(callback);\n      // if an event did not trigger closing\n      if (\"closed\" !== this.readyState) {\n        // if we got data we're not polling\n        this._polling = false;\n        this.emitReserved(\"pollComplete\");\n        if (\"open\" === this.readyState) {\n          this._poll();\n        }\n      }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */;\n    _proto.doClose = function doClose() {\n      var _this4 = this;\n      var close = function close() {\n        _this4.write([{\n          type: \"close\"\n        }]);\n      };\n      if (\"open\" === this.readyState) {\n        close();\n      } else {\n        // in case we're trying to close while\n        // handshaking is in progress (GH-164)\n        this.once(\"open\", close);\n      }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */;\n    _proto.write = function write(packets) {\n      var _this5 = this;\n      this.writable = false;\n      encodePayload(packets, function (data) {\n        _this5.doWrite(data, function () {\n          _this5.writable = true;\n          _this5.emitReserved(\"drain\");\n        });\n      });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */;\n    _proto.uri = function uri() {\n      var schema = this.opts.secure ? \"https\" : \"http\";\n      var query = this.query || {};\n      // cache busting is forced\n      if (false !== this.opts.timestampRequests) {\n        query[this.opts.timestampParam] = randomString();\n      }\n      if (!this.supportsBinary && !query.sid) {\n        query.b64 = 1;\n      }\n      return this.createUri(schema, query);\n    };\n    return _createClass(Polling, [{\n      key: \"name\",\n      get: function get() {\n        return \"polling\";\n      }\n    }]);\n  }(Transport);\n\n  // imported from https://github.com/component/has-cors\n  var value = false;\n  try {\n    value = typeof XMLHttpRequest !== 'undefined' && 'withCredentials' in new XMLHttpRequest();\n  } catch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n  }\n  var hasCORS = value;\n\n  function empty() {}\n  var BaseXHR = /*#__PURE__*/function (_Polling) {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    function BaseXHR(opts) {\n      var _this;\n      _this = _Polling.call(this, opts) || this;\n      if (typeof location !== \"undefined\") {\n        var isSSL = \"https:\" === location.protocol;\n        var port = location.port;\n        // some user agents have empty `location.port`\n        if (!port) {\n          port = isSSL ? \"443\" : \"80\";\n        }\n        _this.xd = typeof location !== \"undefined\" && opts.hostname !== location.hostname || port !== opts.port;\n      }\n      return _this;\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    _inheritsLoose(BaseXHR, _Polling);\n    var _proto = BaseXHR.prototype;\n    _proto.doWrite = function doWrite(data, fn) {\n      var _this2 = this;\n      var req = this.request({\n        method: \"POST\",\n        data: data\n      });\n      req.on(\"success\", fn);\n      req.on(\"error\", function (xhrStatus, context) {\n        _this2.onError(\"xhr post error\", xhrStatus, context);\n      });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */;\n    _proto.doPoll = function doPoll() {\n      var _this3 = this;\n      var req = this.request();\n      req.on(\"data\", this.onData.bind(this));\n      req.on(\"error\", function (xhrStatus, context) {\n        _this3.onError(\"xhr poll error\", xhrStatus, context);\n      });\n      this.pollXhr = req;\n    };\n    return BaseXHR;\n  }(Polling);\n  var Request = /*#__PURE__*/function (_Emitter) {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    function Request(createRequest, uri, opts) {\n      var _this4;\n      _this4 = _Emitter.call(this) || this;\n      _this4.createRequest = createRequest;\n      installTimerFunctions(_this4, opts);\n      _this4._opts = opts;\n      _this4._method = opts.method || \"GET\";\n      _this4._uri = uri;\n      _this4._data = undefined !== opts.data ? opts.data : null;\n      _this4._create();\n      return _this4;\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _inheritsLoose(Request, _Emitter);\n    var _proto2 = Request.prototype;\n    _proto2._create = function _create() {\n      var _this5 = this;\n      var _a;\n      var opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n      opts.xdomain = !!this._opts.xd;\n      var xhr = this._xhr = this.createRequest(opts);\n      try {\n        xhr.open(this._method, this._uri, true);\n        try {\n          if (this._opts.extraHeaders) {\n            // @ts-ignore\n            xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n            for (var i in this._opts.extraHeaders) {\n              if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n              }\n            }\n          }\n        } catch (e) {}\n        if (\"POST\" === this._method) {\n          try {\n            xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n          } catch (e) {}\n        }\n        try {\n          xhr.setRequestHeader(\"Accept\", \"*/*\");\n        } catch (e) {}\n        (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n        // ie6 check\n        if (\"withCredentials\" in xhr) {\n          xhr.withCredentials = this._opts.withCredentials;\n        }\n        if (this._opts.requestTimeout) {\n          xhr.timeout = this._opts.requestTimeout;\n        }\n        xhr.onreadystatechange = function () {\n          var _a;\n          if (xhr.readyState === 3) {\n            (_a = _this5._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n            // @ts-ignore\n            xhr.getResponseHeader(\"set-cookie\"));\n          }\n          if (4 !== xhr.readyState) return;\n          if (200 === xhr.status || 1223 === xhr.status) {\n            _this5._onLoad();\n          } else {\n            // make sure the `error` event handler that's user-set\n            // does not throw in the same tick and gets caught here\n            _this5.setTimeoutFn(function () {\n              _this5._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n            }, 0);\n          }\n        };\n        xhr.send(this._data);\n      } catch (e) {\n        // Need to defer since .create() is called directly from the constructor\n        // and thus the 'error' event can only be only bound *after* this exception\n        // occurs.  Therefore, also, we cannot throw here at all.\n        this.setTimeoutFn(function () {\n          _this5._onError(e);\n        }, 0);\n        return;\n      }\n      if (typeof document !== \"undefined\") {\n        this._index = Request.requestsCount++;\n        Request.requests[this._index] = this;\n      }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */;\n    _proto2._onError = function _onError(err) {\n      this.emitReserved(\"error\", err, this._xhr);\n      this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */;\n    _proto2._cleanup = function _cleanup(fromError) {\n      if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n        return;\n      }\n      this._xhr.onreadystatechange = empty;\n      if (fromError) {\n        try {\n          this._xhr.abort();\n        } catch (e) {}\n      }\n      if (typeof document !== \"undefined\") {\n        delete Request.requests[this._index];\n      }\n      this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */;\n    _proto2._onLoad = function _onLoad() {\n      var data = this._xhr.responseText;\n      if (data !== null) {\n        this.emitReserved(\"data\", data);\n        this.emitReserved(\"success\");\n        this._cleanup();\n      }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */;\n    _proto2.abort = function abort() {\n      this._cleanup();\n    };\n    return Request;\n  }(Emitter);\n  Request.requestsCount = 0;\n  Request.requests = {};\n  /**\n   * Aborts pending requests when unloading the window. This is needed to prevent\n   * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n   * emitted.\n   */\n  if (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n      // @ts-ignore\n      attachEvent(\"onunload\", unloadHandler);\n    } else if (typeof addEventListener === \"function\") {\n      var terminationEvent = \"onpagehide\" in globalThisShim ? \"pagehide\" : \"unload\";\n      addEventListener(terminationEvent, unloadHandler, false);\n    }\n  }\n  function unloadHandler() {\n    for (var i in Request.requests) {\n      if (Request.requests.hasOwnProperty(i)) {\n        Request.requests[i].abort();\n      }\n    }\n  }\n  var hasXHR2 = function () {\n    var xhr = newRequest({\n      xdomain: false\n    });\n    return xhr && xhr.responseType !== null;\n  }();\n  /**\n   * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n   *\n   * Usage: browser\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n   */\n  var XHR = /*#__PURE__*/function (_BaseXHR) {\n    function XHR(opts) {\n      var _this6;\n      _this6 = _BaseXHR.call(this, opts) || this;\n      var forceBase64 = opts && opts.forceBase64;\n      _this6.supportsBinary = hasXHR2 && !forceBase64;\n      return _this6;\n    }\n    _inheritsLoose(XHR, _BaseXHR);\n    var _proto3 = XHR.prototype;\n    _proto3.request = function request() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _extends(opts, {\n        xd: this.xd\n      }, this.opts);\n      return new Request(newRequest, this.uri(), opts);\n    };\n    return XHR;\n  }(BaseXHR);\n  function newRequest(opts) {\n    var xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n      if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n        return new XMLHttpRequest();\n      }\n    } catch (e) {}\n    if (!xdomain) {\n      try {\n        return new globalThisShim[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n      } catch (e) {}\n    }\n  }\n\n  // detect ReactNative environment\n  var isReactNative = typeof navigator !== \"undefined\" && typeof navigator.product === \"string\" && navigator.product.toLowerCase() === \"reactnative\";\n  var BaseWS = /*#__PURE__*/function (_Transport) {\n    function BaseWS() {\n      return _Transport.apply(this, arguments) || this;\n    }\n    _inheritsLoose(BaseWS, _Transport);\n    var _proto = BaseWS.prototype;\n    _proto.doOpen = function doOpen() {\n      var uri = this.uri();\n      var protocols = this.opts.protocols;\n      // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n      var opts = isReactNative ? {} : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n      if (this.opts.extraHeaders) {\n        opts.headers = this.opts.extraHeaders;\n      }\n      try {\n        this.ws = this.createSocket(uri, protocols, opts);\n      } catch (err) {\n        return this.emitReserved(\"error\", err);\n      }\n      this.ws.binaryType = this.socket.binaryType;\n      this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */;\n    _proto.addEventListeners = function addEventListeners() {\n      var _this = this;\n      this.ws.onopen = function () {\n        if (_this.opts.autoUnref) {\n          _this.ws._socket.unref();\n        }\n        _this.onOpen();\n      };\n      this.ws.onclose = function (closeEvent) {\n        return _this.onClose({\n          description: \"websocket connection closed\",\n          context: closeEvent\n        });\n      };\n      this.ws.onmessage = function (ev) {\n        return _this.onData(ev.data);\n      };\n      this.ws.onerror = function (e) {\n        return _this.onError(\"websocket error\", e);\n      };\n    };\n    _proto.write = function write(packets) {\n      var _this2 = this;\n      this.writable = false;\n      // encodePacket efficient as it uses WS framing\n      // no need for encodePayload\n      var _loop = function _loop() {\n        var packet = packets[i];\n        var lastPacket = i === packets.length - 1;\n        encodePacket(packet, _this2.supportsBinary, function (data) {\n          // Sometimes the websocket has already been closed but the browser didn't\n          // have a chance of informing us about it yet, in that case send will\n          // throw an error\n          try {\n            _this2.doWrite(packet, data);\n          } catch (e) {}\n          if (lastPacket) {\n            // fake drain\n            // defer to next tick to allow Socket to clear writeBuffer\n            nextTick(function () {\n              _this2.writable = true;\n              _this2.emitReserved(\"drain\");\n            }, _this2.setTimeoutFn);\n          }\n        });\n      };\n      for (var i = 0; i < packets.length; i++) {\n        _loop();\n      }\n    };\n    _proto.doClose = function doClose() {\n      if (typeof this.ws !== \"undefined\") {\n        this.ws.onerror = function () {};\n        this.ws.close();\n        this.ws = null;\n      }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */;\n    _proto.uri = function uri() {\n      var schema = this.opts.secure ? \"wss\" : \"ws\";\n      var query = this.query || {};\n      // append timestamp to URI\n      if (this.opts.timestampRequests) {\n        query[this.opts.timestampParam] = randomString();\n      }\n      // communicate binary support capabilities\n      if (!this.supportsBinary) {\n        query.b64 = 1;\n      }\n      return this.createUri(schema, query);\n    };\n    return _createClass(BaseWS, [{\n      key: \"name\",\n      get: function get() {\n        return \"websocket\";\n      }\n    }]);\n  }(Transport);\n  var WebSocketCtor = globalThisShim.WebSocket || globalThisShim.MozWebSocket;\n  /**\n   * WebSocket transport based on the built-in `WebSocket` object.\n   *\n   * Usage: browser, Node.js (since v21), Deno, Bun\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n   * @see https://caniuse.com/mdn-api_websocket\n   * @see https://nodejs.org/api/globals.html#websocket\n   */\n  var WS = /*#__PURE__*/function (_BaseWS) {\n    function WS() {\n      return _BaseWS.apply(this, arguments) || this;\n    }\n    _inheritsLoose(WS, _BaseWS);\n    var _proto2 = WS.prototype;\n    _proto2.createSocket = function createSocket(uri, protocols, opts) {\n      return !isReactNative ? protocols ? new WebSocketCtor(uri, protocols) : new WebSocketCtor(uri) : new WebSocketCtor(uri, protocols, opts);\n    };\n    _proto2.doWrite = function doWrite(_packet, data) {\n      this.ws.send(data);\n    };\n    return WS;\n  }(BaseWS);\n\n  /**\n   * WebTransport transport based on the built-in `WebTransport` object.\n   *\n   * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n   * @see https://caniuse.com/webtransport\n   */\n  var WT = /*#__PURE__*/function (_Transport) {\n    function WT() {\n      return _Transport.apply(this, arguments) || this;\n    }\n    _inheritsLoose(WT, _Transport);\n    var _proto = WT.prototype;\n    _proto.doOpen = function doOpen() {\n      var _this = this;\n      try {\n        // @ts-ignore\n        this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n      } catch (err) {\n        return this.emitReserved(\"error\", err);\n      }\n      this._transport.closed.then(function () {\n        _this.onClose();\n      })[\"catch\"](function (err) {\n        _this.onError(\"webtransport error\", err);\n      });\n      // note: we could have used async/await, but that would require some additional polyfills\n      this._transport.ready.then(function () {\n        _this._transport.createBidirectionalStream().then(function (stream) {\n          var decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, _this.socket.binaryType);\n          var reader = stream.readable.pipeThrough(decoderStream).getReader();\n          var encoderStream = createPacketEncoderStream();\n          encoderStream.readable.pipeTo(stream.writable);\n          _this._writer = encoderStream.writable.getWriter();\n          var read = function read() {\n            reader.read().then(function (_ref) {\n              var done = _ref.done,\n                value = _ref.value;\n              if (done) {\n                return;\n              }\n              _this.onPacket(value);\n              read();\n            })[\"catch\"](function (err) {});\n          };\n          read();\n          var packet = {\n            type: \"open\"\n          };\n          if (_this.query.sid) {\n            packet.data = \"{\\\"sid\\\":\\\"\".concat(_this.query.sid, \"\\\"}\");\n          }\n          _this._writer.write(packet).then(function () {\n            return _this.onOpen();\n          });\n        });\n      });\n    };\n    _proto.write = function write(packets) {\n      var _this2 = this;\n      this.writable = false;\n      var _loop = function _loop() {\n        var packet = packets[i];\n        var lastPacket = i === packets.length - 1;\n        _this2._writer.write(packet).then(function () {\n          if (lastPacket) {\n            nextTick(function () {\n              _this2.writable = true;\n              _this2.emitReserved(\"drain\");\n            }, _this2.setTimeoutFn);\n          }\n        });\n      };\n      for (var i = 0; i < packets.length; i++) {\n        _loop();\n      }\n    };\n    _proto.doClose = function doClose() {\n      var _a;\n      (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    };\n    return _createClass(WT, [{\n      key: \"name\",\n      get: function get() {\n        return \"webtransport\";\n      }\n    }]);\n  }(Transport);\n\n  var transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR\n  };\n\n  // imported from https://github.com/galkn/parseuri\n  /**\n   * Parses a URI\n   *\n   * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n   *\n   * See:\n   * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n   * - https://caniuse.com/url\n   * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n   *\n   * History of the parse() method:\n   * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n   * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n   * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n   *\n   * @author Steven Levithan <stevenlevithan.com> (MIT license)\n   * @api private\n   */\n  var re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n  var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];\n  function parse(str) {\n    if (str.length > 8000) {\n      throw \"URI too long\";\n    }\n    var src = str,\n      b = str.indexOf('['),\n      e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n      str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    var m = re.exec(str || ''),\n      uri = {},\n      i = 14;\n    while (i--) {\n      uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n      uri.source = src;\n      uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n      uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n      uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n  }\n  function pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n      names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n      names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n      names.splice(names.length - 1, 1);\n    }\n    return names;\n  }\n  function queryKey(uri, query) {\n    var data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n      if ($1) {\n        data[$1] = $2;\n      }\n    });\n    return data;\n  }\n\n  var withEventListeners = typeof addEventListener === \"function\" && typeof removeEventListener === \"function\";\n  var OFFLINE_EVENT_LISTENERS = [];\n  if (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", function () {\n      OFFLINE_EVENT_LISTENERS.forEach(function (listener) {\n        return listener();\n      });\n    }, false);\n  }\n  /**\n   * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n   * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n   *\n   * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n   * successfully establishes the connection.\n   *\n   * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n   *\n   * @example\n   * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n   *\n   * const socket = new SocketWithoutUpgrade({\n   *   transports: [WebSocket]\n   * });\n   *\n   * socket.on(\"open\", () => {\n   *   socket.send(\"hello\");\n   * });\n   *\n   * @see SocketWithUpgrade\n   * @see Socket\n   */\n  var SocketWithoutUpgrade = /*#__PURE__*/function (_Emitter) {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    function SocketWithoutUpgrade(uri, opts) {\n      var _this;\n      _this = _Emitter.call(this) || this;\n      _this.binaryType = defaultBinaryType;\n      _this.writeBuffer = [];\n      _this._prevBufferLen = 0;\n      _this._pingInterval = -1;\n      _this._pingTimeout = -1;\n      _this._maxPayload = -1;\n      /**\n       * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n       * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n       */\n      _this._pingTimeoutTime = Infinity;\n      if (uri && \"object\" === _typeof(uri)) {\n        opts = uri;\n        uri = null;\n      }\n      if (uri) {\n        var parsedUri = parse(uri);\n        opts.hostname = parsedUri.host;\n        opts.secure = parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n        opts.port = parsedUri.port;\n        if (parsedUri.query) opts.query = parsedUri.query;\n      } else if (opts.host) {\n        opts.hostname = parse(opts.host).host;\n      }\n      installTimerFunctions(_this, opts);\n      _this.secure = null != opts.secure ? opts.secure : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n      if (opts.hostname && !opts.port) {\n        // if no port is specified manually, use the protocol default\n        opts.port = _this.secure ? \"443\" : \"80\";\n      }\n      _this.hostname = opts.hostname || (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n      _this.port = opts.port || (typeof location !== \"undefined\" && location.port ? location.port : _this.secure ? \"443\" : \"80\");\n      _this.transports = [];\n      _this._transportsByName = {};\n      opts.transports.forEach(function (t) {\n        var transportName = t.prototype.name;\n        _this.transports.push(transportName);\n        _this._transportsByName[transportName] = t;\n      });\n      _this.opts = _extends({\n        path: \"/engine.io\",\n        agent: false,\n        withCredentials: false,\n        upgrade: true,\n        timestampParam: \"t\",\n        rememberUpgrade: false,\n        addTrailingSlash: true,\n        rejectUnauthorized: true,\n        perMessageDeflate: {\n          threshold: 1024\n        },\n        transportOptions: {},\n        closeOnBeforeunload: false\n      }, opts);\n      _this.opts.path = _this.opts.path.replace(/\\/$/, \"\") + (_this.opts.addTrailingSlash ? \"/\" : \"\");\n      if (typeof _this.opts.query === \"string\") {\n        _this.opts.query = decode(_this.opts.query);\n      }\n      if (withEventListeners) {\n        if (_this.opts.closeOnBeforeunload) {\n          // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n          // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n          // closed/reloaded)\n          _this._beforeunloadEventListener = function () {\n            if (_this.transport) {\n              // silently close the transport\n              _this.transport.removeAllListeners();\n              _this.transport.close();\n            }\n          };\n          addEventListener(\"beforeunload\", _this._beforeunloadEventListener, false);\n        }\n        if (_this.hostname !== \"localhost\") {\n          _this._offlineEventListener = function () {\n            _this._onClose(\"transport close\", {\n              description: \"network connection lost\"\n            });\n          };\n          OFFLINE_EVENT_LISTENERS.push(_this._offlineEventListener);\n        }\n      }\n      if (_this.opts.withCredentials) {\n        _this._cookieJar = createCookieJar();\n      }\n      _this._open();\n      return _this;\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    _inheritsLoose(SocketWithoutUpgrade, _Emitter);\n    var _proto = SocketWithoutUpgrade.prototype;\n    _proto.createTransport = function createTransport(name) {\n      var query = _extends({}, this.opts.query);\n      // append engine.io protocol identifier\n      query.EIO = protocol$1;\n      // transport name\n      query.transport = name;\n      // session id if we already have one\n      if (this.id) query.sid = this.id;\n      var opts = _extends({}, this.opts, {\n        query: query,\n        socket: this,\n        hostname: this.hostname,\n        secure: this.secure,\n        port: this.port\n      }, this.opts.transportOptions[name]);\n      return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */;\n    _proto._open = function _open() {\n      var _this2 = this;\n      if (this.transports.length === 0) {\n        // Emit error on next tick so it can be listened to\n        this.setTimeoutFn(function () {\n          _this2.emitReserved(\"error\", \"No transports available\");\n        }, 0);\n        return;\n      }\n      var transportName = this.opts.rememberUpgrade && SocketWithoutUpgrade.priorWebsocketSuccess && this.transports.indexOf(\"websocket\") !== -1 ? \"websocket\" : this.transports[0];\n      this.readyState = \"opening\";\n      var transport = this.createTransport(transportName);\n      transport.open();\n      this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */;\n    _proto.setTransport = function setTransport(transport) {\n      var _this3 = this;\n      if (this.transport) {\n        this.transport.removeAllListeners();\n      }\n      // set up transport\n      this.transport = transport;\n      // set up transport listeners\n      transport.on(\"drain\", this._onDrain.bind(this)).on(\"packet\", this._onPacket.bind(this)).on(\"error\", this._onError.bind(this)).on(\"close\", function (reason) {\n        return _this3._onClose(\"transport close\", reason);\n      });\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */;\n    _proto.onOpen = function onOpen() {\n      this.readyState = \"open\";\n      SocketWithoutUpgrade.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n      this.emitReserved(\"open\");\n      this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */;\n    _proto._onPacket = function _onPacket(packet) {\n      if (\"opening\" === this.readyState || \"open\" === this.readyState || \"closing\" === this.readyState) {\n        this.emitReserved(\"packet\", packet);\n        // Socket is live - any packet counts\n        this.emitReserved(\"heartbeat\");\n        switch (packet.type) {\n          case \"open\":\n            this.onHandshake(JSON.parse(packet.data));\n            break;\n          case \"ping\":\n            this._sendPacket(\"pong\");\n            this.emitReserved(\"ping\");\n            this.emitReserved(\"pong\");\n            this._resetPingTimeout();\n            break;\n          case \"error\":\n            var err = new Error(\"server error\");\n            // @ts-ignore\n            err.code = packet.data;\n            this._onError(err);\n            break;\n          case \"message\":\n            this.emitReserved(\"data\", packet.data);\n            this.emitReserved(\"message\", packet.data);\n            break;\n        }\n      }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */;\n    _proto.onHandshake = function onHandshake(data) {\n      this.emitReserved(\"handshake\", data);\n      this.id = data.sid;\n      this.transport.query.sid = data.sid;\n      this._pingInterval = data.pingInterval;\n      this._pingTimeout = data.pingTimeout;\n      this._maxPayload = data.maxPayload;\n      this.onOpen();\n      // In case open handler closes socket\n      if (\"closed\" === this.readyState) return;\n      this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */;\n    _proto._resetPingTimeout = function _resetPingTimeout() {\n      var _this4 = this;\n      this.clearTimeoutFn(this._pingTimeoutTimer);\n      var delay = this._pingInterval + this._pingTimeout;\n      this._pingTimeoutTime = Date.now() + delay;\n      this._pingTimeoutTimer = this.setTimeoutFn(function () {\n        _this4._onClose(\"ping timeout\");\n      }, delay);\n      if (this.opts.autoUnref) {\n        this._pingTimeoutTimer.unref();\n      }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */;\n    _proto._onDrain = function _onDrain() {\n      this.writeBuffer.splice(0, this._prevBufferLen);\n      // setting prevBufferLen = 0 is very important\n      // for example, when upgrading, upgrade packet is sent over,\n      // and a nonzero prevBufferLen could cause problems on `drain`\n      this._prevBufferLen = 0;\n      if (0 === this.writeBuffer.length) {\n        this.emitReserved(\"drain\");\n      } else {\n        this.flush();\n      }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */;\n    _proto.flush = function flush() {\n      if (\"closed\" !== this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length) {\n        var packets = this._getWritablePackets();\n        this.transport.send(packets);\n        // keep track of current length of writeBuffer\n        // splice writeBuffer and callbackBuffer on `drain`\n        this._prevBufferLen = packets.length;\n        this.emitReserved(\"flush\");\n      }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */;\n    _proto._getWritablePackets = function _getWritablePackets() {\n      var shouldCheckPayloadSize = this._maxPayload && this.transport.name === \"polling\" && this.writeBuffer.length > 1;\n      if (!shouldCheckPayloadSize) {\n        return this.writeBuffer;\n      }\n      var payloadSize = 1; // first packet type\n      for (var i = 0; i < this.writeBuffer.length; i++) {\n        var data = this.writeBuffer[i].data;\n        if (data) {\n          payloadSize += byteLength(data);\n        }\n        if (i > 0 && payloadSize > this._maxPayload) {\n          return this.writeBuffer.slice(0, i);\n        }\n        payloadSize += 2; // separator + packet type\n      }\n      return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */;\n    _proto._hasPingExpired = function _hasPingExpired() {\n      var _this5 = this;\n      if (!this._pingTimeoutTime) return true;\n      var hasExpired = Date.now() > this._pingTimeoutTime;\n      if (hasExpired) {\n        this._pingTimeoutTime = 0;\n        nextTick(function () {\n          _this5._onClose(\"ping timeout\");\n        }, this.setTimeoutFn);\n      }\n      return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */;\n    _proto.write = function write(msg, options, fn) {\n      this._sendPacket(\"message\", msg, options, fn);\n      return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */;\n    _proto.send = function send(msg, options, fn) {\n      this._sendPacket(\"message\", msg, options, fn);\n      return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */;\n    _proto._sendPacket = function _sendPacket(type, data, options, fn) {\n      if (\"function\" === typeof data) {\n        fn = data;\n        data = undefined;\n      }\n      if (\"function\" === typeof options) {\n        fn = options;\n        options = null;\n      }\n      if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n        return;\n      }\n      options = options || {};\n      options.compress = false !== options.compress;\n      var packet = {\n        type: type,\n        data: data,\n        options: options\n      };\n      this.emitReserved(\"packetCreate\", packet);\n      this.writeBuffer.push(packet);\n      if (fn) this.once(\"flush\", fn);\n      this.flush();\n    }\n    /**\n     * Closes the connection.\n     */;\n    _proto.close = function close() {\n      var _this6 = this;\n      var close = function close() {\n        _this6._onClose(\"forced close\");\n        _this6.transport.close();\n      };\n      var cleanupAndClose = function cleanupAndClose() {\n        _this6.off(\"upgrade\", cleanupAndClose);\n        _this6.off(\"upgradeError\", cleanupAndClose);\n        close();\n      };\n      var waitForUpgrade = function waitForUpgrade() {\n        // wait for upgrade to finish since we can't send packets while pausing a transport\n        _this6.once(\"upgrade\", cleanupAndClose);\n        _this6.once(\"upgradeError\", cleanupAndClose);\n      };\n      if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n        this.readyState = \"closing\";\n        if (this.writeBuffer.length) {\n          this.once(\"drain\", function () {\n            if (_this6.upgrading) {\n              waitForUpgrade();\n            } else {\n              close();\n            }\n          });\n        } else if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      }\n      return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */;\n    _proto._onError = function _onError(err) {\n      SocketWithoutUpgrade.priorWebsocketSuccess = false;\n      if (this.opts.tryAllTransports && this.transports.length > 1 && this.readyState === \"opening\") {\n        this.transports.shift();\n        return this._open();\n      }\n      this.emitReserved(\"error\", err);\n      this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */;\n    _proto._onClose = function _onClose(reason, description) {\n      if (\"opening\" === this.readyState || \"open\" === this.readyState || \"closing\" === this.readyState) {\n        // clear timers\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        // stop event from firing again for transport\n        this.transport.removeAllListeners(\"close\");\n        // ensure transport won't stay open\n        this.transport.close();\n        // ignore further transport communication\n        this.transport.removeAllListeners();\n        if (withEventListeners) {\n          if (this._beforeunloadEventListener) {\n            removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n          }\n          if (this._offlineEventListener) {\n            var i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n            if (i !== -1) {\n              OFFLINE_EVENT_LISTENERS.splice(i, 1);\n            }\n          }\n        }\n        // set ready state\n        this.readyState = \"closed\";\n        // clear session id\n        this.id = null;\n        // emit close event\n        this.emitReserved(\"close\", reason, description);\n        // clean buffers after, so users can still\n        // grab the buffers on `close` event\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n      }\n    };\n    return SocketWithoutUpgrade;\n  }(Emitter);\n  SocketWithoutUpgrade.protocol = protocol$1;\n  /**\n   * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n   * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n   *\n   * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n   * low-level transport, it will try to upgrade to a better transport.\n   *\n   * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n   *\n   * @example\n   * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n   *\n   * const socket = new SocketWithUpgrade({\n   *   transports: [WebSocket]\n   * });\n   *\n   * socket.on(\"open\", () => {\n   *   socket.send(\"hello\");\n   * });\n   *\n   * @see SocketWithoutUpgrade\n   * @see Socket\n   */\n  var SocketWithUpgrade = /*#__PURE__*/function (_SocketWithoutUpgrade) {\n    function SocketWithUpgrade() {\n      var _this7;\n      _this7 = _SocketWithoutUpgrade.apply(this, arguments) || this;\n      _this7._upgrades = [];\n      return _this7;\n    }\n    _inheritsLoose(SocketWithUpgrade, _SocketWithoutUpgrade);\n    var _proto2 = SocketWithUpgrade.prototype;\n    _proto2.onOpen = function onOpen() {\n      _SocketWithoutUpgrade.prototype.onOpen.call(this);\n      if (\"open\" === this.readyState && this.opts.upgrade) {\n        for (var i = 0; i < this._upgrades.length; i++) {\n          this._probe(this._upgrades[i]);\n        }\n      }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */;\n    _proto2._probe = function _probe(name) {\n      var _this8 = this;\n      var transport = this.createTransport(name);\n      var failed = false;\n      SocketWithoutUpgrade.priorWebsocketSuccess = false;\n      var onTransportOpen = function onTransportOpen() {\n        if (failed) return;\n        transport.send([{\n          type: \"ping\",\n          data: \"probe\"\n        }]);\n        transport.once(\"packet\", function (msg) {\n          if (failed) return;\n          if (\"pong\" === msg.type && \"probe\" === msg.data) {\n            _this8.upgrading = true;\n            _this8.emitReserved(\"upgrading\", transport);\n            if (!transport) return;\n            SocketWithoutUpgrade.priorWebsocketSuccess = \"websocket\" === transport.name;\n            _this8.transport.pause(function () {\n              if (failed) return;\n              if (\"closed\" === _this8.readyState) return;\n              cleanup();\n              _this8.setTransport(transport);\n              transport.send([{\n                type: \"upgrade\"\n              }]);\n              _this8.emitReserved(\"upgrade\", transport);\n              transport = null;\n              _this8.upgrading = false;\n              _this8.flush();\n            });\n          } else {\n            var err = new Error(\"probe error\");\n            // @ts-ignore\n            err.transport = transport.name;\n            _this8.emitReserved(\"upgradeError\", err);\n          }\n        });\n      };\n      function freezeTransport() {\n        if (failed) return;\n        // Any callback called by transport should be ignored since now\n        failed = true;\n        cleanup();\n        transport.close();\n        transport = null;\n      }\n      // Handle any error that happens while probing\n      var onerror = function onerror(err) {\n        var error = new Error(\"probe error: \" + err);\n        // @ts-ignore\n        error.transport = transport.name;\n        freezeTransport();\n        _this8.emitReserved(\"upgradeError\", error);\n      };\n      function onTransportClose() {\n        onerror(\"transport closed\");\n      }\n      // When the socket is closed while we're probing\n      function onclose() {\n        onerror(\"socket closed\");\n      }\n      // When the socket is upgraded while we're probing\n      function onupgrade(to) {\n        if (transport && to.name !== transport.name) {\n          freezeTransport();\n        }\n      }\n      // Remove all listeners on the transport and on self\n      var cleanup = function cleanup() {\n        transport.removeListener(\"open\", onTransportOpen);\n        transport.removeListener(\"error\", onerror);\n        transport.removeListener(\"close\", onTransportClose);\n        _this8.off(\"close\", onclose);\n        _this8.off(\"upgrading\", onupgrade);\n      };\n      transport.once(\"open\", onTransportOpen);\n      transport.once(\"error\", onerror);\n      transport.once(\"close\", onTransportClose);\n      this.once(\"close\", onclose);\n      this.once(\"upgrading\", onupgrade);\n      if (this._upgrades.indexOf(\"webtransport\") !== -1 && name !== \"webtransport\") {\n        // favor WebTransport\n        this.setTimeoutFn(function () {\n          if (!failed) {\n            transport.open();\n          }\n        }, 200);\n      } else {\n        transport.open();\n      }\n    };\n    _proto2.onHandshake = function onHandshake(data) {\n      this._upgrades = this._filterUpgrades(data.upgrades);\n      _SocketWithoutUpgrade.prototype.onHandshake.call(this, data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */;\n    _proto2._filterUpgrades = function _filterUpgrades(upgrades) {\n      var filteredUpgrades = [];\n      for (var i = 0; i < upgrades.length; i++) {\n        if (~this.transports.indexOf(upgrades[i])) filteredUpgrades.push(upgrades[i]);\n      }\n      return filteredUpgrades;\n    };\n    return SocketWithUpgrade;\n  }(SocketWithoutUpgrade);\n  /**\n   * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n   * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n   *\n   * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n   * low-level transport, it will try to upgrade to a better transport.\n   *\n   * @example\n   * import { Socket } from \"engine.io-client\";\n   *\n   * const socket = new Socket();\n   *\n   * socket.on(\"open\", () => {\n   *   socket.send(\"hello\");\n   * });\n   *\n   * @see SocketWithoutUpgrade\n   * @see SocketWithUpgrade\n   */\n  var Socket$1 = /*#__PURE__*/function (_SocketWithUpgrade) {\n    function Socket(uri) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var o = _typeof(uri) === \"object\" ? uri : opts;\n      if (!o.transports || o.transports && typeof o.transports[0] === \"string\") {\n        o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"]).map(function (transportName) {\n          return transports[transportName];\n        }).filter(function (t) {\n          return !!t;\n        });\n      }\n      return _SocketWithUpgrade.call(this, uri, o) || this;\n    }\n    _inheritsLoose(Socket, _SocketWithUpgrade);\n    return Socket;\n  }(SocketWithUpgrade);\n\n  Socket$1.protocol;\n\n  function getDefaultExportFromCjs (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  var browser = {exports: {}};\n\n  var ms;\n  var hasRequiredMs;\n  function requireMs() {\n    if (hasRequiredMs) return ms;\n    hasRequiredMs = 1;\n    var s = 1000;\n    var m = s * 60;\n    var h = m * 60;\n    var d = h * 24;\n    var w = d * 7;\n    var y = d * 365.25;\n\n    /**\n     * Parse or format the given `val`.\n     *\n     * Options:\n     *\n     *  - `long` verbose formatting [false]\n     *\n     * @param {String|Number} val\n     * @param {Object} [options]\n     * @throws {Error} throw an error if val is not a non-empty string or a number\n     * @return {String|Number}\n     * @api public\n     */\n\n    ms = function ms(val, options) {\n      options = options || {};\n      var type = _typeof(val);\n      if (type === 'string' && val.length > 0) {\n        return parse(val);\n      } else if (type === 'number' && isFinite(val)) {\n        return options[\"long\"] ? fmtLong(val) : fmtShort(val);\n      }\n      throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val));\n    };\n\n    /**\n     * Parse the given `str` and return milliseconds.\n     *\n     * @param {String} str\n     * @return {Number}\n     * @api private\n     */\n\n    function parse(str) {\n      str = String(str);\n      if (str.length > 100) {\n        return;\n      }\n      var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\n      if (!match) {\n        return;\n      }\n      var n = parseFloat(match[1]);\n      var type = (match[2] || 'ms').toLowerCase();\n      switch (type) {\n        case 'years':\n        case 'year':\n        case 'yrs':\n        case 'yr':\n        case 'y':\n          return n * y;\n        case 'weeks':\n        case 'week':\n        case 'w':\n          return n * w;\n        case 'days':\n        case 'day':\n        case 'd':\n          return n * d;\n        case 'hours':\n        case 'hour':\n        case 'hrs':\n        case 'hr':\n        case 'h':\n          return n * h;\n        case 'minutes':\n        case 'minute':\n        case 'mins':\n        case 'min':\n        case 'm':\n          return n * m;\n        case 'seconds':\n        case 'second':\n        case 'secs':\n        case 'sec':\n        case 's':\n          return n * s;\n        case 'milliseconds':\n        case 'millisecond':\n        case 'msecs':\n        case 'msec':\n        case 'ms':\n          return n;\n        default:\n          return undefined;\n      }\n    }\n\n    /**\n     * Short format for `ms`.\n     *\n     * @param {Number} ms\n     * @return {String}\n     * @api private\n     */\n\n    function fmtShort(ms) {\n      var msAbs = Math.abs(ms);\n      if (msAbs >= d) {\n        return Math.round(ms / d) + 'd';\n      }\n      if (msAbs >= h) {\n        return Math.round(ms / h) + 'h';\n      }\n      if (msAbs >= m) {\n        return Math.round(ms / m) + 'm';\n      }\n      if (msAbs >= s) {\n        return Math.round(ms / s) + 's';\n      }\n      return ms + 'ms';\n    }\n\n    /**\n     * Long format for `ms`.\n     *\n     * @param {Number} ms\n     * @return {String}\n     * @api private\n     */\n\n    function fmtLong(ms) {\n      var msAbs = Math.abs(ms);\n      if (msAbs >= d) {\n        return plural(ms, msAbs, d, 'day');\n      }\n      if (msAbs >= h) {\n        return plural(ms, msAbs, h, 'hour');\n      }\n      if (msAbs >= m) {\n        return plural(ms, msAbs, m, 'minute');\n      }\n      if (msAbs >= s) {\n        return plural(ms, msAbs, s, 'second');\n      }\n      return ms + ' ms';\n    }\n\n    /**\n     * Pluralization helper.\n     */\n\n    function plural(ms, msAbs, n, name) {\n      var isPlural = msAbs >= n * 1.5;\n      return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n    }\n    return ms;\n  }\n\n  /**\n   * This is the common logic for both the Node.js and web browser\n   * implementations of `debug()`.\n   */\n\n  function setup(env) {\n    createDebug.debug = createDebug;\n    createDebug[\"default\"] = createDebug;\n    createDebug.coerce = coerce;\n    createDebug.disable = disable;\n    createDebug.enable = enable;\n    createDebug.enabled = enabled;\n    createDebug.humanize = requireMs();\n    createDebug.destroy = destroy;\n    Object.keys(env).forEach(function (key) {\n      createDebug[key] = env[key];\n    });\n\n    /**\n    * The currently active debug mode names, and names to skip.\n    */\n\n    createDebug.names = [];\n    createDebug.skips = [];\n\n    /**\n    * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n    *\n    * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n    */\n    createDebug.formatters = {};\n\n    /**\n    * Selects a color for a debug namespace\n    * @param {String} namespace The namespace string for the debug instance to be colored\n    * @return {Number|String} An ANSI color code for the given namespace\n    * @api private\n    */\n    function selectColor(namespace) {\n      var hash = 0;\n      for (var i = 0; i < namespace.length; i++) {\n        hash = (hash << 5) - hash + namespace.charCodeAt(i);\n        hash |= 0; // Convert to 32bit integer\n      }\n      return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n    }\n    createDebug.selectColor = selectColor;\n\n    /**\n    * Create a debugger with the given `namespace`.\n    *\n    * @param {String} namespace\n    * @return {Function}\n    * @api public\n    */\n    function createDebug(namespace) {\n      var prevTime;\n      var enableOverride = null;\n      var namespacesCache;\n      var enabledCache;\n      function debug() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        // Disabled?\n        if (!debug.enabled) {\n          return;\n        }\n        var self = debug;\n\n        // Set `diff` timestamp\n        var curr = Number(new Date());\n        var ms = curr - (prevTime || curr);\n        self.diff = ms;\n        self.prev = prevTime;\n        self.curr = curr;\n        prevTime = curr;\n        args[0] = createDebug.coerce(args[0]);\n        if (typeof args[0] !== 'string') {\n          // Anything else let's inspect with %O\n          args.unshift('%O');\n        }\n\n        // Apply any `formatters` transformations\n        var index = 0;\n        args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n          // If we encounter an escaped % then don't increase the array index\n          if (match === '%%') {\n            return '%';\n          }\n          index++;\n          var formatter = createDebug.formatters[format];\n          if (typeof formatter === 'function') {\n            var val = args[index];\n            match = formatter.call(self, val);\n\n            // Now we need to remove `args[index]` since it's inlined in the `format`\n            args.splice(index, 1);\n            index--;\n          }\n          return match;\n        });\n\n        // Apply env-specific formatting (colors, etc.)\n        createDebug.formatArgs.call(self, args);\n        var logFn = self.log || createDebug.log;\n        logFn.apply(self, args);\n      }\n      debug.namespace = namespace;\n      debug.useColors = createDebug.useColors();\n      debug.color = createDebug.selectColor(namespace);\n      debug.extend = extend;\n      debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n      Object.defineProperty(debug, 'enabled', {\n        enumerable: true,\n        configurable: false,\n        get: function get() {\n          if (enableOverride !== null) {\n            return enableOverride;\n          }\n          if (namespacesCache !== createDebug.namespaces) {\n            namespacesCache = createDebug.namespaces;\n            enabledCache = createDebug.enabled(namespace);\n          }\n          return enabledCache;\n        },\n        set: function set(v) {\n          enableOverride = v;\n        }\n      });\n\n      // Env-specific initialization logic for debug instances\n      if (typeof createDebug.init === 'function') {\n        createDebug.init(debug);\n      }\n      return debug;\n    }\n    function extend(namespace, delimiter) {\n      var newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n      newDebug.log = this.log;\n      return newDebug;\n    }\n\n    /**\n    * Enables a debug mode by namespaces. This can include modes\n    * separated by a colon and wildcards.\n    *\n    * @param {String} namespaces\n    * @api public\n    */\n    function enable(namespaces) {\n      createDebug.save(namespaces);\n      createDebug.namespaces = namespaces;\n      createDebug.names = [];\n      createDebug.skips = [];\n      var i;\n      var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n      var len = split.length;\n      for (i = 0; i < len; i++) {\n        if (!split[i]) {\n          // ignore empty strings\n          continue;\n        }\n        namespaces = split[i].replace(/\\*/g, '.*?');\n        if (namespaces[0] === '-') {\n          createDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n        } else {\n          createDebug.names.push(new RegExp('^' + namespaces + '$'));\n        }\n      }\n    }\n\n    /**\n    * Disable debug output.\n    *\n    * @return {String} namespaces\n    * @api public\n    */\n    function disable() {\n      var namespaces = [].concat(_toConsumableArray(createDebug.names.map(toNamespace)), _toConsumableArray(createDebug.skips.map(toNamespace).map(function (namespace) {\n        return '-' + namespace;\n      }))).join(',');\n      createDebug.enable('');\n      return namespaces;\n    }\n\n    /**\n    * Returns true if the given mode name is enabled, false otherwise.\n    *\n    * @param {String} name\n    * @return {Boolean}\n    * @api public\n    */\n    function enabled(name) {\n      if (name[name.length - 1] === '*') {\n        return true;\n      }\n      var i;\n      var len;\n      for (i = 0, len = createDebug.skips.length; i < len; i++) {\n        if (createDebug.skips[i].test(name)) {\n          return false;\n        }\n      }\n      for (i = 0, len = createDebug.names.length; i < len; i++) {\n        if (createDebug.names[i].test(name)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n    * Convert regexp to namespace\n    *\n    * @param {RegExp} regxep\n    * @return {String} namespace\n    * @api private\n    */\n    function toNamespace(regexp) {\n      return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, '*');\n    }\n\n    /**\n    * Coerce `val`.\n    *\n    * @param {Mixed} val\n    * @return {Mixed}\n    * @api private\n    */\n    function coerce(val) {\n      if (val instanceof Error) {\n        return val.stack || val.message;\n      }\n      return val;\n    }\n\n    /**\n    * XXX DO NOT USE. This is a temporary stub function.\n    * XXX It WILL be removed in the next major release.\n    */\n    function destroy() {\n      console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n    }\n    createDebug.enable(createDebug.load());\n    return createDebug;\n  }\n  var common = setup;\n\n  /* eslint-env browser */\n  browser.exports;\n  (function (module, exports) {\n    /**\n     * This is the web browser implementation of `debug()`.\n     */\n\n    exports.formatArgs = formatArgs;\n    exports.save = save;\n    exports.load = load;\n    exports.useColors = useColors;\n    exports.storage = localstorage();\n    exports.destroy = function () {\n      var warned = false;\n      return function () {\n        if (!warned) {\n          warned = true;\n          console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n        }\n      };\n    }();\n\n    /**\n     * Colors.\n     */\n\n    exports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n\n    /**\n     * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n     * and the Firebug extension (any Firefox version) are known\n     * to support \"%c\" CSS customizations.\n     *\n     * TODO: add a `localStorage` variable to explicitly enable/disable colors\n     */\n\n    // eslint-disable-next-line complexity\n    function useColors() {\n      // NB: In an Electron preload script, document will be defined but not fully\n      // initialized. Since we know we're in Chrome, we'll just detect this case\n      // explicitly\n      if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n        return true;\n      }\n\n      // Internet Explorer and Edge do not support colors.\n      if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n        return false;\n      }\n\n      // Is webkit? http://stackoverflow.com/a/16459606/376773\n      // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n      return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance ||\n      // Is firebug? http://stackoverflow.com/a/398120/376773\n      typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) ||\n      // Is firefox >= v31?\n      // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n      typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 ||\n      // Double check webkit in userAgent just in case we are in a worker\n      typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n    }\n\n    /**\n     * Colorize log arguments if enabled.\n     *\n     * @api public\n     */\n\n    function formatArgs(args) {\n      args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n      if (!this.useColors) {\n        return;\n      }\n      var c = 'color: ' + this.color;\n      args.splice(1, 0, c, 'color: inherit');\n\n      // The final \"%c\" is somewhat tricky, because there could be other\n      // arguments passed either before or after the %c, so we need to\n      // figure out the correct index to insert the CSS into\n      var index = 0;\n      var lastC = 0;\n      args[0].replace(/%[a-zA-Z%]/g, function (match) {\n        if (match === '%%') {\n          return;\n        }\n        index++;\n        if (match === '%c') {\n          // We only are interested in the *last* %c\n          // (the user may have provided their own)\n          lastC = index;\n        }\n      });\n      args.splice(lastC, 0, c);\n    }\n\n    /**\n     * Invokes `console.debug()` when available.\n     * No-op when `console.debug` is not a \"function\".\n     * If `console.debug` is not available, falls back\n     * to `console.log`.\n     *\n     * @api public\n     */\n    exports.log = console.debug || console.log || function () {};\n\n    /**\n     * Save `namespaces`.\n     *\n     * @param {String} namespaces\n     * @api private\n     */\n    function save(namespaces) {\n      try {\n        if (namespaces) {\n          exports.storage.setItem('debug', namespaces);\n        } else {\n          exports.storage.removeItem('debug');\n        }\n      } catch (error) {\n        // Swallow\n        // XXX (@Qix-) should we be logging these?\n      }\n    }\n\n    /**\n     * Load `namespaces`.\n     *\n     * @return {String} returns the previously persisted debug modes\n     * @api private\n     */\n    function load() {\n      var r;\n      try {\n        r = exports.storage.getItem('debug');\n      } catch (error) {\n        // Swallow\n        // XXX (@Qix-) should we be logging these?\n      }\n\n      // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n      if (!r && typeof process !== 'undefined' && 'env' in process) {\n        r = process.env.DEBUG;\n      }\n      return r;\n    }\n\n    /**\n     * Localstorage attempts to return the localstorage.\n     *\n     * This is necessary because safari throws\n     * when a user disables cookies/localstorage\n     * and you attempt to access it.\n     *\n     * @return {LocalStorage}\n     * @api private\n     */\n\n    function localstorage() {\n      try {\n        // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n        // The Browser also has localStorage in the global context.\n        return localStorage;\n      } catch (error) {\n        // Swallow\n        // XXX (@Qix-) should we be logging these?\n      }\n    }\n    module.exports = common(exports);\n    var formatters = module.exports.formatters;\n\n    /**\n     * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n     */\n\n    formatters.j = function (v) {\n      try {\n        return JSON.stringify(v);\n      } catch (error) {\n        return '[UnexpectedJSONParseError]: ' + error.message;\n      }\n    };\n  })(browser, browser.exports);\n  var browserExports = browser.exports;\n  var debugModule = /*@__PURE__*/getDefaultExportFromCjs(browserExports);\n\n  var debug$3 = debugModule(\"socket.io-client:url\"); // debug()\n  /**\n   * URL parser.\n   *\n   * @param uri - url\n   * @param path - the request path of the connection\n   * @param loc - An object meant to mimic window.location.\n   *        Defaults to window.location.\n   * @public\n   */\n  function url(uri) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    var loc = arguments.length > 2 ? arguments[2] : undefined;\n    var obj = uri;\n    // default to window.location\n    loc = loc || typeof location !== \"undefined\" && location;\n    if (null == uri) uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n      if (\"/\" === uri.charAt(0)) {\n        if (\"/\" === uri.charAt(1)) {\n          uri = loc.protocol + uri;\n        } else {\n          uri = loc.host + uri;\n        }\n      }\n      if (!/^(https?|wss?):\\/\\//.test(uri)) {\n        debug$3(\"protocol-less url %s\", uri);\n        if (\"undefined\" !== typeof loc) {\n          uri = loc.protocol + \"//\" + uri;\n        } else {\n          uri = \"https://\" + uri;\n        }\n      }\n      // parse\n      debug$3(\"parse %s\", uri);\n      obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n      if (/^(http|ws)$/.test(obj.protocol)) {\n        obj.port = \"80\";\n      } else if (/^(http|ws)s$/.test(obj.protocol)) {\n        obj.port = \"443\";\n      }\n    }\n    obj.path = obj.path || \"/\";\n    var ipv6 = obj.host.indexOf(\":\") !== -1;\n    var host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href = obj.protocol + \"://\" + host + (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n  }\n\n  var withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n  var isView = function isView(obj) {\n    return typeof ArrayBuffer.isView === \"function\" ? ArrayBuffer.isView(obj) : obj.buffer instanceof ArrayBuffer;\n  };\n  var toString = Object.prototype.toString;\n  var withNativeBlob = typeof Blob === \"function\" || typeof Blob !== \"undefined\" && toString.call(Blob) === \"[object BlobConstructor]\";\n  var withNativeFile = typeof File === \"function\" || typeof File !== \"undefined\" && toString.call(File) === \"[object FileConstructor]\";\n  /**\n   * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n   *\n   * @private\n   */\n  function isBinary(obj) {\n    return withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)) || withNativeBlob && obj instanceof Blob || withNativeFile && obj instanceof File;\n  }\n  function hasBinary(obj, toJSON) {\n    if (!obj || _typeof(obj) !== \"object\") {\n      return false;\n    }\n    if (Array.isArray(obj)) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (hasBinary(obj[i])) {\n          return true;\n        }\n      }\n      return false;\n    }\n    if (isBinary(obj)) {\n      return true;\n    }\n    if (obj.toJSON && typeof obj.toJSON === \"function\" && arguments.length === 1) {\n      return hasBinary(obj.toJSON(), true);\n    }\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n   *\n   * @param {Object} packet - socket.io event packet\n   * @return {Object} with deconstructed packet and list of buffers\n   * @public\n   */\n  function deconstructPacket(packet) {\n    var buffers = [];\n    var packetData = packet.data;\n    var pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return {\n      packet: pack,\n      buffers: buffers\n    };\n  }\n  function _deconstructPacket(data, buffers) {\n    if (!data) return data;\n    if (isBinary(data)) {\n      var placeholder = {\n        _placeholder: true,\n        num: buffers.length\n      };\n      buffers.push(data);\n      return placeholder;\n    } else if (Array.isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i], buffers);\n      }\n      return newData;\n    } else if (_typeof(data) === \"object\" && !(data instanceof Date)) {\n      var _newData = {};\n      for (var key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n          _newData[key] = _deconstructPacket(data[key], buffers);\n        }\n      }\n      return _newData;\n    }\n    return data;\n  }\n  /**\n   * Reconstructs a binary packet from its placeholder packet and buffers\n   *\n   * @param {Object} packet - event packet with placeholders\n   * @param {Array} buffers - binary buffers to put in placeholder positions\n   * @return {Object} reconstructed packet\n   * @public\n   */\n  function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n  }\n  function _reconstructPacket(data, buffers) {\n    if (!data) return data;\n    if (data && data._placeholder === true) {\n      var isIndexValid = typeof data.num === \"number\" && data.num >= 0 && data.num < buffers.length;\n      if (isIndexValid) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      } else {\n        throw new Error(\"illegal attachments\");\n      }\n    } else if (Array.isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i], buffers);\n      }\n    } else if (_typeof(data) === \"object\") {\n      for (var key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n          data[key] = _reconstructPacket(data[key], buffers);\n        }\n      }\n    }\n    return data;\n  }\n\n  /**\n   * These strings must not be used as event names, as they have a special meaning.\n   */\n  var RESERVED_EVENTS$1 = [\"connect\",\n  // used on the client side\n  \"connect_error\",\n  // used on the client side\n  \"disconnect\",\n  // used on both sides\n  \"disconnecting\",\n  // used on the server side\n  \"newListener\",\n  // used by the Node.js EventEmitter\n  \"removeListener\" // used by the Node.js EventEmitter\n  ];\n  /**\n   * Protocol version.\n   *\n   * @public\n   */\n  var protocol = 5;\n  var PacketType;\n  (function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n  })(PacketType || (PacketType = {}));\n  /**\n   * A socket.io Encoder instance\n   */\n  var Encoder = /*#__PURE__*/function () {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    function Encoder(replacer) {\n      this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    var _proto = Encoder.prototype;\n    _proto.encode = function encode(obj) {\n      if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n        if (hasBinary(obj)) {\n          return this.encodeAsBinary({\n            type: obj.type === PacketType.EVENT ? PacketType.BINARY_EVENT : PacketType.BINARY_ACK,\n            nsp: obj.nsp,\n            data: obj.data,\n            id: obj.id\n          });\n        }\n      }\n      return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */;\n    _proto.encodeAsString = function encodeAsString(obj) {\n      // first is type\n      var str = \"\" + obj.type;\n      // attachments if we have them\n      if (obj.type === PacketType.BINARY_EVENT || obj.type === PacketType.BINARY_ACK) {\n        str += obj.attachments + \"-\";\n      }\n      // if we have a namespace other than `/`\n      // we append it followed by a comma `,`\n      if (obj.nsp && \"/\" !== obj.nsp) {\n        str += obj.nsp + \",\";\n      }\n      // immediately followed by the id\n      if (null != obj.id) {\n        str += obj.id;\n      }\n      // json data\n      if (null != obj.data) {\n        str += JSON.stringify(obj.data, this.replacer);\n      }\n      return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */;\n    _proto.encodeAsBinary = function encodeAsBinary(obj) {\n      var deconstruction = deconstructPacket(obj);\n      var pack = this.encodeAsString(deconstruction.packet);\n      var buffers = deconstruction.buffers;\n      buffers.unshift(pack); // add packet info to beginning of data list\n      return buffers; // write all the buffers\n    };\n    return Encoder;\n  }();\n  /**\n   * A socket.io Decoder instance\n   *\n   * @return {Object} decoder\n   */\n  var Decoder = /*#__PURE__*/function (_Emitter) {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    function Decoder(reviver) {\n      var _this;\n      _this = _Emitter.call(this) || this;\n      _this.reviver = reviver;\n      return _this;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    _inheritsLoose(Decoder, _Emitter);\n    var _proto2 = Decoder.prototype;\n    _proto2.add = function add(obj) {\n      var packet;\n      if (typeof obj === \"string\") {\n        if (this.reconstructor) {\n          throw new Error(\"got plaintext data when reconstructing a packet\");\n        }\n        packet = this.decodeString(obj);\n        var isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n        if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n          packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n          // binary packet's json\n          this.reconstructor = new BinaryReconstructor(packet);\n          // no attachments, labeled binary but no binary data to follow\n          if (packet.attachments === 0) {\n            _Emitter.prototype.emitReserved.call(this, \"decoded\", packet);\n          }\n        } else {\n          // non-binary full packet\n          _Emitter.prototype.emitReserved.call(this, \"decoded\", packet);\n        }\n      } else if (isBinary(obj) || obj.base64) {\n        // raw binary data\n        if (!this.reconstructor) {\n          throw new Error(\"got binary data when not reconstructing a packet\");\n        } else {\n          packet = this.reconstructor.takeBinaryData(obj);\n          if (packet) {\n            // received final buffer\n            this.reconstructor = null;\n            _Emitter.prototype.emitReserved.call(this, \"decoded\", packet);\n          }\n        }\n      } else {\n        throw new Error(\"Unknown type: \" + obj);\n      }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */;\n    _proto2.decodeString = function decodeString(str) {\n      var i = 0;\n      // look up type\n      var p = {\n        type: Number(str.charAt(0))\n      };\n      if (PacketType[p.type] === undefined) {\n        throw new Error(\"unknown packet type \" + p.type);\n      }\n      // look up attachments if type binary\n      if (p.type === PacketType.BINARY_EVENT || p.type === PacketType.BINARY_ACK) {\n        var start = i + 1;\n        while (str.charAt(++i) !== \"-\" && i != str.length) {}\n        var buf = str.substring(start, i);\n        if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n          throw new Error(\"Illegal attachments\");\n        }\n        p.attachments = Number(buf);\n      }\n      // look up namespace (if any)\n      if (\"/\" === str.charAt(i + 1)) {\n        var _start = i + 1;\n        while (++i) {\n          var c = str.charAt(i);\n          if (\",\" === c) break;\n          if (i === str.length) break;\n        }\n        p.nsp = str.substring(_start, i);\n      } else {\n        p.nsp = \"/\";\n      }\n      // look up id\n      var next = str.charAt(i + 1);\n      if (\"\" !== next && Number(next) == next) {\n        var _start2 = i + 1;\n        while (++i) {\n          var _c = str.charAt(i);\n          if (null == _c || Number(_c) != _c) {\n            --i;\n            break;\n          }\n          if (i === str.length) break;\n        }\n        p.id = Number(str.substring(_start2, i + 1));\n      }\n      // look up json data\n      if (str.charAt(++i)) {\n        var payload = this.tryParse(str.substr(i));\n        if (Decoder.isPayloadValid(p.type, payload)) {\n          p.data = payload;\n        } else {\n          throw new Error(\"invalid payload\");\n        }\n      }\n      return p;\n    };\n    _proto2.tryParse = function tryParse(str) {\n      try {\n        return JSON.parse(str, this.reviver);\n      } catch (e) {\n        return false;\n      }\n    };\n    Decoder.isPayloadValid = function isPayloadValid(type, payload) {\n      switch (type) {\n        case PacketType.CONNECT:\n          return isObject(payload);\n        case PacketType.DISCONNECT:\n          return payload === undefined;\n        case PacketType.CONNECT_ERROR:\n          return typeof payload === \"string\" || isObject(payload);\n        case PacketType.EVENT:\n        case PacketType.BINARY_EVENT:\n          return Array.isArray(payload) && (typeof payload[0] === \"number\" || typeof payload[0] === \"string\" && RESERVED_EVENTS$1.indexOf(payload[0]) === -1);\n        case PacketType.ACK:\n        case PacketType.BINARY_ACK:\n          return Array.isArray(payload);\n      }\n    }\n    /**\n     * Deallocates a parser's resources\n     */;\n    _proto2.destroy = function destroy() {\n      if (this.reconstructor) {\n        this.reconstructor.finishedReconstruction();\n        this.reconstructor = null;\n      }\n    };\n    return Decoder;\n  }(Emitter);\n  /**\n   * A manager of a binary event's 'buffer sequence'. Should\n   * be constructed whenever a packet of type BINARY_EVENT is\n   * decoded.\n   *\n   * @param {Object} packet\n   * @return {BinaryReconstructor} initialized reconstructor\n   */\n  var BinaryReconstructor = /*#__PURE__*/function () {\n    function BinaryReconstructor(packet) {\n      this.packet = packet;\n      this.buffers = [];\n      this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    var _proto3 = BinaryReconstructor.prototype;\n    _proto3.takeBinaryData = function takeBinaryData(binData) {\n      this.buffers.push(binData);\n      if (this.buffers.length === this.reconPack.attachments) {\n        // done with buffer list\n        var packet = reconstructPacket(this.reconPack, this.buffers);\n        this.finishedReconstruction();\n        return packet;\n      }\n      return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */;\n    _proto3.finishedReconstruction = function finishedReconstruction() {\n      this.reconPack = null;\n      this.buffers = [];\n    };\n    return BinaryReconstructor;\n  }();\n  function isNamespaceValid(nsp) {\n    return typeof nsp === \"string\";\n  }\n  // see https://caniuse.com/mdn-javascript_builtins_number_isinteger\n  var isInteger = Number.isInteger || function (value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n  };\n  function isAckIdValid(id) {\n    return id === undefined || isInteger(id);\n  }\n  // see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\n  function isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n  }\n  function isDataValid(type, payload) {\n    switch (type) {\n      case PacketType.CONNECT:\n        return payload === undefined || isObject(payload);\n      case PacketType.DISCONNECT:\n        return payload === undefined;\n      case PacketType.EVENT:\n        return Array.isArray(payload) && (typeof payload[0] === \"number\" || typeof payload[0] === \"string\" && RESERVED_EVENTS$1.indexOf(payload[0]) === -1);\n      case PacketType.ACK:\n        return Array.isArray(payload);\n      case PacketType.CONNECT_ERROR:\n        return typeof payload === \"string\" || isObject(payload);\n      default:\n        return false;\n    }\n  }\n  function isPacketValid(packet) {\n    return isNamespaceValid(packet.nsp) && isAckIdValid(packet.id) && isDataValid(packet.type, packet.data);\n  }\n\n  var parser = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    protocol: protocol,\n    get PacketType () { return PacketType; },\n    Encoder: Encoder,\n    Decoder: Decoder,\n    isPacketValid: isPacketValid\n  });\n\n  function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n      obj.off(ev, fn);\n    };\n  }\n\n  var debug$2 = debugModule(\"socket.io-client:socket\"); // debug()\n  /**\n   * Internal events.\n   * These events can't be emitted by the user.\n   */\n  var RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1\n  });\n  /**\n   * A Socket is the fundamental class for interacting with the server.\n   *\n   * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n   *\n   * @example\n   * const socket = io();\n   *\n   * socket.on(\"connect\", () => {\n   *   console.log(\"connected\");\n   * });\n   *\n   * // send an event to the server\n   * socket.emit(\"foo\", \"bar\");\n   *\n   * socket.on(\"foobar\", () => {\n   *   // an event was received from the server\n   * });\n   *\n   * // upon disconnection\n   * socket.on(\"disconnect\", (reason) => {\n   *   console.log(`disconnected due to ${reason}`);\n   * });\n   */\n  var Socket = /*#__PURE__*/function (_Emitter) {\n    /**\n     * `Socket` constructor.\n     */\n    function Socket(io, nsp, opts) {\n      var _this;\n      _this = _Emitter.call(this) || this;\n      /**\n       * Whether the socket is currently connected to the server.\n       *\n       * @example\n       * const socket = io();\n       *\n       * socket.on(\"connect\", () => {\n       *   console.log(socket.connected); // true\n       * });\n       *\n       * socket.on(\"disconnect\", () => {\n       *   console.log(socket.connected); // false\n       * });\n       */\n      _this.connected = false;\n      /**\n       * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n       * be transmitted by the server.\n       */\n      _this.recovered = false;\n      /**\n       * Buffer for packets received before the CONNECT packet\n       */\n      _this.receiveBuffer = [];\n      /**\n       * Buffer for packets that will be sent once the socket is connected\n       */\n      _this.sendBuffer = [];\n      /**\n       * The queue of packets to be sent with retry in case of failure.\n       *\n       * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n       * @private\n       */\n      _this._queue = [];\n      /**\n       * A sequence to generate the ID of the {@link QueuedPacket}.\n       * @private\n       */\n      _this._queueSeq = 0;\n      _this.ids = 0;\n      /**\n       * A map containing acknowledgement handlers.\n       *\n       * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n       *\n       * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n       * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n       * - `const value = await socket.emitWithAck(\"test\")`\n       *\n       * From those that don't:\n       *\n       * - `socket.emit(\"test\", (value) => { ... });`\n       *\n       * In the first case, the handlers will be called with an error when:\n       *\n       * - the timeout is reached\n       * - the socket gets disconnected\n       *\n       * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n       * an acknowledgement from the server.\n       *\n       * @private\n       */\n      _this.acks = {};\n      _this.flags = {};\n      _this.io = io;\n      _this.nsp = nsp;\n      if (opts && opts.auth) {\n        _this.auth = opts.auth;\n      }\n      _this._opts = _extends({}, opts);\n      if (_this.io._autoConnect) _this.open();\n      return _this;\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    _inheritsLoose(Socket, _Emitter);\n    var _proto = Socket.prototype;\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    _proto.subEvents = function subEvents() {\n      if (this.subs) return;\n      var io = this.io;\n      this.subs = [on(io, \"open\", this.onopen.bind(this)), on(io, \"packet\", this.onpacket.bind(this)), on(io, \"error\", this.onerror.bind(this)), on(io, \"close\", this.onclose.bind(this))];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */;\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    _proto.connect = function connect() {\n      if (this.connected) return this;\n      this.subEvents();\n      if (!this.io[\"_reconnecting\"]) this.io.open(); // ensure open\n      if (\"open\" === this.io._readyState) this.onopen();\n      return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */;\n    _proto.open = function open() {\n      return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */;\n    _proto.send = function send() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      args.unshift(\"message\");\n      this.emit.apply(this, args);\n      return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */;\n    _proto.emit = function emit(ev) {\n      var _a, _b, _c;\n      if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n        throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n      }\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      args.unshift(ev);\n      if (this._opts.retries && !this.flags.fromQueue && !this.flags[\"volatile\"]) {\n        this._addToQueue(args);\n        return this;\n      }\n      var packet = {\n        type: PacketType.EVENT,\n        data: args\n      };\n      packet.options = {};\n      packet.options.compress = this.flags.compress !== false;\n      // event ack callback\n      if (\"function\" === typeof args[args.length - 1]) {\n        var id = this.ids++;\n        debug$2(\"emitting packet with ack id %d\", id);\n        var ack = args.pop();\n        this._registerAckCallback(id, ack);\n        packet.id = id;\n      }\n      var isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n      var isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n      var discardPacket = this.flags[\"volatile\"] && !isTransportWritable;\n      if (discardPacket) {\n        debug$2(\"discard packet as the transport is not currently writable\");\n      } else if (isConnected) {\n        this.notifyOutgoingListeners(packet);\n        this.packet(packet);\n      } else {\n        this.sendBuffer.push(packet);\n      }\n      this.flags = {};\n      return this;\n    }\n    /**\n     * @private\n     */;\n    _proto._registerAckCallback = function _registerAckCallback(id, ack) {\n      var _this2 = this;\n      var _a;\n      var timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n      if (timeout === undefined) {\n        this.acks[id] = ack;\n        return;\n      }\n      // @ts-ignore\n      var timer = this.io.setTimeoutFn(function () {\n        delete _this2.acks[id];\n        for (var i = 0; i < _this2.sendBuffer.length; i++) {\n          if (_this2.sendBuffer[i].id === id) {\n            debug$2(\"removing packet with ack id %d from the buffer\", id);\n            _this2.sendBuffer.splice(i, 1);\n          }\n        }\n        debug$2(\"event with ack id %d has timed out after %d ms\", id, timeout);\n        ack.call(_this2, new Error(\"operation has timed out\"));\n      }, timeout);\n      var fn = function fn() {\n        // @ts-ignore\n        _this2.io.clearTimeoutFn(timer);\n        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n        ack.apply(_this2, args);\n      };\n      fn.withError = true;\n      this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */;\n    _proto.emitWithAck = function emitWithAck(ev) {\n      var _this3 = this;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      return new Promise(function (resolve, reject) {\n        var fn = function fn(arg1, arg2) {\n          return arg1 ? reject(arg1) : resolve(arg2);\n        };\n        fn.withError = true;\n        args.push(fn);\n        _this3.emit.apply(_this3, [ev].concat(args));\n      });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */;\n    _proto._addToQueue = function _addToQueue(args) {\n      var _this4 = this;\n      var ack;\n      if (typeof args[args.length - 1] === \"function\") {\n        ack = args.pop();\n      }\n      var packet = {\n        id: this._queueSeq++,\n        tryCount: 0,\n        pending: false,\n        args: args,\n        flags: _extends({\n          fromQueue: true\n        }, this.flags)\n      };\n      args.push(function (err) {\n        if (packet !== _this4._queue[0]) {\n          // the packet has already been acknowledged\n          return;\n        }\n        var hasError = err !== null;\n        if (hasError) {\n          if (packet.tryCount > _this4._opts.retries) {\n            debug$2(\"packet [%d] is discarded after %d tries\", packet.id, packet.tryCount);\n            _this4._queue.shift();\n            if (ack) {\n              ack(err);\n            }\n          }\n        } else {\n          debug$2(\"packet [%d] was successfully sent\", packet.id);\n          _this4._queue.shift();\n          if (ack) {\n            for (var _len5 = arguments.length, responseArgs = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n              responseArgs[_key5 - 1] = arguments[_key5];\n            }\n            ack.apply(void 0, [null].concat(responseArgs));\n          }\n        }\n        packet.pending = false;\n        return _this4._drainQueue();\n      });\n      this._queue.push(packet);\n      this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */;\n    _proto._drainQueue = function _drainQueue() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      debug$2(\"draining queue\");\n      if (!this.connected || this._queue.length === 0) {\n        return;\n      }\n      var packet = this._queue[0];\n      if (packet.pending && !force) {\n        debug$2(\"packet [%d] has already been sent and is waiting for an ack\", packet.id);\n        return;\n      }\n      packet.pending = true;\n      packet.tryCount++;\n      debug$2(\"sending packet [%d] (try nÂ°%d)\", packet.id, packet.tryCount);\n      this.flags = packet.flags;\n      this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */;\n    _proto.packet = function packet(_packet) {\n      _packet.nsp = this.nsp;\n      this.io._packet(_packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */;\n    _proto.onopen = function onopen() {\n      var _this5 = this;\n      debug$2(\"transport is open - connecting\");\n      if (typeof this.auth == \"function\") {\n        this.auth(function (data) {\n          _this5._sendConnectPacket(data);\n        });\n      } else {\n        this._sendConnectPacket(this.auth);\n      }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */;\n    _proto._sendConnectPacket = function _sendConnectPacket(data) {\n      this.packet({\n        type: PacketType.CONNECT,\n        data: this._pid ? _extends({\n          pid: this._pid,\n          offset: this._lastOffset\n        }, data) : data\n      });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */;\n    _proto.onerror = function onerror(err) {\n      if (!this.connected) {\n        this.emitReserved(\"connect_error\", err);\n      }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */;\n    _proto.onclose = function onclose(reason, description) {\n      debug$2(\"close (%s)\", reason);\n      this.connected = false;\n      delete this.id;\n      this.emitReserved(\"disconnect\", reason, description);\n      this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */;\n    _proto._clearAcks = function _clearAcks() {\n      var _this6 = this;\n      Object.keys(this.acks).forEach(function (id) {\n        var isBuffered = _this6.sendBuffer.some(function (packet) {\n          return String(packet.id) === id;\n        });\n        if (!isBuffered) {\n          // note: handlers that do not accept an error as first argument are ignored here\n          var ack = _this6.acks[id];\n          delete _this6.acks[id];\n          if (ack.withError) {\n            ack.call(_this6, new Error(\"socket has been disconnected\"));\n          }\n        }\n      });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */;\n    _proto.onpacket = function onpacket(packet) {\n      var sameNamespace = packet.nsp === this.nsp;\n      if (!sameNamespace) return;\n      switch (packet.type) {\n        case PacketType.CONNECT:\n          if (packet.data && packet.data.sid) {\n            this.onconnect(packet.data.sid, packet.data.pid);\n          } else {\n            this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n          }\n          break;\n        case PacketType.EVENT:\n        case PacketType.BINARY_EVENT:\n          this.onevent(packet);\n          break;\n        case PacketType.ACK:\n        case PacketType.BINARY_ACK:\n          this.onack(packet);\n          break;\n        case PacketType.DISCONNECT:\n          this.ondisconnect();\n          break;\n        case PacketType.CONNECT_ERROR:\n          this.destroy();\n          var err = new Error(packet.data.message);\n          // @ts-ignore\n          err.data = packet.data.data;\n          this.emitReserved(\"connect_error\", err);\n          break;\n      }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */;\n    _proto.onevent = function onevent(packet) {\n      var args = packet.data || [];\n      debug$2(\"emitting event %j\", args);\n      if (null != packet.id) {\n        debug$2(\"attaching ack callback to event\");\n        args.push(this.ack(packet.id));\n      }\n      if (this.connected) {\n        this.emitEvent(args);\n      } else {\n        this.receiveBuffer.push(Object.freeze(args));\n      }\n    };\n    _proto.emitEvent = function emitEvent(args) {\n      if (this._anyListeners && this._anyListeners.length) {\n        var listeners = this._anyListeners.slice();\n        var _iterator = _createForOfIteratorHelper(listeners),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var listener = _step.value;\n            listener.apply(this, args);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      _Emitter.prototype.emit.apply(this, args);\n      if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n        this._lastOffset = args[args.length - 1];\n      }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */;\n    _proto.ack = function ack(id) {\n      var self = this;\n      var sent = false;\n      return function () {\n        // prevent double callbacks\n        if (sent) return;\n        sent = true;\n        for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n          args[_key6] = arguments[_key6];\n        }\n        debug$2(\"sending ack %j\", args);\n        self.packet({\n          type: PacketType.ACK,\n          id: id,\n          data: args\n        });\n      };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */;\n    _proto.onack = function onack(packet) {\n      var ack = this.acks[packet.id];\n      if (typeof ack !== \"function\") {\n        debug$2(\"bad ack %s\", packet.id);\n        return;\n      }\n      delete this.acks[packet.id];\n      debug$2(\"calling ack %s with %j\", packet.id, packet.data);\n      // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n      if (ack.withError) {\n        packet.data.unshift(null);\n      }\n      // @ts-ignore\n      ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */;\n    _proto.onconnect = function onconnect(id, pid) {\n      debug$2(\"socket connected with id %s\", id);\n      this.id = id;\n      this.recovered = pid && this._pid === pid;\n      this._pid = pid; // defined only if connection state recovery is enabled\n      this.connected = true;\n      this.emitBuffered();\n      this.emitReserved(\"connect\");\n      this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */;\n    _proto.emitBuffered = function emitBuffered() {\n      var _this7 = this;\n      this.receiveBuffer.forEach(function (args) {\n        return _this7.emitEvent(args);\n      });\n      this.receiveBuffer = [];\n      this.sendBuffer.forEach(function (packet) {\n        _this7.notifyOutgoingListeners(packet);\n        _this7.packet(packet);\n      });\n      this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */;\n    _proto.ondisconnect = function ondisconnect() {\n      debug$2(\"server disconnect (%s)\", this.nsp);\n      this.destroy();\n      this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */;\n    _proto.destroy = function destroy() {\n      if (this.subs) {\n        // clean subscriptions to avoid reconnections\n        this.subs.forEach(function (subDestroy) {\n          return subDestroy();\n        });\n        this.subs = undefined;\n      }\n      this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */;\n    _proto.disconnect = function disconnect() {\n      if (this.connected) {\n        debug$2(\"performing disconnect (%s)\", this.nsp);\n        this.packet({\n          type: PacketType.DISCONNECT\n        });\n      }\n      // remove socket from pool\n      this.destroy();\n      if (this.connected) {\n        // fire events\n        this.onclose(\"io client disconnect\");\n      }\n      return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */;\n    _proto.close = function close() {\n      return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */;\n    _proto.compress = function compress(_compress) {\n      this.flags.compress = _compress;\n      return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */;\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    _proto.timeout = function timeout(_timeout) {\n      this.flags.timeout = _timeout;\n      return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */;\n    _proto.onAny = function onAny(listener) {\n      this._anyListeners = this._anyListeners || [];\n      this._anyListeners.push(listener);\n      return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */;\n    _proto.prependAny = function prependAny(listener) {\n      this._anyListeners = this._anyListeners || [];\n      this._anyListeners.unshift(listener);\n      return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */;\n    _proto.offAny = function offAny(listener) {\n      if (!this._anyListeners) {\n        return this;\n      }\n      if (listener) {\n        var listeners = this._anyListeners;\n        for (var i = 0; i < listeners.length; i++) {\n          if (listener === listeners[i]) {\n            listeners.splice(i, 1);\n            return this;\n          }\n        }\n      } else {\n        this._anyListeners = [];\n      }\n      return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */;\n    _proto.listenersAny = function listenersAny() {\n      return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */;\n    _proto.onAnyOutgoing = function onAnyOutgoing(listener) {\n      this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n      this._anyOutgoingListeners.push(listener);\n      return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */;\n    _proto.prependAnyOutgoing = function prependAnyOutgoing(listener) {\n      this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n      this._anyOutgoingListeners.unshift(listener);\n      return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */;\n    _proto.offAnyOutgoing = function offAnyOutgoing(listener) {\n      if (!this._anyOutgoingListeners) {\n        return this;\n      }\n      if (listener) {\n        var listeners = this._anyOutgoingListeners;\n        for (var i = 0; i < listeners.length; i++) {\n          if (listener === listeners[i]) {\n            listeners.splice(i, 1);\n            return this;\n          }\n        }\n      } else {\n        this._anyOutgoingListeners = [];\n      }\n      return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */;\n    _proto.listenersAnyOutgoing = function listenersAnyOutgoing() {\n      return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */;\n    _proto.notifyOutgoingListeners = function notifyOutgoingListeners(packet) {\n      if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n        var listeners = this._anyOutgoingListeners.slice();\n        var _iterator2 = _createForOfIteratorHelper(listeners),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var listener = _step2.value;\n            listener.apply(this, packet.data);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    };\n    return _createClass(Socket, [{\n      key: \"disconnected\",\n      get: function get() {\n        return !this.connected;\n      }\n    }, {\n      key: \"active\",\n      get: function get() {\n        return !!this.subs;\n      }\n    }, {\n      key: \"volatile\",\n      get: function get() {\n        this.flags[\"volatile\"] = true;\n        return this;\n      }\n    }]);\n  }(Emitter);\n\n  /**\n   * Initialize backoff timer with `opts`.\n   *\n   * - `min` initial timeout in milliseconds [100]\n   * - `max` max timeout [10000]\n   * - `jitter` [0]\n   * - `factor` [2]\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n  }\n  /**\n   * Return the backoff duration.\n   *\n   * @return {Number}\n   * @api public\n   */\n  Backoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n      var rand = Math.random();\n      var deviation = Math.floor(rand * this.jitter * ms);\n      ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n  };\n  /**\n   * Reset the number of attempts.\n   *\n   * @api public\n   */\n  Backoff.prototype.reset = function () {\n    this.attempts = 0;\n  };\n  /**\n   * Set the minimum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMin = function (min) {\n    this.ms = min;\n  };\n  /**\n   * Set the maximum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMax = function (max) {\n    this.max = max;\n  };\n  /**\n   * Set the jitter\n   *\n   * @api public\n   */\n  Backoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n  };\n\n  var debug$1 = debugModule(\"socket.io-client:manager\"); // debug()\n  var Manager = /*#__PURE__*/function (_Emitter) {\n    function Manager(uri, opts) {\n      var _this;\n      var _a;\n      _this = _Emitter.call(this) || this;\n      _this.nsps = {};\n      _this.subs = [];\n      if (uri && \"object\" === _typeof(uri)) {\n        opts = uri;\n        uri = undefined;\n      }\n      opts = opts || {};\n      opts.path = opts.path || \"/socket.io\";\n      _this.opts = opts;\n      installTimerFunctions(_this, opts);\n      _this.reconnection(opts.reconnection !== false);\n      _this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n      _this.reconnectionDelay(opts.reconnectionDelay || 1000);\n      _this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n      _this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n      _this.backoff = new Backoff({\n        min: _this.reconnectionDelay(),\n        max: _this.reconnectionDelayMax(),\n        jitter: _this.randomizationFactor()\n      });\n      _this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n      _this._readyState = \"closed\";\n      _this.uri = uri;\n      var _parser = opts.parser || parser;\n      _this.encoder = new _parser.Encoder();\n      _this.decoder = new _parser.Decoder();\n      _this._autoConnect = opts.autoConnect !== false;\n      if (_this._autoConnect) _this.open();\n      return _this;\n    }\n    _inheritsLoose(Manager, _Emitter);\n    var _proto = Manager.prototype;\n    _proto.reconnection = function reconnection(v) {\n      if (!arguments.length) return this._reconnection;\n      this._reconnection = !!v;\n      if (!v) {\n        this.skipReconnect = true;\n      }\n      return this;\n    };\n    _proto.reconnectionAttempts = function reconnectionAttempts(v) {\n      if (v === undefined) return this._reconnectionAttempts;\n      this._reconnectionAttempts = v;\n      return this;\n    };\n    _proto.reconnectionDelay = function reconnectionDelay(v) {\n      var _a;\n      if (v === undefined) return this._reconnectionDelay;\n      this._reconnectionDelay = v;\n      (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n      return this;\n    };\n    _proto.randomizationFactor = function randomizationFactor(v) {\n      var _a;\n      if (v === undefined) return this._randomizationFactor;\n      this._randomizationFactor = v;\n      (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n      return this;\n    };\n    _proto.reconnectionDelayMax = function reconnectionDelayMax(v) {\n      var _a;\n      if (v === undefined) return this._reconnectionDelayMax;\n      this._reconnectionDelayMax = v;\n      (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n      return this;\n    };\n    _proto.timeout = function timeout(v) {\n      if (!arguments.length) return this._timeout;\n      this._timeout = v;\n      return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */;\n    _proto.maybeReconnectOnOpen = function maybeReconnectOnOpen() {\n      // Only try to reconnect if it's the first time we're connecting\n      if (!this._reconnecting && this._reconnection && this.backoff.attempts === 0) {\n        // keeps reconnection from firing twice for the same reconnection loop\n        this.reconnect();\n      }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */;\n    _proto.open = function open(fn) {\n      var _this2 = this;\n      debug$1(\"readyState %s\", this._readyState);\n      if (~this._readyState.indexOf(\"open\")) return this;\n      debug$1(\"opening %s\", this.uri);\n      this.engine = new Socket$1(this.uri, this.opts);\n      var socket = this.engine;\n      var self = this;\n      this._readyState = \"opening\";\n      this.skipReconnect = false;\n      // emit `open`\n      var openSubDestroy = on(socket, \"open\", function () {\n        self.onopen();\n        fn && fn();\n      });\n      var onError = function onError(err) {\n        debug$1(\"error\");\n        _this2.cleanup();\n        _this2._readyState = \"closed\";\n        _this2.emitReserved(\"error\", err);\n        if (fn) {\n          fn(err);\n        } else {\n          // Only do this if there is no fn to handle the error\n          _this2.maybeReconnectOnOpen();\n        }\n      };\n      // emit `error`\n      var errorSub = on(socket, \"error\", onError);\n      if (false !== this._timeout) {\n        var timeout = this._timeout;\n        debug$1(\"connect attempt will timeout after %d\", timeout);\n        // set timer\n        var timer = this.setTimeoutFn(function () {\n          debug$1(\"connect attempt timed out after %d\", timeout);\n          openSubDestroy();\n          onError(new Error(\"timeout\"));\n          socket.close();\n        }, timeout);\n        if (this.opts.autoUnref) {\n          timer.unref();\n        }\n        this.subs.push(function () {\n          _this2.clearTimeoutFn(timer);\n        });\n      }\n      this.subs.push(openSubDestroy);\n      this.subs.push(errorSub);\n      return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */;\n    _proto.connect = function connect(fn) {\n      return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */;\n    _proto.onopen = function onopen() {\n      debug$1(\"open\");\n      // clear old subs\n      this.cleanup();\n      // mark as open\n      this._readyState = \"open\";\n      this.emitReserved(\"open\");\n      // add new subs\n      var socket = this.engine;\n      this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)),\n      // @ts-ignore\n      on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */;\n    _proto.onping = function onping() {\n      this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */;\n    _proto.ondata = function ondata(data) {\n      try {\n        this.decoder.add(data);\n      } catch (e) {\n        this.onclose(\"parse error\", e);\n      }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */;\n    _proto.ondecoded = function ondecoded(packet) {\n      var _this3 = this;\n      // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n      nextTick(function () {\n        _this3.emitReserved(\"packet\", packet);\n      }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */;\n    _proto.onerror = function onerror(err) {\n      debug$1(\"error\", err);\n      this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */;\n    _proto.socket = function socket(nsp, opts) {\n      var socket = this.nsps[nsp];\n      if (!socket) {\n        socket = new Socket(this, nsp, opts);\n        this.nsps[nsp] = socket;\n      } else if (this._autoConnect && !socket.active) {\n        socket.connect();\n      }\n      return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */;\n    _proto._destroy = function _destroy(socket) {\n      var nsps = Object.keys(this.nsps);\n      for (var _i = 0, _nsps = nsps; _i < _nsps.length; _i++) {\n        var nsp = _nsps[_i];\n        var _socket = this.nsps[nsp];\n        if (_socket.active) {\n          debug$1(\"socket %s is still active, skipping close\", nsp);\n          return;\n        }\n      }\n      this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */;\n    _proto._packet = function _packet(packet) {\n      debug$1(\"writing packet %j\", packet);\n      var encodedPackets = this.encoder.encode(packet);\n      for (var i = 0; i < encodedPackets.length; i++) {\n        this.engine.write(encodedPackets[i], packet.options);\n      }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */;\n    _proto.cleanup = function cleanup() {\n      debug$1(\"cleanup\");\n      this.subs.forEach(function (subDestroy) {\n        return subDestroy();\n      });\n      this.subs.length = 0;\n      this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */;\n    _proto._close = function _close() {\n      debug$1(\"disconnect\");\n      this.skipReconnect = true;\n      this._reconnecting = false;\n      this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */;\n    _proto.disconnect = function disconnect() {\n      return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */;\n    _proto.onclose = function onclose(reason, description) {\n      var _a;\n      debug$1(\"closed due to %s\", reason);\n      this.cleanup();\n      (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n      this.backoff.reset();\n      this._readyState = \"closed\";\n      this.emitReserved(\"close\", reason, description);\n      if (this._reconnection && !this.skipReconnect) {\n        this.reconnect();\n      }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */;\n    _proto.reconnect = function reconnect() {\n      var _this4 = this;\n      if (this._reconnecting || this.skipReconnect) return this;\n      var self = this;\n      if (this.backoff.attempts >= this._reconnectionAttempts) {\n        debug$1(\"reconnect failed\");\n        this.backoff.reset();\n        this.emitReserved(\"reconnect_failed\");\n        this._reconnecting = false;\n      } else {\n        var delay = this.backoff.duration();\n        debug$1(\"will wait %dms before reconnect attempt\", delay);\n        this._reconnecting = true;\n        var timer = this.setTimeoutFn(function () {\n          if (self.skipReconnect) return;\n          debug$1(\"attempting reconnect\");\n          _this4.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n          // check again for the case socket closed in above events\n          if (self.skipReconnect) return;\n          self.open(function (err) {\n            if (err) {\n              debug$1(\"reconnect attempt error\");\n              self._reconnecting = false;\n              self.reconnect();\n              _this4.emitReserved(\"reconnect_error\", err);\n            } else {\n              debug$1(\"reconnect success\");\n              self.onreconnect();\n            }\n          });\n        }, delay);\n        if (this.opts.autoUnref) {\n          timer.unref();\n        }\n        this.subs.push(function () {\n          _this4.clearTimeoutFn(timer);\n        });\n      }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */;\n    _proto.onreconnect = function onreconnect() {\n      var attempt = this.backoff.attempts;\n      this._reconnecting = false;\n      this.backoff.reset();\n      this.emitReserved(\"reconnect\", attempt);\n    };\n    return Manager;\n  }(Emitter);\n\n  var debug = debugModule(\"socket.io-client\"); // debug()\n  /**\n   * Managers cache.\n   */\n  var cache = {};\n  function lookup(uri, opts) {\n    if (_typeof(uri) === \"object\") {\n      opts = uri;\n      uri = undefined;\n    }\n    opts = opts || {};\n    var parsed = url(uri, opts.path || \"/socket.io\");\n    var source = parsed.source;\n    var id = parsed.id;\n    var path = parsed.path;\n    var sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    var newConnection = opts.forceNew || opts[\"force new connection\"] || false === opts.multiplex || sameNamespace;\n    var io;\n    if (newConnection) {\n      debug(\"ignoring socket cache for %s\", source);\n      io = new Manager(source, opts);\n    } else {\n      if (!cache[id]) {\n        debug(\"new io instance for %s\", source);\n        cache[id] = new Manager(source, opts);\n      }\n      io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n      opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n  }\n  // so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n  // namespace (e.g. `io.connect(...)`), for backward compatibility\n  _extends(lookup, {\n    Manager: Manager,\n    Socket: Socket,\n    io: lookup,\n    connect: lookup\n  });\n\n  return lookup;\n\n}));\n//# sourceMappingURL=socket.io.js.map\n\n})(jQuery);"],"names":["$","factory","define","amd","module","exports","require","jQuery","extend","fn","validate","options","this","length","debug","window","console","warn","validator","data","attr","settings","onsubmit","on","event","submitButton","currentTarget","hasClass","cancelSubmit","undefined","preventDefault","handle","hidden","result","submitHandler","formSubmitted","name","val","appendTo","currentForm","call","remove","form","pendingRequest","focusInvalid","valid","errorList","is","each","element","concat","rules","command","argument","isContentEditable","staticRules","existingRules","param","filtered","closest","normalizeRule","messages","split","index","method","normalizeRules","classRules","attributeRules","dataRules","required","remote","trim","str","replace","expr","pseudos","blank","a","filled","unchecked","prop","defaults","init","format","source","params","arguments","args","makeArray","unshift","apply","constructor","Array","slice","i","n","RegExp","groups","errorClass","pendingClass","validClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignore","ignoreTitle","onfocusin","lastActive","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","excludedKeys","which","elementValue","inArray","keyCode","invalid","onclick","parentNode","highlight","type","findByName","addClass","removeClass","setDefaults","email","url","date","dateISO","number","digits","equalTo","maxlength","minlength","rangelength","range","max","min","step","autoCreateRanges","prototype","labelContainer","errorContext","containers","add","valueCache","pending","reset","key","value","delegate","eventType","invalidHandler","checkForm","errorMap","triggerHandler","showErrors","prepareForm","elements","currentElements","check","cleanElement","clean","checkElement","validationTargetFor","v","rs","group","prepareElement","testgroup","push","numberOfInvalids","toHide","errors","map","message","successList","grep","defaultShowErrors","resetForm","hideErrors","removeData","removeAttr","resetElements","objectLength","obj","count","not","text","addWrapper","hide","size","findLastActive","filter","trigger","e","rulesCache","find","error","selector","join","resetInternals","toShow","$element","idx","validity","badInput","substr","lastIndexOf","rulesCount","dependencyMismatch","rule","normalizer","parameters","methods","formatAndAdd","log","id","TypeError","customDataMessage","charAt","toUpperCase","substring","toLowerCase","customMessage","m","String","findDefined","defaultMessage","title","theregex","test","toToggle","wrapper","parent","showLabel","success","validElements","show","invalidElements","place","errorID","elementID","idOrName","describedBy","html","wrap","append","errorPlacement","insertAfter","parents","escapeCssMeta","match","describer","string","getLength","nodeName","depend","dependTypes","boolean","function","startRequest","stopRequest","previousValue","old","destroy","off","classRuleSettings","creditcard","addClassRules","className","classes","normalizeAttributeRule","Number","isNaN","getAttribute","depends","keepRule","parameter","parts","isArray","transformed","addMethod","called","Date","toString","errorMessage","supportedTypes","re","notSupported","decimalPlaces","num","toInt","Math","round","pow","decimals","Error","target","previous","optionDataString","originalMessage","ajax","mode","port","dataType","context","response","pendingRequests","ajaxPrefilter","_","xhr","abort","ajaxSettings","stripHtml","valueStripped","regex","checksum","tokens","parseInt","typeParam","optionalValue","file","files","account","sum","len","pos","factor","digit","bankaccountNL","giroaccountNL","cifRegEx","letter","control","all_sum","even_sum","odd_sum","control_digit","control_letter","isOdd","dsc","firstChar","firstCN","secondCN","j","tamanho","numeros","digitos","soma","resultado","il","checkResult","cn","nCheck","nDigit","bEven","cDigit","validTypes","mastercard","visa","amex","dinersclub","enroute","discover","jcb","unknown","all","isParamString","symbol","soft","adata","gg","mm","aaaa","xdata","UTC","getUTCFullYear","getUTCMonth","getUTCDate","iban","ibancheckdigits","leadingZeroes","cRest","cOperator","countrycode","ibancheck","cChar","bbanpattern","bbancountrypatterns","ibanregexp","p","minimalIBANlength","AL","AD","AT","AZ","BE","BH","BA","BR","BG","CR","HR","CY","CZ","DK","DO","EE","FO","FI","FR","GE","DE","GI","GR","GL","GT","HU","IS","IE","IL","IT","KZ","KW","LV","LB","LI","LT","LU","MK","MT","MR","MU","MC","MD","ME","NL","NO","PK","PS","PL","PT","RO","SM","SA","RS","SK","SI","ES","SE","CH","TN","TR","AE","GB","VG","indexOf","totalSize","phone_number","ruPhone_number","nieRegEx","validChars","arrSteps","intSum","int2","intControlNr","dv","multiplier","regexp","cep_value","$fields","$fieldsFirst","eq","isValid","numberFilled","isDefault","caseSensitive","includeTerritories","includeMilitary","LL","VL","FL","d","f","cd","cdv","$w","visible","partial","direction","container","$t","isContained","$c","wPosition","position","t","get","vpWidth","outerWidth","vpHeight","outerHeight","clientSize","offsetWidth","offsetHeight","getBoundingClientRect","rec","tViz","top","bViz","bottom","lViz","left","rViz","right","vVisible","hVisible","viewTop","viewBottom","viewLeft","scrollLeft","viewRight","_top","_bottom","height","_left","_right","width","compareTop","compareBottom","compareLeft","compareRight","global","globalThis","self","bootstrap","elementMap","Map","Data","set","instance","has","instanceMap","from","keys","delete","MAX_UID","MILLISECONDS_MULTIPLIER","TRANSITION_END","parseSelector","CSS","escape","toType","object","Object","getUID","prefix","floor","random","document","getElementById","getTransitionDurationFromElement","let","transitionDuration","transitionDelay","getComputedStyle","floatTransitionDuration","parseFloat","floatTransitionDelay","triggerTransitionEnd","dispatchEvent","Event","isElement$1","jquery","nodeType","getElement","querySelector","isVisible","getClientRects","elementIsVisible","getPropertyValue","closedDetails","summary","isDisabled","Node","ELEMENT_NODE","classList","contains","disabled","hasAttribute","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","noop","reflow","getjQuery","body","DOMContentLoadedCallbacks","onDOMContentLoaded","callback","readyState","addEventListener","isRTL","dir","defineJQueryPlugin","plugin","NAME","JQUERY_NO_CONFLICT","jQueryInterface","Constructor","noConflict","execute","possibleCallback","defaultValue","executeAfterTransition","transitionElement","waitForTransition","durationPadding","emulatedDuration","handler","removeEventListener","setTimeout","getNextActiveElement","list","activeElement","shouldGetNext","isCycleAllowed","listLength","namespaceRegex","stripNameRegex","stripUidRegex","eventRegistry","uidEvent","customEvents","mouseenter","mouseleave","nativeEvents","Set","makeEventUid","uid","getElementEvents","bootstrapHandler","hydrateObj","delegateTarget","oneOff","EventHandler","bootstrapDelegationHandler","domElements","querySelectorAll","domElement","findHandler","events","callable","delegationSelector","values","normalizeParameters","originalTypeEvent","delegationFunction","isDelegated","typeEvent","getTypeEvent","addHandler","wrapFunction","relatedTarget","handlers","previousFunction","removeHandler","Boolean","removeNamespacedHandlers","namespace","storeElementEvent","handlerKey","entries","includes","one","inNamespace","isNamespace","startsWith","elementEvent","keyHandlers","jQueryEvent","bubbles","nativeDispatch","defaultPrevented","isPropagationStopped","isImmediatePropagationStopped","isDefaultPrevented","evt","cancelable","meta","_unused","defineProperty","configurable","normalizeData","JSON","parse","decodeURIComponent","normalizeDataKey","chr","Manipulator","setDataAttribute","setAttribute","removeDataAttribute","removeAttribute","getDataAttributes","attributes","bsKeys","dataset","pureKey","getDataAttribute","Config","Default","DefaultType","_getConfig","config","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","jsonConfig","configTypes","property","expectedTypes","valueType","VERSION","BaseComponent","super","_element","_config","DATA_KEY","dispose","EVENT_KEY","propertyName","getOwnPropertyNames","_queueCallback","isAnimated","getInstance","getOrCreateInstance","eventName","getSelector","hrefAttribute","sel","SelectorEngine","Element","findOne","children","child","matches","ancestor","prev","previousElementSibling","next","nextElementSibling","focusableChildren","focusables","el","getSelectorFromElement","getElementFromSelector","getMultipleElementsFromSelector","enableDismissTrigger","component","clickEvent","tagName","NAME$f","DATA_KEY$a","EVENT_KEY$b","EVENT_CLOSE","EVENT_CLOSED","CLASS_NAME_FADE$5","CLASS_NAME_SHOW$8","Alert","close","closeEvent","_destroyElement","NAME$e","DATA_KEY$9","EVENT_KEY$a","DATA_API_KEY$6","CLASS_NAME_ACTIVE$3","SELECTOR_DATA_TOGGLE$5","EVENT_CLICK_DATA_API$6","Button","toggle","button","NAME$d","EVENT_KEY$9","EVENT_TOUCHSTART","EVENT_TOUCHMOVE","EVENT_TOUCHEND","EVENT_POINTERDOWN","EVENT_POINTERUP","POINTER_TYPE_TOUCH","POINTER_TYPE_PEN","CLASS_NAME_POINTER_EVENT","SWIPE_THRESHOLD","Default$c","endCallback","leftCallback","rightCallback","DefaultType$c","Swipe","isSupported","_deltaX","_supportPointerEvents","PointerEvent","_initEvents","_start","touches","clientX","_eventIsPointerPenTouch","_end","_handleSwipe","_move","absDeltaX","abs","pointerType","navigator","maxTouchPoints","NAME$c","DATA_KEY$8","EVENT_KEY$8","DATA_API_KEY$5","ARROW_LEFT_KEY$1","ARROW_RIGHT_KEY$1","TOUCHEVENT_COMPAT_WAIT","ORDER_NEXT","ORDER_PREV","DIRECTION_LEFT","DIRECTION_RIGHT","EVENT_SLIDE","EVENT_SLID","EVENT_KEYDOWN$1","EVENT_MOUSEENTER$1","EVENT_MOUSELEAVE$1","EVENT_DRAG_START","EVENT_LOAD_DATA_API$3","EVENT_CLICK_DATA_API$5","CLASS_NAME_CAROUSEL","CLASS_NAME_ACTIVE$2","CLASS_NAME_SLIDE","CLASS_NAME_END","CLASS_NAME_START","CLASS_NAME_NEXT","CLASS_NAME_PREV","SELECTOR_ACTIVE","SELECTOR_ITEM","SELECTOR_ACTIVE_ITEM","SELECTOR_ITEM_IMG","SELECTOR_INDICATORS","SELECTOR_DATA_SLIDE","SELECTOR_DATA_RIDE","KEY_TO_DIRECTION","Default$b","interval","keyboard","pause","ride","touch","DefaultType$b","Carousel","_interval","_activeElement","_isSliding","touchTimeout","_swipeHelper","_indicatorsElement","_addEventListeners","cycle","_slide","nextWhenVisible","_clearInterval","_updateInterval","setInterval","_maybeEnableCycle","to","items","_getItems","activeIndex","_getItemIndex","_getActive","order","defaultInterval","_keydown","_addTouchEventListeners","img","endCallBack","clearTimeout","swipeConfig","_directionToOrder","_setActiveIndicatorElement","activeIndicator","newActiveIndicator","elementInterval","isNext","nextElement","nextElementIndex","triggerEvent","_orderToDirection","slideEvent","isCycling","directionalClassName","orderClassName","completeCallBack","_isAnimated","clearInterval","carousel","slideIndex","carousels","NAME$b","DATA_KEY$7","EVENT_KEY$7","DATA_API_KEY$4","EVENT_SHOW$6","EVENT_SHOWN$6","EVENT_HIDE$6","EVENT_HIDDEN$6","EVENT_CLICK_DATA_API$4","CLASS_NAME_SHOW$7","CLASS_NAME_COLLAPSE","CLASS_NAME_COLLAPSING","CLASS_NAME_COLLAPSED","CLASS_NAME_DEEPER_CHILDREN","CLASS_NAME_HORIZONTAL","WIDTH","HEIGHT","SELECTOR_ACTIVES","SELECTOR_DATA_TOGGLE$4","Default$a","DefaultType$a","Collapse","_isTransitioning","_triggerArray","toggleList","elem","filterElement","foundElement","_initializeChildren","_addAriaAndCollapsedClass","_isShown","activeChildren","_getFirstLevelChildren","startEvent","activeInstance","dimension","_getDimension","style","complete","capitalizedDimension","scrollSize","selected","triggerArray","isOpen","auto","basePlacements","start","end","clippingParents","viewport","popper","reference","variationPlacements","reduce","acc","placement","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","getNodeName","getWindow","node","ownerDocument","defaultView","isElement","OwnElement","isHTMLElement","HTMLElement","isShadowRoot","applyStyles","_ref","state","forEach","styles","assign","effect$2","_ref2","initialStyles","strategy","margin","arrow","styleProperties","hasOwnProperty","attribute","applyStyles$1","enabled","phase","effect","requires","getBasePlacement","getUAString","uaData","userAgentData","brands","item","brand","version","userAgent","isLayoutViewport","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","visualViewport","addVisualOffsets","x","offsetLeft","y","offsetTop","getLayoutRect","rootNode","isSameNode","host","getComputedStyle$1","isTableElement","getDocumentElement","getParentNode","assignedSlot","getTrueOffsetParent","offsetParent","getContainingBlock","isFirefox","isIE","elementCss","currentNode","css","transform","perspective","contain","willChange","getOffsetParent","getMainAxisFromPlacement","within","min$1","max$1","withinMaxClamp","getFreshSideObject","mergePaddingObject","paddingObject","expandToHashMap","hashMap","toPaddingObject","padding","rects","_state$modifiersData$","arrowElement","popperOffsets","modifiersData","basePlacement","axis","isVertical","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientHeight","clientWidth","centerToReference","center","offset","axisProp","centerOffset","effect$1","_options$element","arrow$1","requiresIfExists","getVariation","unsetSides","roundOffsetsByDPR","win","dpr","devicePixelRatio","mapToStyles","_Object$assign2","popperRect","variation","offsets","gpuAcceleration","adaptive","roundOffsets","isFixed","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","heightProp","widthProp","offsetY","offsetX","commonStyles","_ref4","_Object$assign","computeStyles","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","data-popper-placement","computeStyles$1","passive","_options$scroll","scroll","_options$resize","resize","scrollParents","scrollParent","update","eventListeners","hash$1","getOppositePlacement","matched","hash","getOppositeVariationPlacement","getWindowScroll","pageXOffset","scrollTop","pageYOffset","getWindowScrollBarX","getViewportRect","layoutViewport","getDocumentRect","_element$ownerDocumen","winScroll","scrollWidth","scrollHeight","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getScrollParent","listScrollParents","isBody","updatedList","rectToClientRect","rect","getInnerBoundingClientRect","clientTop","clientLeft","getClientRectFromMixedType","clippingParent","getClippingParents","canEscapeClipping","clipperElement","getClippingRect","boundary","rootBoundary","mainClippingParents","firstClippingParent","clippingRect","accRect","computeOffsets","commonX","commonY","mainAxis","detectOverflow","_options","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","altContext","clippingClientRect","contextElement","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","computeAutoPlacement","flipVariations","_options$allowedAutoP","allowedAutoPlacements","placements$1","allowedPlacements","overflows","sort","b","getExpandedFallbackPlacements","oppositePlacement","flip","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","preferredPlacement","isBasePlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","mainVariationSide","altVariationSide","checks","every","numberOfChecks","_loop","_i","fittingPlacement","_ret","flip$1","getSideOffsets","preventedOffsets","isAnySideFullyClipped","some","side","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","data-popper-reference-hidden","data-popper-escaped","hide$1","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","offset$1","popperOffsets$1","getAltAxis","_options$tether","tether","_options$tetherOffset","tetherOffset","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_len","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","preventOverflow$1","getHTMLElementScroll","getNodeScroll","isElementScaled","getCompositeRect","elementOrVirtualElement","isOffsetParentAnElement","offsetParentIsScaled","modifiers","visited","modifier","dep","depModifier","orderModifiers","orderedModifiers","debounce","Promise","resolve","then","mergeByName","merged","current","existing","DEFAULT_OPTIONS","areValidElements","_key","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","createPopper","effectCleanupFns","isDestroyed","setOptions","setOptionsAction","cleanupModifierEffects","runModifierEffects","forceUpdate","_state$elements","_state$orderedModifie","_state$orderedModifie2","onFirstUpdate","_ref$options","cleanupFn","noopFn","createPopper$2","defaultModifiers$1","createPopper$1","Popper","freeze","__proto__","createPopperBase","createPopperLite","Symbol","toStringTag","NAME$a","DATA_KEY$6","EVENT_KEY$6","DATA_API_KEY$3","ESCAPE_KEY$2","TAB_KEY$1","ARROW_UP_KEY$1","ARROW_DOWN_KEY$1","RIGHT_MOUSE_BUTTON","EVENT_HIDE$5","EVENT_HIDDEN$5","EVENT_SHOW$5","EVENT_SHOWN$5","EVENT_CLICK_DATA_API$3","EVENT_KEYDOWN_DATA_API","EVENT_KEYUP_DATA_API","CLASS_NAME_SHOW$6","CLASS_NAME_DROPUP","CLASS_NAME_DROPEND","CLASS_NAME_DROPSTART","CLASS_NAME_DROPUP_CENTER","CLASS_NAME_DROPDOWN_CENTER","SELECTOR_DATA_TOGGLE$3","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_MENU","SELECTOR_NAVBAR","SELECTOR_NAVBAR_NAV","SELECTOR_VISIBLE_ITEMS","PLACEMENT_TOP","PLACEMENT_TOPEND","PLACEMENT_BOTTOM","PLACEMENT_BOTTOMEND","PLACEMENT_RIGHT","PLACEMENT_LEFT","PLACEMENT_TOPCENTER","PLACEMENT_BOTTOMCENTER","Default$9","autoClose","display","popperConfig","DefaultType$9","Dropdown","_popper","_parent","_menu","_inNavbar","_detectNavbar","showEvent","_createPopper","focus","_completeHide","hideEvent","referenceElement","_getPopperConfig","_getPlacement","parentDropdown","isEnd","_getOffset","popperData","defaultBsPopperConfig","_selectMenuItem","clearMenus","openToggles","composedPath","isMenuTarget","dataApiKeydownHandler","isInput","isEscapeEvent","isUpOrDownEvent","getToggleButton","stopPropagation","NAME$9","CLASS_NAME_FADE$4","CLASS_NAME_SHOW$5","EVENT_MOUSEDOWN","Default$8","clickCallback","rootElement","DefaultType$8","Backdrop","_isAppended","_append","_getElement","_emulateAnimation","backdrop","createElement","NAME$8","DATA_KEY$5","EVENT_KEY$5","EVENT_FOCUSIN$2","EVENT_KEYDOWN_TAB","TAB_KEY","TAB_NAV_FORWARD","TAB_NAV_BACKWARD","Default$7","autofocus","trapElement","DefaultType$7","FocusTrap","_isActive","_lastTabNavDirection","activate","_handleFocusin","_handleKeydown","deactivate","shiftKey","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","PROPERTY_PADDING","PROPERTY_MARGIN","ScrollBarHelper","getWidth","documentWidth","innerWidth","_disableOverFlow","_setElementAttributes","calculatedValue","_resetElementAttributes","isOverflowing","_saveInitialAttribute","styleProperty","scrollbarWidth","manipulationCallBack","setProperty","_applyManipulationCallback","actualValue","removeProperty","callBack","NAME$7","DATA_KEY$4","EVENT_KEY$4","DATA_API_KEY$2","ESCAPE_KEY$1","EVENT_HIDE$4","EVENT_HIDE_PREVENTED$1","EVENT_HIDDEN$4","EVENT_SHOW$4","EVENT_SHOWN$4","EVENT_RESIZE$1","EVENT_CLICK_DISMISS","EVENT_MOUSEDOWN_DISMISS","EVENT_KEYDOWN_DISMISS$1","EVENT_CLICK_DATA_API$2","CLASS_NAME_OPEN","CLASS_NAME_FADE$3","CLASS_NAME_SHOW$4","CLASS_NAME_STATIC","OPEN_SELECTOR$1","SELECTOR_DIALOG","SELECTOR_MODAL_BODY","SELECTOR_DATA_TOGGLE$2","Default$6","DefaultType$6","Modal","_dialog","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_scrollBar","_adjustDialog","_showElement","_hideModal","handleUpdate","modalBody","transitionComplete","_triggerBackdropTransition","event2","_resetAdjustments","isModalOverflowing","initialOverflowY","isBodyOverflowing","paddingLeft","paddingRight","alreadyOpen","NAME$6","DATA_KEY$3","EVENT_KEY$3","DATA_API_KEY$1","EVENT_LOAD_DATA_API$2","ESCAPE_KEY","CLASS_NAME_SHOW$3","CLASS_NAME_SHOWING$1","CLASS_NAME_HIDING","CLASS_NAME_BACKDROP","OPEN_SELECTOR","EVENT_SHOW$3","EVENT_SHOWN$3","EVENT_HIDE$3","EVENT_HIDE_PREVENTED","EVENT_HIDDEN$3","EVENT_RESIZE","EVENT_CLICK_DATA_API$1","EVENT_KEYDOWN_DISMISS","SELECTOR_DATA_TOGGLE$1","Default$5","DefaultType$5","Offcanvas","blur","completeCallback","ARIA_ATTRIBUTE_PATTERN","DefaultAllowlist","*","area","br","col","code","dd","div","dl","dt","em","hr","h1","h2","h3","h4","h5","h6","li","ol","pre","s","small","span","sub","sup","strong","u","ul","uriAttributes","SAFE_URL_PATTERN","allowedAttribute","allowedAttributeList","attributeName","nodeValue","attributeRegex","sanitizeHtml","unsafeHtml","allowList","sanitizeFunction","domParser","DOMParser","createdDocument","parseFromString","elementName","attributeList","allowedAttributes","innerHTML","NAME$5","Default$4","content","extraClass","sanitize","sanitizeFn","template","DefaultType$4","DefaultContentType","entry","TemplateFactory","getContent","_resolvePossibleFunction","hasContent","changeContent","_checkContent","toHtml","templateWrapper","_maybeSanitize","_setContent","arg","templateElement","_putElementInTemplate","textContent","NAME$4","DISALLOWED_ATTRIBUTES","CLASS_NAME_FADE$2","CLASS_NAME_MODAL","CLASS_NAME_SHOW$2","SELECTOR_TOOLTIP_INNER","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","TRIGGER_CLICK","TRIGGER_MANUAL","EVENT_HIDE$2","EVENT_HIDDEN$2","EVENT_SHOW$2","EVENT_SHOWN$2","EVENT_INSERTED","EVENT_CLICK$1","EVENT_FOCUSIN$1","EVENT_FOCUSOUT$1","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","Default$3","animation","customClass","delay","DefaultType$3","Tooltip","_isEnabled","_timeout","_isHovered","_activeTrigger","_templateFactory","_newContent","tip","_setListeners","_fixTitle","enable","disable","toggleEnabled","_leave","_enter","_hideModalHandler","_disposePopper","_isWithContent","shadowRoot","isInTheDom","_getTipElement","_isWithActiveTrigger","_getTitle","_createTipElement","_getContentForTemplate","_getTemplateFactory","tipId","setContent","_initializeOnDelegatedTarget","_getDelegateConfig","attachment","triggers","eventIn","eventOut","_setTimeout","timeout","dataAttributes","dataAttribute","NAME$3","SELECTOR_TITLE","SELECTOR_CONTENT","Default$2","DefaultType$2","Popover","_getContent","NAME$2","DATA_KEY$2","EVENT_KEY$2","DATA_API_KEY","EVENT_ACTIVATE","EVENT_CLICK","EVENT_LOAD_DATA_API$1","CLASS_NAME_DROPDOWN_ITEM","CLASS_NAME_ACTIVE$1","SELECTOR_DATA_SPY","SELECTOR_TARGET_LINKS","SELECTOR_NAV_LIST_GROUP","SELECTOR_NAV_LINKS","SELECTOR_NAV_ITEMS","SELECTOR_LIST_ITEMS","SELECTOR_LINK_ITEMS","SELECTOR_DROPDOWN","SELECTOR_DROPDOWN_TOGGLE$1","Default$1","rootMargin","smoothScroll","threshold","DefaultType$1","ScrollSpy","_targetLinks","_observableSections","_rootElement","_activeTarget","_observer","_previousScrollData","visibleEntryTop","parentScrollTop","refresh","_initializeTargetsAndObservables","_maybeEnableSmoothScroll","disconnect","_getNewObserver","section","observe","observableSection","scrollTo","behavior","IntersectionObserver","_observerCallback","targetElement","_process","userScrollsDown","isIntersecting","_clearActiveClass","entryIsLowerThanPrevious","targetLinks","anchor","decodeURI","_activateParents","listGroup","activeNodes","spy","NAME$1","DATA_KEY$1","EVENT_KEY$1","EVENT_HIDE$1","EVENT_HIDDEN$1","EVENT_SHOW$1","EVENT_SHOWN$1","EVENT_CLICK_DATA_API","EVENT_KEYDOWN","EVENT_LOAD_DATA_API","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","HOME_KEY","END_KEY","CLASS_NAME_ACTIVE","CLASS_NAME_FADE$1","CLASS_NAME_SHOW$1","CLASS_DROPDOWN","SELECTOR_DROPDOWN_TOGGLE","SELECTOR_DROPDOWN_MENU","NOT_SELECTOR_DROPDOWN_TOGGLE","SELECTOR_TAB_PANEL","SELECTOR_OUTER","SELECTOR_INNER","SELECTOR_DATA_TOGGLE","SELECTOR_INNER_ELEM","SELECTOR_DATA_TOGGLE_ACTIVE","Tab","_setInitialAttributes","_getChildren","innerElem","_elemIsActive","active","_getActiveElem","_deactivate","_activate","relatedElem","_toggleDropDown","nextActiveElement","preventScroll","_setAttributeIfNotExists","_setInitialAttributesOnChild","_getInnerElement","isActive","outerElem","_getOuterElement","_setInitialAttributesOnTargetPanel","open","EVENT_MOUSEOVER","EVENT_MOUSEOUT","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","CLASS_NAME_FADE","CLASS_NAME_HIDE","CLASS_NAME_SHOW","CLASS_NAME_SHOWING","autohide","Toast","_hasMouseInteraction","_hasKeyboardInteraction","_clearTimeout","_maybeScheduleHide","isShown","_onInteraction","isInteracting","index_umd","_typeof","iterator","windowIsDefined","err","Slider","NAMESPACE_MAIN","NAMESPACE_ALTERNATE","defineBridget","addOptionMethod","PluginClass","option","opts","isPlainObject","logError","bridge","isFunction","returnValue","objects","_init","bridget","autoRegisterNamespace","ErrorMsgs","formatInvalidInputErrorMsg","input","callingContextNotSliderInstance","SliderScale","linear","getValue","toValue","percentage","rawValue","shouldAdjustWithBase","ticks_positions","minv","maxv","minp","maxp","ticks","partialPercentage","adjustment","toPercentage","logarithmic","exp","createNewSlider","_state","inDrag","over","tickIndex","ticksCallbackMap","handleCallbackMap","optionTypes","isMinSet","isMaxSet","optName","getDataAttrib","ticksAreValid","lock_to_ticks","rtl","computedStyle","orientation","tooltip_position","dataName","dataValString","origWidth","updateSlider","sliderTrackSelection","sliderTrackLow","sliderTrackHigh","sliderMinHandle","sliderMaxHandle","sliderElem","sliderTrack","appendChild","rangeHighlightElements","rangeHighlightsOpts","rangeHighlights","rangeHighlightElement","customClassString","class","isLabelledbyArray","labelledby","ticksContainer","tick","ticks_tooltip","tickListenerReference","_addTickListener","enterCallback","addMouseEnter","leaveCallback","addMouseLeave","mouseEnter","mouseLeave","tickLabels","ticks_labels","tickLabelContainer","label","noTickPositionsSpecified","tickLabelsIndex","reversed","createAndAppendTooltipSubElements","tooltipElem","inner","sliderTooltip","sliderTooltipMin","sliderTooltipMax","insertBefore","$sliderElem","eventToCallbackMap","touchCapable","DocumentTouch","touchX","touchY","tooltip","tooltipInner","tooltip_min","tooltipInner_min","tooltip_max","tooltipInner_max","scale","_removeClass","_removeProperty","trackLow","trackSelection","trackHigh","handle1","handle2","_addClass","stylePos","mousePos","sizePos","_setTooltipPosition","selection","availableHandleModifiers","isValidHandleType","setValue","handle1Keydown","bind","handle2Keydown","mousedown","_mousedown","touchstart","_touchstart","touchmove","_touchmove","_resize","_showTooltip","_alwaysShowTooltip","showTooltip","hideTooltip","_hideTooltip","callbackHandle","precision","tooltip_split","formatter","natural_arrow_keys","ticks_snap_bounds","triggerSlideEvent","triggerChangeEvent","oldValue","_validateInputValue","applyPrecision","_applyPrecision","_getClosestTickIndex","_setTickIndex","_toPercentage","_layout","newValue","_setDataVal","_trigger","hasChanged","_removeSliderEventHandlers","removeChild","_cleanUpEventCallbacksMap","_unbindJQueryEventHandlers","isEnabled","_bindNonQueryEventHandler","_unbindNonQueryEventHandler","currentValue","useCurrentValue","relayout","_removeTooltipListener","getElementsByClassName","callbacks","splice","eventNames","_setToolTipOnMouseOver","tempState","formattedTooltipVal","positionPercentages","getPositionPercentages","_setText","_copyState","dragged","keyCtrl","enter","per","leave","formattedValue","startPercent","endPercent","sp","currentRange","_createHighlightRange","styleSize","styleMargin","labelSize","extraMargin","childNodes","marginBottom","innerTooltipMinText","innerTooltipMaxText","offset_min","offset_max","_isHighlightRange","ev","_getPercentage","diff1","diff2","_adjustPercentageForRangeSliders","mousemove","mouseup","_mousemove","_mouseup","_calculateValue","_triggerFocusOnHandle","handleIdx","isHorizontal","isReversed","val1","val2","_pauseEvent","cancelBubble","changedTouches","_getNumDigitsAfterDecimalPlace","percentageWithAdjustedPrecision","_applyToFixedAndParseFloat","_setValues","comp","_toValue","snapToClosestTick","_snapToClosestTick","Infinity","diff","toFixedInput","truncatedNum","toFixed","eventPosition","sliderOffset","distanceToSlide","_validateArray","callbackFnArray","callbackFn","_triggerJQueryEvent","eventData","innerText","classString","newClasses","classTag","ifClassExists","_offsetLeft","_offsetRight","_offsetTop","_css","elementRef","styleName","tooltips","tooltipPos","oppositeSide","difference","slider","that","jpeg","b64","atob","segments","splitIntoSegments","new_data","btoa","insert","exif","exifStr","pack","mergeSegments","load","input_data","exifDict","exif_dict","0th","Exif","GPS","Interop","1st","thumbnail","exifReader","ExifReader","tiftag","endian_mark","pointer","unpack","get_ifd","first_ifd_pointer","thumb","dump","exif_dict_original","TIFF_HEADER_LENGTH","copy","header","exif_is","gps_is","interop_is","first_is","zeroth_ifd","exif_ifd","interop_ifd","gps_ifd","first_ifd","ExifIFD","InteroperabilityTag","ImageIFD","ExifTag","GPSTag","zeroth_set","_dict_to_bytes","zeroth_length","exif_set","exif_bytes","exif_length","gps_set","gps_bytes","gps_length","interop_set","interop_bytes","interop_length","first_set","first_bytes","_get_thumbnail","exif_pointer","gps_pointer","interop_pointer","pointer_value","pointer_str","key_str","type_str","TYPES","length_str","thumbnail_pointer","thumbnail_p_bytes","thumbnail_length_bytes","zeroth_bytes","stringify","_pack_byte","array","nStr","_pack_short","_pack_long","_value_to_bytes","raw_value","value_type","four_bytes_over","value_str","new_value","den","ifd_dict","ifd","ifd_offset","tag_count","entry_header","entries_length","TAGS","app1","getExifSeg","ifd_name","tag","value_num","v_set","convert_value","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","keyStr","charCodeAt","fromCharCode","getImageSize","imageArray","slice2Segments","seg","SOF","mark","littleEndian","packed","c","valStr","reverse","l","markPointer","unpacked","strPointer","sliced","ch","head","endPoint","toHex","hexStr","h","hex","Byte","Ascii","Short","Long","Rational","Undefined","SLong","SRational","Image","11","254","255","256","257","258","259","262","263","264","265","266","269","270","271","272","273","274","277","278","279","282","283","284","290","291","292","293","296","301","305","306","315","316","317","318","319","320","321","322","323","324","325","330","332","333","334","336","337","338","339","340","341","342","343","344","345","346","347","351","512","513","514","515","517","518","519","520","521","529","530","531","532","700","18246","18249","32781","33421","33422","33423","33432","33434","34377","34665","34675","34853","34857","34858","34859","37387","37388","37389","37390","37391","37392","37393","37394","37395","37397","37398","37399","40091","40092","40093","40094","40095","50341","50706","50707","50708","50709","50710","50711","50712","50713","50714","50715","50716","50717","50718","50719","50720","50721","50722","50723","50724","50725","50726","50727","50728","50729","50730","50731","50732","50733","50734","50735","50736","50737","50738","50739","50740","50741","50778","50779","50780","50781","50827","50828","50829","50830","50831","50832","50833","50834","50879","50931","50932","50934","50935","50936","50937","50938","50939","50940","50941","50942","50964","50965","50966","50967","50968","50969","50970","50971","50972","50973","50974","50975","50981","50982","51008","51009","51022","33437","34850","34852","34855","34856","34864","34865","34866","34867","34868","34869","36864","36867","36868","37121","37122","37377","37378","37379","37380","37381","37382","37383","37384","37385","37386","37396","37500","37510","37520","37521","37522","40960","40961","40962","40963","40964","40965","41483","41484","41486","41487","41488","41492","41493","41495","41728","41729","41730","41985","41986","41987","41988","41989","41990","41991","41992","41993","41994","41995","41996","42016","42032","42033","42034","42035","42036","42037","42240","0","1","2","3","4","5","6","7","8","9","10","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","ProcessingSoftware","NewSubfileType","SubfileType","ImageWidth","ImageLength","BitsPerSample","Compression","PhotometricInterpretation","Threshholding","CellWidth","CellLength","FillOrder","DocumentName","ImageDescription","Make","Model","StripOffsets","Orientation","SamplesPerPixel","RowsPerStrip","StripByteCounts","XResolution","YResolution","PlanarConfiguration","GrayResponseUnit","GrayResponseCurve","T4Options","T6Options","ResolutionUnit","TransferFunction","Software","DateTime","Artist","HostComputer","Predictor","WhitePoint","PrimaryChromaticities","ColorMap","HalftoneHints","TileWidth","TileLength","TileOffsets","TileByteCounts","SubIFDs","InkSet","InkNames","NumberOfInks","DotRange","TargetPrinter","ExtraSamples","SampleFormat","SMinSampleValue","SMaxSampleValue","TransferRange","ClipPath","XClipPathUnits","YClipPathUnits","Indexed","JPEGTables","OPIProxy","JPEGProc","JPEGInterchangeFormat","JPEGInterchangeFormatLength","JPEGRestartInterval","JPEGLosslessPredictors","JPEGPointTransforms","JPEGQTables","JPEGDCTables","JPEGACTables","YCbCrCoefficients","YCbCrSubSampling","YCbCrPositioning","ReferenceBlackWhite","XMLPacket","Rating","RatingPercent","ImageID","CFARepeatPatternDim","CFAPattern","BatteryLevel","Copyright","ExposureTime","ImageResources","InterColorProfile","Interlace","TimeZoneOffset","SelfTimerMode","FlashEnergy","SpatialFrequencyResponse","Noise","FocalPlaneXResolution","FocalPlaneYResolution","FocalPlaneResolutionUnit","ImageNumber","SecurityClassification","ImageHistory","ExposureIndex","TIFFEPStandardID","SensingMethod","XPTitle","XPComment","XPAuthor","XPKeywords","XPSubject","PrintImageMatching","DNGVersion","DNGBackwardVersion","UniqueCameraModel","LocalizedCameraModel","CFAPlaneColor","CFALayout","LinearizationTable","BlackLevelRepeatDim","BlackLevel","BlackLevelDeltaH","BlackLevelDeltaV","WhiteLevel","DefaultScale","DefaultCropOrigin","DefaultCropSize","ColorMatrix1","ColorMatrix2","CameraCalibration1","CameraCalibration2","ReductionMatrix1","ReductionMatrix2","AnalogBalance","AsShotNeutral","AsShotWhiteXY","BaselineExposure","BaselineNoise","BaselineSharpness","BayerGreenSplit","LinearResponseLimit","CameraSerialNumber","LensInfo","ChromaBlurRadius","AntiAliasStrength","ShadowScale","DNGPrivateData","MakerNoteSafety","CalibrationIlluminant1","CalibrationIlluminant2","BestQualityScale","RawDataUniqueID","OriginalRawFileName","OriginalRawFileData","ActiveArea","MaskedAreas","AsShotICCProfile","AsShotPreProfileMatrix","CurrentICCProfile","CurrentPreProfileMatrix","ColorimetricReference","CameraCalibrationSignature","ProfileCalibrationSignature","AsShotProfileName","NoiseReductionApplied","ProfileName","ProfileHueSatMapDims","ProfileHueSatMapData1","ProfileHueSatMapData2","ProfileToneCurve","ProfileEmbedPolicy","ProfileCopyright","ForwardMatrix1","ForwardMatrix2","PreviewApplicationName","PreviewApplicationVersion","PreviewSettingsName","PreviewSettingsDigest","PreviewColorSpace","PreviewDateTime","RawImageDigest","OriginalRawFileDigest","SubTileBlockSize","RowInterleaveFactor","ProfileLookTableDims","ProfileLookTableData","OpcodeList1","OpcodeList2","OpcodeList3","NoiseProfile","FNumber","ExposureProgram","SpectralSensitivity","ISOSpeedRatings","OECF","SensitivityType","StandardOutputSensitivity","RecommendedExposureIndex","ISOSpeed","ISOSpeedLatitudeyyy","ISOSpeedLatitudezzz","ExifVersion","DateTimeOriginal","DateTimeDigitized","ComponentsConfiguration","CompressedBitsPerPixel","ShutterSpeedValue","ApertureValue","BrightnessValue","ExposureBiasValue","MaxApertureValue","SubjectDistance","MeteringMode","LightSource","Flash","FocalLength","SubjectArea","MakerNote","UserComment","SubSecTime","SubSecTimeOriginal","SubSecTimeDigitized","FlashpixVersion","ColorSpace","PixelXDimension","PixelYDimension","RelatedSoundFile","SubjectLocation","FileSource","SceneType","CustomRendered","ExposureMode","WhiteBalance","DigitalZoomRatio","FocalLengthIn35mmFilm","SceneCaptureType","GainControl","Contrast","Saturation","Sharpness","DeviceSettingDescription","SubjectDistanceRange","ImageUniqueID","CameraOwnerName","BodySerialNumber","LensSpecification","LensMake","LensModel","LensSerialNumber","Gamma","GPSIFD","GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError","InteropIFD","InteroperabilityIndex","GPSHelper","degToDmsRational","degFloat","minFloat","secFloat","deg","sec","piexif","fileinputLocales","fileinputThemes","setTokens","replacePairs","flatMap","lambda","$h","FileInput","FRAMES","SORT_CSS","INIT_FLAG","OBJECT_PARAMS","DEFAULT_PREVIEW","MODAL_ID","MODAL_EVENTS","logMessages","ajaxError","badDroppedFiles","badExifParser","badInputType","exifWarning","invalidChunkSize","invalidThumb","noResumableSupport","noUploadUrl","retryStatus","chunkQueueError","resumableMaxRetriesReached","resumableRetryError","resumableAborting","objUrl","URL","webkitURL","now","getTime","getArray","arr","getFileRelativePath","newPath","relativePath","webkitRelativePath","getFileName","getFileId","generateFileId","encodeURIComponent","getFrameSelector","getZoomSelector","getFrameElement","getZoomElement","getElapsed","seconds","delta","out","structure","year","month","week","day","hour","minute","second","getObjectKeys","func","inDebounce","stopEvent","fileName","createObjectURL","revokeObjectURL","compare","exact","ver","status","appName","getElementsByTagName","canOrientImage","$el","$img","flag","canAssignFilesToInput","getDragDropFolders","folders","webkitGetAsEntry","isDirectory","initModal","$modal","$body","isEmpty","ifSet","needle","haystack","def","cleanArray","spliceArray","reverseOrder","newArr","getNum","hasFileAPISupport","File","FileReader","hasDragDropSupport","draggable","ondragstart","ondrop","hasFileUploadSupport","FormData","hasBlobSupport","Blob","hasArrayBufferViewSupport","Uint8Array","hasResumableUploadSupport","webkitSlice","mozSlice","dataURI2Blob","dataURI","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","canBlob","byteStr","arrayBuffer","intArray","mimeStr","bb","canProceed","ArrayBuffer","getBlob","arrayBuffer2String","buffer","TextDecoder","decode","char2","char3","isHtml","isSvg","getMimeType","signature","contents","addCss","parseHTML","uniqId","cspBuffer","CSP_ATTRIB","domElementsStyles","stash","htmlString","outerDom","$elem","styleString","itm","setHtml","buf","htmlEncode","undefVal","replaceTags","tags","cleanMemory","$thumb","findFileName","filePath","sepIndex","pop","checkFullScreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","toggleFullScreen","maximize","doc","de","isFullScreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","moveArray","oldIndex","newIndex","k","closeButton","getRotation","setTransform","webkitTransform","getObjectSize","whenAll","resolveValues","deferred","Deferred","failed","remaining","rejectContexts","rejectValues","resolveContexts","updateFunc","contexts","notifyWith","promise","done","fail","resolveWith","$parent","_validate","isPreviewable","isIE9","isIE10","_listen","_cleanup","reader","clearFileStack","fileBatchCompleted","isError","isDuplicateError","isPersistentError","cancelling","paused","lastProgress","_initAjax","_isAborted","tm","taskManager","pool","addPool","TasksPool","getPool","addTask","logic","Task","tp","cancelled","cancelledDeferrer","tasks","run","maxThreads","task","tasksList","tasksDone","enqueue","reject","tasksDeferredList","argv","when","always","notify","shift","cancel","tk","runWithContext","ajaxQueue","ajaxRequests","ajaxAborted","refreshMode","$cont","tmp","maxTotalFileCount","maxFileCount","previewZoomButtonIcons","maxAjaxThreads","resumableUploadOptions","_initFileManager","autoOrientImage","autoOrientImageInitial","duplicateErrors","$form","_initTemplateDefaults","uploadFileAttr","_getLayoutTemplate","progressTemplate","progressClass","progressInfoTemplate","progressInfoClass","progressPauseTemplate","progressPauseClass","progressCompleteTemplate","progressCompleteClass","progressErrorTemplate","progressErrorClass","isClickable","browseOnZoneClick","showPreview","dropZoneEnabled","defaultPreviewContent","isAjaxUpload","uploadUrl","slug","slugCallback","_slugDefault","mainTemplate","showCaption","captionTemplate","previewGenericTemplate","_getPreviewTemplate","imageCanvas","resizeImage","maxImageWidth","maxImageHeight","imageCanvasContext","getContext","$container","_createContainer","_refreshContainer","$dropZone","$progress","$btnUpload","$captionContainer","$caption","$captionLabel","msgPlaceholder","filePlural","fileSingle","origLabel","$captionIcon","$previewContainer","$preview","$previewStatus","$errorContainer","_validateDisabled","msgErrorClass","_resetErrors","previewInitId","_initPreviewCache","_initPreview","_initPreviewActions","_errorsExist","_setFileDropZoneTitle","_initZoom","hideThumbnailContent","uploadStartTime","fileManager","stack","filesProcessed","loadedImages","totalImages","totalFiles","uploadedSize","stats","initStats","started","getUploadStats","loaded","total","fm","elapsed","speeds","bps","bitrate","_getSize","pendingBytes","fileId","exists","getIdList","getTotalSize","getId","nameFmt","_getFileName","sizeFmt","removeFile","move","idFrom","idTo","isPending","isProcessed","clear","clearImages","addImage","removeImage","getImageIdList","getImageCount","_getFileId","getIndex","getThumb","_getThumbs","getThumbIndex","getFile","fmt","getFirstFile","ids","setFile","setProcessed","getProgress","ceil","setProgress","pct","progress","_setUploadData","fd","uploadParamNames","_initResumableUpload","logs","rm","enableResumableUpload","fallback","_log","chunkSize","resumableManager","fileIndex","completed","$btnDelete","chunkCount","getTotalChunks","setAjaxError","jqXHR","textStatus","errorThrown","isTest","responseJSON","showErrorLog","responseText","chunksProcessed","msg","$prog","hasThumb","_setProgress","_setThumbStatus","_initUploadSuccess","_raise","_setPreviewError","msgProgressError","msgResumableUploadRetriesExceeded","maxRetries","_showFileError","processedResumables","getUploadedSize","checkAborted","intervalId","unlock","upload","lock","processUpload","$initThumbs","_initSortable","_clearFileInput","previewCache","initialPreview","initialPreviewConfig","initialPreviewThumbTags","_getExtraData","processDelay","uploadResumable","pushAjax","fnBefore","fnSuccess","fnError","fnComplete","outData","testUrl","fileSize","fileRelativePath","_getOutData","pNames","chunksUploaded","_ajaxSubmit","retry","deferrer","sendAjax","msgs","blob","chunkIndex","chunkSizeStart","fileBlob","retryCount","paramNames","filename","chunk","tMain1","tMain2","tPreview","tFileIcon","tClose","tCaption","tBtnDefault","tBtnLink","tBtnBrowse","tModalMain","tModal","tProgress","tSize","tFooter","tActions","tActionDelete","tActionUpload","tActionDownload","tActionZoom","tActionDrag","tIndicator","tTagBef","tTagBef1","tTagBef2","tTagAft","tGeneric","tHtml","tImage","tText","tOffice","tGdocs","tVideo","tAudio","tFlash","tObject","tPdf","tOther","tStyle","tZoomCache","vDefaultDim","tStats","tModalLabel","renderObject","mime","min-height","_isPdfRendered","pdfRendererTemplate","_encodeURI","pdfRendererUrl","layoutTemplates","main1","main2","preview","fileIcon","caption","modalMain","modal","footer","indicator","actions","actionDelete","actionUpload","actionDownload","actionZoom","actionDrag","btnDefault","btnLink","btnBrowse","zoomCache","previewMarkupTags","tagBefore1","tagBefore2","tagAfter","previewContentTemplates","generic","image","office","gdocs","video","audio","flash","pdf","other","allowedPreviewTypes","previewTemplates","previewSettings","max-width","max-height","previewSettingsSmall","previewZoomSettings","mimeTypeAliases","video/quicktime","fileTypeSettings","vType","vName","fileActionSettings","showRemove","showUpload","showDownload","showZoom","showDrag","removeIcon","removeErrorClass","removeTitle","uploadIcon","uploadClass","uploadTitle","uploadRetryIcon","uploadRetryTitle","downloadIcon","downloadClass","downloadTitle","zoomIcon","zoomClass","zoomTitle","dragIcon","dragClass","dragTitle","dragSettings","indicatorNew","indicatorSuccess","indicatorError","indicatorLoading","indicatorPaused","indicatorNewTitle","indicatorSuccessTitle","indicatorErrorTitle","indicatorLoadingTitle","indicatorPausedTitle","setting","_initPreviewTemplates","tagBef","tagAft","initialPreviewDelimiter","skipNull","chk","ind","$tmp","cat","ftr","fname","ftype","frameClass","asData","initialPreviewAsData","alt","parseTemplate","dat","fclass","fc","_generatePreviewTemplate","zoomData","initialPreviewFileType","frameAttr","unset","rev","reversePreviewOrder","_getMsgSelected","fs","initPreviewShowDel","initialPreviewShowDelete","downloadInitialUrl","initialPreviewDownloadUrl","dUrl","downloadUrl","dFil","initPreviewShowDwl","sDel","sDwl","sZm","sDrg","dis","_renderFileActions","_renderThumbProgress","useLib","usePdfRenderer","_handler","ns","vUrl","encodeUrl","encodeURI","showConsoleLogs","alert","$err","$errList","_errorHandler","showError","_showError","NOT_FOUND_ERR","msgFileNotFound","SECURITY_ERR","msgFileSecured","NOT_READABLE_ERR","msgFileNotReadable","ABORT_ERR","msgFilePreviewAborted","msgFilePreviewError","_addError","$error","errorCloseButton","getFrames","fadeOut","_setValidationError","fade","_showFolderError","msgFoldersNotAllowed","fadeIn","fadeDelay","fId","_noFilesError","minFileCount","msgFilesTooLess","_updateFileDetails","_parseError","operation","errMsg","textPre","errText","msgUploadAborted","showAjaxErrorDetails","msgAjaxError","_parseFileType","types","_getPreviewIcon","ext","previewFileIconSettings","previewFileExtSettings","previewFileIcon","_parseFilePreviewIcon","icn","previewFileIconClass","_listenFullScreen","$btnFull","$btnBord","_maximizeZoomDialog","fullScreenEv","$cap","pastefn","proxy","_change","showBrowse","$btnFile","_browse","daIgnoreAllButTab","_initDragDrop","_submitForm","_uploadClick","screen","innerHeight","_autoFitContent","_initClickable","_refreshPreview","_scanDroppedItems","path","dirReader","readDir","errorHandler","isFile","createReader","readEntries","$zone","_zoneDragEnter","_zoneDragLeave","_zoneDrop","_zoneDragDropInit","originalEvent","dataTransfer","hasFiles","effectAllowed","dropEffect","sourceEvent","Files","processFiles","changeTriggered","$btn","_isFileSelectionValid","_abort","_clearPreview","$thumbs","showUploadedThumbs","_resetUpload","_validateDefaultPreview","$html","Sortable","beginGrab","endGrab","dataIdAttr","forceFallback","onChoose","onStart","onUnchoose","onEnd","onSort","exceedsLast","$item","$first","slideUp","slideDown","previewId","sortable","create","_setPreviewContent","_initPreviewImageOrientations","$zoomImg","_getZoom","setImageOrientation","isInit","cap","initialCaption","_setCaption","_initCaption","_setInitThumbAttr","_getZoomButton","previewZoomButtonClasses","previewZoomButtonTitles","_getModalContent","zoomFrameClass","heading","msgZoomModalHeading","toggleheader","fullscreen","borderless","_listenModalEvent","getParams","$dialog","modalId","_initZoomButtons","$last","thumbs","toArray","$prev","$next","$head","$foot","_resizeZoomDialog","fullScreen","zoomModalHeight","_setZoomContent","$frame","animate","$content","tmplt","$dataEl","$zoomPreview","$btnTogh","clone","_zoomSlideShow","$header","$floatBar","ht","$actions","vId","vPrevKey","vNextKey","_showModal","_zoomPreview","$targFrame","thumbsData","_initZoomButton","_inputFileCount","readFiles","_clearObjects","$srcFrm","$tmpFrm","$tmpEl","before","after","uploadCache","_hideProgress","_resetCanvas","overwriteInitial","canvas","clearRect","_hasInitialPreview","_resetPreview","$div","hasSuc","hasErr","removeFromPreviewOnError","includeProcessed","_clearDefaultPreview","_resetPreviewThumbs","isAjax","customLayoutTags","templates","customPreviewTags","formdata","responseData","filesData","filenames","filescount","getFilesCount","extra","strFiles","msgSelected","msgNoFilesSelected","_getFrame","skipWarning","_getThumbId","uploadExtraData","_initXhr","xhrobj","lengthComputable","_setFileUploadStats","_getStats","progressDelay","_initAjaxSettings","_ajaxSettings","_ajaxDeleteSettings","ajaxDeleteSettings","_mergeAjaxCallback","funcName","srcFunc","mergeAjaxCallbacks","targFunc","mergeAjaxDeleteCallbacks","ajaxTask","uploadUrlThumb","cache","processData","contentType","_mergeArray","arr1","arr2","allFiles","$newCache","isEmptyObject","_resetCaption","hasInitData","$newThumb","_getUploadCacheIndex","_initSuccessThumbs","$remove","_updateInitialPreview","_uploadSingle","isBatch","chkComplete","hasPostData","uploadFailed","updateUploadLog","op","ajaxOperations","uploadThumb","fileObj","triggerReset","errCount","uploadAsync","retryErrorUploads","_setProgressCancelled","pid","msgUploadError","msgAjaxProgressError","_setFileData","preProcess","preProcessUpload","_uploadBatch","setAllUploaded","uploadBatch","errorkeys","uploadFileCount","ctr","_uploadExtraOnly","uploadExtra","_deleteFileIndex","$nFrame","nInd","incomplete","_initFileActions","hasError","_validateMinCount","deleteExtraData","btnRemove","origClass","errClass","resetProgress","deleteUrl","vKey","deleteThumb","extraData","msgDeleteError","_hideFileIcon","_showFileIcon","bytes","sizes","fileSizeGetter","isNumeric","_getFileType","foot","templ","attrs","prevContent","zoomContent","styleAttribs","screenW","typeCss","_renderFileFooter","forcePrevIcon","preferIconicPreview","forceZoomIcon","preferIconicZoomPreview","newCat","zoom","frameCss","fileindex","fileid","sanitizeZoomCache","_addToPreview","prepend","_previewDefault","_setThumbAttr","_previewFile","theFile","fileInfo","fsize","iData","_validateImageOrientation","numFiles","skipRaiseEvent","nFiles","icon","$indicator","msgCancelled","pctLimit","progressUploadThreshold","percent","msgUploadThreshold","msgUploadEnd","_hasFiles","dropZoneTitle","dropZoneClickTitle","dropZoneTitleClass","pendingTime","showUploadStats","msgCalculatingTime","msgPendingTime","time","uploadSpeed","_setResumableProgress","_toggleResumableProgress","pctTot","totUpSize","totSize","totStats","currUplSize","currTotSize","totLoaded","cfg","validateInitialCount","_getFileCount","fileCount","includeInitial","addCount","_getFileNames","keepFile","removeFrame","_refreshUploadButton","_checkDimensions","dim","limit","$imgEl","naturalWidth","naturalHeight","_getExifObj","exifObj","details","invalidImg","invalidZoomImg","$mark","isHidden","zoomOnly","zoomImg","w","r","offsetAngle","atan","origFactor","sqrt","cos","PI","_validateImage","w1","w2","typ","siz","validated","imgData","_validateAllImages","counter","numImgs","minSize","resizeIfSizeMoreThan","_getResizedImage","ratio","maxWidth","maxHeight","isValidImage","chkWidth","chkHeight","throwError","evParams","msgImageResizeError","resizeDefaultImageType","resizePreference","drawImage","toDataURL","resizeQuality","msgImageResizeException","_showProgress","_initBrowse","$tmpZone","$tar","elErrorContainer","msgValidationError","msgNo","msgValidationErrorClass","msgValidationErrorIcon","attribs","_renderMain","theme","readonly","dropCss","showClose","previewClass","dropClass","captionClass","mainClass","_renderButton","browse","btnType","showCancel","showPause","buttonLabelClass","msgUploadBegin","rem","drg","upl","tInd","indicatorTitle","previewThumbTags","showUpl","showDwn","showDel","dFile","btnZoom","btnDrag","btnDelete","btnUpload","btnDownload","otherButtons","otherActionButtons","dataKey","dataUrl","download","drag","focusCaptionOnBrowse","isDragDrop","tfiles","initCount","isSingleUpl","maxCount","maxTotCount","inclAll","flagSingle","mesg","p1","p2","maxCountCheck","msgTotalFilesTooMany","msgFilesTooMany","autoReplace","abortData","abortMessage","_resetFileStack","data-fileindex","cnt","msgFileRequired","_canPreview","allowedTypes","allowedMimes","allowedExts","skipPreview","mimes","allowedPreviewMimeTypes","exts","allowedPreviewExtensions","dTypes","disabledPreviewTypes","dMimes","disabledPreviewMimeTypes","dExts","disabledPreviewExtensions","maxSize","maxFilePreviewSize","expAllExt","expDisExt","addToStack","getFileStack","getFileList","$status","msgLoading","msgProgress","readFile","fileTypes","allowedFileTypes","typLen","fileExt","allowedFileExtensions","strExt","fSizeKB","fnText","fnImage","fnHtml","typ1","typ2","fileExtExpr","previewData","strTypes","canLoad","fileReaderAborted","knownTypes","isImage","txtFlag","processFileLoaded","msgFileTypes","msgInvalidFileName","msgDuplicateFile","maxFileSize","msgSizeTooLarge","minFileSize","msgSizeTooSmall","msgInvalidFileType","msgInvalidFileExtension","extensions","onerror","onload","uint","byte","readImage","newReader","theFileNew","readAsDataURL","onprogress","fact","readAsArrayBuffer","selectMode","resume","msgUploadResume","msgPaused","focusCaptionOnClear","totLen","hasExtraData","msgUploadEmpty","frameId","getExif","cssFilter","$frames","getPreview","fileinput","retvals","lang","language","opt","en","IFRAME_ATTRIBS","ua","webkit","iOS","iOSSafari","browseIcon","browseClass","cancelIcon","cancelClass","pauseIcon","pauseClass","queueDelay","minImageWidth","minImageHeight","progressThumbClass","previewFileType","elCaptionContainer","elCaptionText","elCaptionLabelText","elPreviewContainer","elPreviewImage","elPreviewStatus","textEncoding","isIE11","MSInputMethodContext","documentMode","browseLabel","removeLabel","cancelLabel","cancelTitle","pauseLabel","pauseTitle","uploadLabel","msgImageWidthSmall","msgImageHeightSmall","msgImageWidthLarge","msgImageHeightLarge","ready","$input","fas","daJsEmbed","daTargetDiv","daPreloadImage","daImageToPreLoad","daAutoColorScheme","matchMedia","daDesiredColorScheme","daCurrentColorScheme","daUrlChangeColorScheme","xhrFields","withCredentials","scheme","daReadyFunction","daObserverMode","daUpdateHeight","daConfigureJqueryFuncs","daInitialExtraScripts","daEvalExtraScript","daCustomItems","daGlobalEval","js","datatype","daColor","daWindowWidth","daTheWidth","daAspectRatio","daTheBorders","daSignaturePad","daWaitPage","daInitializeSignature","penColor","defaultImage","daNewCanvas","daResizeCanvas","click","daSaveCanvas","dataURL","daSpinnerTimeout","daShowSpinner","daPost","da_success","da_the_image","da_ajax","cwidth","contentwidth","cheight","otherHeights","daThicknessScalingFactor","SignaturePad","fromDataURL","xOffset","yOffset","minWidth","daSteps","scrollIntoView","hiddenField","submit","isCanvasSupported","daAutocomplete","daWaitForGoogle","waitForPlaces","attempts","maxAttempts","found","google","maps","places","daInitAutocomplete","info","suggestions","async","daInitAutocompleteOld","await","Autocomplete","addListener","daFillInAddressFor","daFillInAddressOld","daInitMap","daMapInfo","googleLoaded","importLibrary","timePeriod","map_info_length","the_map","bounds","LatLngBounds","daAddMap","latitude","longitude","marker_length","markers","show_marker","new_marker","daAddMarker","LatLng","lat","lng","fitBounds","map_num","center_lat","center_lon","mapTypeId","MapTypeId","ROADMAP","mapId","infowindow","InfoWindow","marker_info","AdvancedMarkerElement","PinElement","marker","daFillInAddress","origId","daVarLookupRev","baseVarname","componentTrans","administrative_area_level_1","administrative_area_level_2","alternatives","fieldsToClear","idForPart","the_id","field_name","exec","savedValues","toChange","addressComponents","addressType","the_address","theZipCode","location","fieldName","altList","fieldsToGet","fields","pythonVar","jsVar","underscoreToCamel","transformedObject","jsSubVar","pythonSubVar","camelToUnderscore","jsonIfObject","base_varname","componentForm","locality","sublocality","administrative_area_level_3","country","postal_code","fields_to_fill","id_for_part","getPlace","street_number","route","address_components","adr_address","business_status","formatted_address","formatted_phone_number","geometry","international_phone_number","place_id","price_level","rating","utc_offset_minutes","vicinity","website","daGeolocate","geolocation","getCurrentPosition","coords","circle","Circle","radius","accuracy","setBounds","getBounds","daRequestPending","isAndroid","daWhichButton","daSocket","daChatHistory","daCheckinCode","daCheckingIn","daShowingHelp","daIframeEmbed","daChatPartnersAvailable","daPhoneAvailable","daInitialized","daNotYetScrolled","daInformedChanged","daShowingSpinner","daSubmitter","daGAConfigured","daShowIfInProcess","daFieldsToSkip","daVarLookup","daVarLookupMulti","daVarLookupRevMulti","daVarLookupSelect","daVarLookupCheckbox","daVarLookupOption","daComboBoxes","eval","daFetchAcceptIncoming","daFetchAjaxTimeout","daFetchAjaxTimeoutRunning","daFetchAjaxTimeoutFetchAfter","daAddressAcceptIncoming","daAddressAjaxTimeout","daAddressAjaxTimeoutRunning","daAddressAjaxTimeoutCallAfter","daShowHideHappened","daCheckinInterval","daInitialCheckinTimeout","daReloader","daDisable","daAllowGoingBack","daIsUser","daUserId","daChatStatus","daChatAvailable","daChatMode","daSendChanges","daBeingControlled","daInformed","daUsingGA","daUsingSegment","daDoAction","daQuestionID","daCsrf","daComboboxButtonLabel","daInterviewUrl","daLocationBar","daPostURL","daYamlFilename","daNotificationContainer","daNotificationMessage","daMessageLog","daGetVariablesUrl","daLiveHelpMessage","daLiveHelpMessagePhone","daNewChatMessage","daLiveHelpAvailableMessage","daScreenBeingControlled","daScreenNoLongerBeingControlled","daPathRoot","daCheckinSeconds","daChatRoles","daChatPartnerRoles","daAllButtonClasses","daButtonStyle","daShouldForceFullScreen","daPageSep","daAreYouSure","daOtherUser","daOtherUsers","daOperator","daOperators","daCheckinUrl","daCheckoutUrl","daCurrencyDecimalPlaces","daShouldDebugReadabilityHelp","daShouldDebugReadabilityQuestion","daEmailAddressRequired","daNeedCompleteEmail","daDefaultPopoverTrigger","daToggleWord","daCheckinUrlWithInterview","daReloadAfterSeconds","daTrackingEnabled","dagoogleapicallback","daForceFullScreen","steps","href","defaultNumber","iValue","defaultString","sign","filler","strOut","space","asNumber","repeat","toExponential","rest","daSprintf","daGoToAnchor","scrollTarget","first","atou","utoa","unescape","dabtoa","daatob","hideTablist","anyTabs","getFields","allFields","rawFieldName","daGetFields","daAppendIfExists","theArray","getField","notInDiv","checkboxes","showifParents","select","fieldNameEscaped","possibleElements","returnVal","fieldSet","daGetField","setChoices","choices","isCombobox","comboInput","comboObject","oldComboVal","$target","$source","oldVal","clearTarget","daSetField","daSetChoices","setField","theValue","wasSet","manualSelect","theVal","newVal","changed","thisVal","cbSelected","selectedVals","da_val","daFormAsJSON","isInitial","formData","serializeArray","isChangedElem","src","daShowHelpTab","tab","addCsrfHeader","setRequestHeader","priority","empty","newElement","da_flash","url_action","action","JSON_stringify","da_url_action","action_call","forgetPrior","readOnly","_action","_arguments","beforeSend","_readonly","csrf_token","daProcessAjaxError","da_action_call","url_action_call","action_perform","daProcessAjax","da_action_perform","url_action_perform","action_perform_with_next","next_data","_next_action_to_set","da_action_perform_with_next","url_action_perform_with_next","get_interview_variables","da_get_interview_variables","daInformAbout","subject","chatMessage","waitPeriod","popover","daPublishMessage","newDiv","is_self","daScrollChat","chatScroller","daScrollChatFast","daSender","emit","daShowControl","daHideControl","daInitializeSocket","connected","connect","protocol","io","domain","query","daDisplayChat","daPushChanges","daTurnOnChat","numpartners","daCloseChat","incoming","valArray","clicked","daUnfakeHtmlResponse","daInjectTrim","daInvalidHandler","daValidator","daValidationRules","daValidationHandler","visibleElements","seen","theName","daOnChange","tableOrder","tableOrderChanges","tableName","tableChanged","collectToDelete","lastOk","last","do_iframe_upload","inline_succeeded","filesToRead","filesRead","newFileList","nullFileList","fileArray","file_list","inline_file_list","namesWithImages","the_file_input","the_max_size","the_image_type","hasImages","the_file","originalFileList","fileInfoList","file_input","max_size","image_type","image_mime_type","this_has_images","a_file","tempFunc","has_images","thisFileInfo","readerEvent","convertedName","convertedType","imageEvent","daResumeUploadSubmission","iframe","parseJSON","daShowErrorScreen","contentWindow","serialize","daSetupValidation","daRecordLocation","daSetPosition","daShowError","maximumAge","daSignatureSubmit","json","oThis","daCheckin","daObserverChangesInterval","daConnected","daUid","userid","daUserObserved","responseType","theHtml","daDivs","otherScripts","daErrorScript","errorScriptDiv","daScripts","scriptElement","reload","daShowNotifications","daAddScriptToHead","script","defer","daAddListenersFor","color","default","daRefreshSubmit","sleep","doScroll","actionURL","question_data","daQuestionData","bodyclass","do_action","livehelp","availability","roles","partner_roles","history","pushState","browser_title","replaceState","allow_going_back","id_dict","message_log","daInitialize","extra_scripts","scrollToTarget","extra_css","reload_after","daHideSpinner","daEmbeddedJs","daEmbeddedAction","confirm","actionData","theURL","daReviewAction","daRingChat","daChatLogCallback","daResetCheckinCode","daCheckinCallback","checkin_code","commands","assignments","possible_assignment","assignment","oldDaChatStatus","phone","statusChanged","chat_status","num_peers","help_available","observerControl","daCheckoutCallback","daInitialCheckin","datastring","chatstatus","chatmode","checkinCode","raw_parameters","daCheckout","daStopCheckingIn","newSpan","newI","daObserverSubmitter","theAction","embeddedJs","embeddedAction","linkNum","theId","skey","daAdjustInputWidth","leftBracket","rightBracket","daDisableIfNotHidden","showIfParent","daShowIfCompare","showIfVal","rationalizeListCollect","finalNum","firstNum","seenAddAnother","daFetchAjax","cb","doShow","wordStart","shown","wordstart","upperWordStart","emptyItem","notYetSelected","selectedValue","keyList","lookup","word","camelStr","row","isObject","varname","theSelect","cbList","theType","variable","cleanNum","replaceAll","selects","labelauty","anyChanged","firstEncountered","existing_val","combobox","buttonLabel","inputBox","daInputBox","clearIfNoMatch","functionalButton","showButton","matcher","lookupWhileTyping","thisId","Place","AutocompleteSessionToken","AutocompleteSuggestion","token","priorQuery","priorResults","request","region","sessionToken","placePrediction","toPlace","fetchFields","includedPrimaryTypes","fetchAutocompleteSuggestions","results","sugMap","suggestion","addressText","revMap","process","_attachment_email_address","daPopoverTriggerList","daPopoverTrigger","daPopoverList","daPopoverTriggerEl","informed","theCode","the_key","box","toggler","toggleClass","firstInput","inputType","strLength","setSelectionRange","firstButton","theIds","navMain","collapse","the_hash","patt","pattObj","pattRaw","checkboxName","baseName","bracketPart","transBaseName","daNameOne","daNameTwo","daNameThree","daNameBase","daTriggerQueries","daInputsSeen","daOnlyUnique","showIfDiv","jsInfo","showIfSign","showIfMode","jsExpression","infoItem","showIfVars","initShowIfVar","initShowIfVarEscaped","altShowIfVar","altShowIfVarEscaped","altElem","showIfVar","showIfVarEscaped","varToUse","showHideDiv","speed","resultt","leader","showHideDivImmediate","showHideDivFast","change","varName","endsWith","signifier","cbVarName","thisVarName","saveAs","firstChild","daTriggerAllShowHides","daUniqueTriggerQueries","daFirstTime","daTries","the_a","the_delay","daPageview","daSegmentEvent","idOfErrorSpan","lastInGroup","thefields","thename","fieldsArr","fileContainer","choice_with_help","realElement","realValue","number_needed","css_query","comparator","before_comparator","after_comparator","datetime","maxImageSize","dataLayer","gtag","idToUse","send_page_view","daSecureCookies","daGaIds","daInterviewPackage","daInterviewFilename","page_path","daStopPushChanges","daResetPushChanges","daReloadAfter","onpopstate","daDefaultAllowList","daRootUrl","daStopControlling","daConfirmed","daGotConfirmation","daAbortControlling","daNoConnectionCount","elementId","id_list","theElementId","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","development","separator","checked_label","unchecked_label","force_random_id","minimum_width","same_width","$object","use_icons","use_labels","labels","labels_object","input_id","aria_label","input_id_number","the_name","anyChecked","keydown","prevElement","min-width","label_object","unchecked_width","getRealWidth","checked_width","css_class","decode_html","messages_object","block","unchecked_message","checked_message","aria","uncheck_icon","check_icon","Combobox","$label","setup","mousedover","$button","$float","$menu","menu","sorter","highlighter","transferAttributes","listen","inputElement","detach","placeholder","triggerElement","triggerTarget","appendId","defaultVal","triggerSource","updater","render","beginswith","caseInsensitive","$1","setActive","swapActive","oldElem","newElem","clearAll","clearElement","keypress","keyup","eventSupported","fixMenuScroll","menuHeight","setActiveDescendant","suppressKeyPressRepeat","focused","$this","bsVersion","_arrayLikeToArray","_arrayWithoutHoles","_construct","_isNativeReflectConstruct","Reflect","construct","o","_setPrototypeOf","_defineProperties","enumerable","writable","_toPropertyKey","_createClass","_createForOfIteratorHelper","_unsupportedIterableToArray","F","return","_extends","_getPrototypeOf","setPrototypeOf","getPrototypeOf","_inheritsLoose","_isNativeFunction","Function","valueOf","_iterableToArray","_nonIterableSpread","_toConsumableArray","_toPrimitive","toPrimitive","_wrapNativeSuper","Wrapper","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob$1","withNativeArrayBuffer$2","isView$1","isView","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","byteOffset","byteLength","TEXT_ENCODER","encodePacketToBinary","packet","encoded","TextEncoder","encode","chars","lookup$1","decode$1","base64","bufferLength","encoded1","encoded2","encoded3","encoded4","arraybuffer","withNativeArrayBuffer$1","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","packetType","decoded","SEPARATOR","encodePayload","packets","encodedPackets","decodePayload","encodedPayload","decodedPacket","createPacketEncoderStream","TransformStream","controller","payloadLength","DataView","setUint8","view","setUint16","_view","setBigUint64","BigInt","TEXT_DECODER","totalLength","chunks","concatChunks","createPacketDecoderStream","maxPayload","expectedLength","isBinary","headerArray","getUint16","_headerArray","getUint32","protocol$1","Emitter","mixin","_callbacks","once","removeListener","removeAllListeners","emitReserved","listeners","hasListeners","nextTick","isPromiseAvailable","setTimeoutFn","globalThisShim","defaultBinaryType","createCookieJar","pick","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","clearTimeoutFn","BASE64_OVERHEAD","utf8Length","randomString","qs","qry","pairs","pair","TransportError","_Error","reason","description","_this","Transport","_Emitter","_this2","socket","forceBase64","_proto","onError","doOpen","doClose","onClose","send","onOpen","onData","onPacket","onPause","createUri","schema","_hostname","_port","_query","hostname","secure","encodedQuery","Polling","_Transport","_polling","_poll","doPoll","_this3","_this4","_this5","doWrite","uri","timestampRequests","timestampParam","sid","XMLHttpRequest","hasCORS","BaseXHR","_Polling","isSSL","xd","req","xhrStatus","pollXhr","Request","createRequest","_opts","_method","_uri","_data","_create","_proto2","_a","xdomain","_xhr","extraHeaders","setDisableHeaderCheck","cookieJar","addCookies","requestTimeout","onreadystatechange","parseCookies","getResponseHeader","_onLoad","_onError","_index","requestsCount","requests","fromError","attachEvent","unloadHandler","terminationEvent","hasXHR2","newRequest","XHR","_BaseXHR","_this6","_proto3","isReactNative","product","BaseWS","protocols","headers","ws","createSocket","addEventListeners","onopen","autoUnref","_socket","unref","onclose","onmessage","lastPacket","WebSocketCtor","WebSocket","MozWebSocket","WS","_BaseWS","_packet","WT","_transport","WebTransport","transportOptions","closed","createBidirectionalStream","stream","decoderStream","MAX_SAFE_INTEGER","readable","pipeThrough","getReader","encoderStream","pipeTo","_writer","getWriter","transports","websocket","webtransport","polling","authority","ipv6uri","pathNames","queryKey","regx","names","$0","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","listener","SocketWithoutUpgrade","writeBuffer","_prevBufferLen","_pingInterval","_pingTimeout","_maxPayload","_pingTimeoutTime","parsedUri","_transportsByName","transportName","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","closeOnBeforeunload","_beforeunloadEventListener","transport","_offlineEventListener","_onClose","_cookieJar","_open","createTransport","EIO","priorWebsocketSuccess","setTransport","_onDrain","_onPacket","flush","onHandshake","_sendPacket","_resetPingTimeout","pingInterval","pingTimeout","_pingTimeoutTimer","upgrading","_getWritablePackets","shouldCheckPayloadSize","payloadSize","_hasPingExpired","hasExpired","compress","cleanupAndClose","waitForUpgrade","tryAllTransports","SocketWithUpgrade","_SocketWithoutUpgrade","_this7","_upgrades","_probe","_this8","onTransportOpen","cleanup","freezeTransport","onTransportClose","onupgrade","_filterUpgrades","upgrades","filteredUpgrades","Socket$1","_SocketWithUpgrade","Socket","getDefaultExportFromCjs","__esModule","browser","ms","hasRequiredMs","requireMs","isFinite","fmtLong","fmtShort","msAbs","plural","isPlural","env","createDebug","coerce","humanize","skips","formatters","selectColor","colors","prevTime","enableOverride","namespacesCache","enabledCache","curr","formatArgs","logFn","useColors","namespaces","delimiter","newDebug","save","toNamespace","common","storage","localstorage","warned","__nwjs","WebkitAppearance","firebug","exception","table","lastC","setItem","removeItem","getItem","DEBUG","localStorage","browserExports","debugModule","debug$3","loc","ipv6","withNativeArrayBuffer","withNativeBlob","withNativeFile","hasBinary","toJSON","deconstructPacket","buffers","packetData","_deconstructPacket","attachments","_placeholder","newData","_newData","reconstructPacket","_reconstructPacket","isIndexValid","RESERVED_EVENTS$1","PacketType","Encoder","replacer","EVENT","ACK","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","encodeAsString","deconstruction","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","takeBinaryData","_start2","_c","payload","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","isNamespaceValid","isInteger","isAckIdValid","isDataValid","isPacketValid","parser","subDestroy","debug$2","RESERVED_EVENTS","connect_error","disconnecting","newListener","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","acks","flags","auth","_autoConnect","subEvents","subs","onpacket","_readyState","_b","_len2","_key2","retries","fromQueue","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","isConnected","discardPacket","notifyOutgoingListeners","ackTimeout","timer","_len3","_key3","withError","emitWithAck","_len4","_key4","arg1","arg2","tryCount","_len5","responseArgs","_key5","_drainQueue","force","_sendConnectPacket","_pid","_lastOffset","_clearAcks","isBuffered","sameNamespace","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","_iterator","_step","sent","_len6","_key6","emitBuffered","_compress","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","_iterator2","_step2","Backoff","jitter","duration","rand","deviation","setMin","setMax","setJitter","debug$1","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","encoder","decoder","autoConnect","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","maybeReconnectOnOpen","_reconnecting","reconnect","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_nsps","_close","onreconnect","attempt","parsed","newConnection","forceNew","multiplex"],"mappings":"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CA,uBACAkpG,KACA,IACAN,OACA,MACApf,GAAGM,gBACH,eAEJ,EACFyc,OACE,cACA,iFACA,sCACA,gBACA,eACA,eACA,cACA,eACA,eACA,SACFC,OACE,8FACA,2CACFC,SACE,uCACA,YACA,yCACA,uDACA,eACA,yEACA,+CACA,aACA,SACFE,OAASnd,GAAGmL,YAAY,kBAAkB,EAC1C+R,UAAY,2CAEZE,SACE,oDACA,8CACA,iEACA,wCACA,SAEFC,YACE,oEACA,mCAEFC,SACE,0FAEFC,WACE,gEACFiC,YAAcxf,GAAGO,SAAW,QAC5Bid,WACE,YACAxd,GAAGO,SACH,yCACA,kCACAif,YACA,WACF/B,OACE,6DACA,kCACA,mCACA,qCACA+B,YACA,qBACA,8CACA,2FACA,eACA,iCACA,+CACA,8EACA,kBACA,eACA,aACA,WACF9B,UACE,2BACA,8CACA,gGACA,qBACA,gBACA,gBACF6B,OACE,4CACA,mDACA,kDACA,SACF5B,MAAQ,6BACRC,QACE,wCACA,4DACA,2DACA,qDACA,eACA,2CACA,SACFC,SACE,+BACA,0CACA,sDACA,eACA,WACA,WACA,+BAEFC,cACE,8DACA,mEACFC,cACE,oFACA,wBACFC,gBACE,uEACA,+EACFC,YACE,0DACA,0CACFC,YACE,mFACFC,WACE,gFACFC,QACE,6FACA,qDACFC,SAAWD,QAAU,mCACrBE,SAAWF,QAAU,qDACrBG,QAAU,sCACVC,SAAW,cACXY,OAAS,WACTX,MAAQgB,aAAa,OAAQ,WAAW,EACxCd,MAAQc,aAAa,OAAQ,0BAA0B,EACvDP,KAAOO,aAAa,MAAO,iBAAiB,EAC5Cf,OACE,2FACAU,OACA,MACFR,QACE,uDACA,kEACAQ,OACA,aACFP,OACE,sDACA,+DACAO,OACA,aACFN,OACE,6DACAM,OACA,MACA,wCACApf,GAAGM,gBACH,eACFye,OACE,uFACAK,OACA,2BACA,mBACApf,GAAGM,gBACH,eACF0e,OACE,sGACAI,OACA,MACFH,QACE,6EACA,8BACAG,OACA,MACA,6CACApf,GAAGK,cACH,IACAL,G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"}